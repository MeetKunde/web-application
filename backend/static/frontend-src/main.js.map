{"version":3,"file":"main.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/canvasManager.js","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/dashboard/appearance.ts","./src/app/dashboard/canvas-manager-interface.ts","./src/app/dashboard/canvas.ts","./src/app/dashboard/dashboard.component.ts","./src/app/dashboard/dashboard.component.html","./src/app/dashboard/dependencies-presenter/dependencies-presenter.component.ts","./src/app/dashboard/dependencies-presenter/dependencies-presenter.component.html","./src/app/dashboard/dependencies-presenter/dependencies-presenter.ts","./src/app/dashboard/dependencies-presenter/display_processed_data.ts","./src/app/dashboard/shapes-creator/buttons/altitude.component.ts","./src/app/dashboard/shapes-creator/buttons/bisector.component.ts","./src/app/dashboard/shapes-creator/buttons/circle.component.ts","./src/app/dashboard/shapes-creator/buttons/circumscribed-circle.ts","./src/app/dashboard/shapes-creator/buttons/clear-canvas.component.ts","./src/app/dashboard/shapes-creator/buttons/divide-angle.component.ts","./src/app/dashboard/shapes-creator/buttons/divide-segment.component.ts","./src/app/dashboard/shapes-creator/buttons/equal-angles.ts","./src/app/dashboard/shapes-creator/buttons/equal-segments.ts","./src/app/dashboard/shapes-creator/buttons/escribed-circle.component.ts","./src/app/dashboard/shapes-creator/buttons/inscribed-circle.component.ts","./src/app/dashboard/shapes-creator/buttons/kite.component.ts","./src/app/dashboard/shapes-creator/buttons/line.component.ts","./src/app/dashboard/shapes-creator/buttons/load-scheme.component.ts","./src/app/dashboard/shapes-creator/buttons/median.component.ts","./src/app/dashboard/shapes-creator/buttons/mid-perpendicular.component.ts","./src/app/dashboard/shapes-creator/buttons/mid-segment.component.ts","./src/app/dashboard/shapes-creator/buttons/parallelism.component.ts","./src/app/dashboard/shapes-creator/buttons/parallelogram.component.ts","./src/app/dashboard/shapes-creator/buttons/perpendicularity.component.ts","./src/app/dashboard/shapes-creator/buttons/point.component.ts","./src/app/dashboard/shapes-creator/buttons/polygon.component.ts","./src/app/dashboard/shapes-creator/buttons/process-data.component.ts","./src/app/dashboard/shapes-creator/buttons/rectangle.component.ts","./src/app/dashboard/shapes-creator/buttons/rhombus.component.ts","./src/app/dashboard/shapes-creator/buttons/save-scheme.component.ts","./src/app/dashboard/shapes-creator/buttons/segment.component.ts","./src/app/dashboard/shapes-creator/buttons/semiline.component.ts","./src/app/dashboard/shapes-creator/buttons/set-angle-value.component.ts","./src/app/dashboard/shapes-creator/buttons/set-length.component.ts","./src/app/dashboard/shapes-creator/buttons/square.component.ts","./src/app/dashboard/shapes-creator/buttons/tangent-circle.component.ts","./src/app/dashboard/shapes-creator/buttons/trapezoid.component.ts","./src/app/dashboard/shapes-creator/buttons/triangle.component.ts","./src/app/dashboard/shapes-creator/complex-shape-creator/complex-shape-creator.component.ts","./src/app/dashboard/shapes-creator/complex-shape-creator/complex-shape-creator.component.html","./src/app/dashboard/shapes-creator/complex-shape-creator/complex-shapes-creator.ts","./src/app/dashboard/shapes-creator/shapes-creator.component.ts","./src/app/dashboard/shapes-creator/shapes-creator.component.html","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/services/scheme.service.ts","./src/app/services/user.service.ts","./src/environments/environment.ts","./src/main.ts","ignored|C:\\Users\\karol\\Projects\\MeetKunde\\web-application\\frontend\\src\\app|fs","ignored|C:\\Users\\karol\\Projects\\MeetKunde\\web-application\\frontend\\src\\app|path"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","\r\n\r\n// The Module object: Our interface to the outside world. We import\r\n// and export values on it. There are various ways Module can be used:\r\n// 1. Not defined. We create it here\r\n// 2. A function parameter, function(Module) { ..generated code.. }\r\n// 3. pre-run appended it, var Module = {}; ..generated code..\r\n// 4. External script tag defines var Module.\r\n// We need to check if Module already exists (e.g. case 3 above).\r\n// Substitution will be replaced with actual code on later stage of the build,\r\n// this way Closure Compiler will not mangle it (e.g. case 4. above).\r\n// Note that if you want to run closure, and also to use Module\r\n// after the generated code, you will need to define   var Module = {};\r\n// before the code. Then that object will be used in the code, and you\r\n// can continue to use Module afterwards as well.\r\nexport var Module = typeof Module != 'undefined' ? Module : {};\r\n\r\n// See https://caniuse.com/mdn-javascript_builtins_object_assign\r\n\r\n// --pre-jses are emitted after the Module integration code, so that they can\r\n// refer to Module (if they choose; they can also define Module)\r\n// {{PRE_JSES}}\r\n\r\n// Sometimes an existing Module object exists with properties\r\n// meant to overwrite the default module functionality. Here\r\n// we collect those properties and reapply _after_ we configure\r\n// the current environment's defaults to avoid having to be so\r\n// defensive during initialization.\r\nexport var moduleOverrides = Object.assign({}, Module);\r\n\r\nvar arguments_ = [];\r\nvar thisProgram = './this.program';\r\nvar quit_ = (status, toThrow) => {\r\n  throw toThrow;\r\n};\r\n\r\n// Determine the runtime environment we are in. You can customize this by\r\n// setting the ENVIRONMENT setting at compile time (see settings.js).\r\n\r\n// Attempt to auto-detect the environment\r\nvar ENVIRONMENT_IS_WEB = typeof window == 'object';\r\nvar ENVIRONMENT_IS_WORKER = typeof importScripts == 'function';\r\n// N.b. Electron.js environment is simultaneously a NODE-environment, but\r\n// also a web environment.\r\nvar ENVIRONMENT_IS_NODE = typeof process == 'object' && typeof process.versions == 'object' && typeof process.versions.node == 'string';\r\nvar ENVIRONMENT_IS_SHELL = !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\r\n\r\nif (Module['ENVIRONMENT']) {\r\n  throw new Error('Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)');\r\n}\r\n\r\n// `/` should be present at the end if `scriptDirectory` is not empty\r\nvar scriptDirectory = '';\r\nfunction locateFile(path) {\r\n  if (Module['locateFile']) {\r\n    return Module['locateFile'](path, scriptDirectory);\r\n  }\r\n  return scriptDirectory + path;\r\n}\r\n\r\n// Hooks that are implemented differently in different runtime environments.\r\nvar read_,\r\n    readAsync,\r\n    readBinary,\r\n    setWindowTitle;\r\n\r\n// Normally we don't log exceptions but instead let them bubble out the top\r\n// level where the embedding environment (e.g. the browser) can handle\r\n// them.\r\n// However under v8 and node we sometimes exit the process direcly in which case\r\n// its up to use us to log the exception before exiting.\r\n// If we fix https://github.com/emscripten-core/emscripten/issues/15080\r\n// this may no longer be needed under node.\r\nfunction logExceptionOnExit(e) {\r\n  if (e instanceof ExitStatus) return;\r\n  let toLog = e;\r\n  if (e && typeof e == 'object' && e.stack) {\r\n    toLog = [e, e.stack];\r\n  }\r\n  err('exiting due to exception: ' + toLog);\r\n}\r\n\r\nvar fs;\r\nvar nodePath;\r\nvar requireNodeFS;\r\n\r\nif (ENVIRONMENT_IS_NODE) {\r\n  if (!(typeof process == 'object' && typeof require == 'function')) throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n  if (ENVIRONMENT_IS_WORKER) {\r\n    scriptDirectory = require('path').dirname(scriptDirectory) + '/';\r\n  } else {\r\n    scriptDirectory = __dirname + '/';\r\n  }\r\n\r\n// include: node_shell_read.js\r\n\r\n\r\nrequireNodeFS = () => {\r\n  // Use nodePath as the indicator for these not being initialized,\r\n  // since in some environments a global fs may have already been\r\n  // created.\r\n  if (!nodePath) {\r\n    fs = require('fs');\r\n    nodePath = require('path');\r\n  }\r\n};\r\n\r\nread_ = function shell_read(filename, binary) {\r\n  requireNodeFS();\r\n  filename = nodePath['normalize'](filename);\r\n  return fs.readFileSync(filename, binary ? undefined : 'utf8');\r\n};\r\n\r\nreadBinary = (filename) => {\r\n  var ret = read_(filename, true);\r\n  if (!ret.buffer) {\r\n    ret = new Uint8Array(ret);\r\n  }\r\n  assert(ret.buffer);\r\n  return ret;\r\n};\r\n\r\nreadAsync = (filename, onload, onerror) => {\r\n  requireNodeFS();\r\n  filename = nodePath['normalize'](filename);\r\n  fs.readFile(filename, function(err, data) {\r\n    if (err) onerror(err);\r\n    else onload(data.buffer);\r\n  });\r\n};\r\n\r\n// end include: node_shell_read.js\r\n  if (process['argv'].length > 1) {\r\n    thisProgram = process['argv'][1].replace(/\\\\/g, '/');\r\n  }\r\n\r\n  arguments_ = process['argv'].slice(2);\r\n\r\n  if (typeof module != 'undefined') {\r\n    module['exports'] = Module;\r\n  }\r\n\r\n  process['on']('uncaughtException', function(ex) {\r\n    // suppress ExitStatus exceptions from showing an error\r\n    if (!(ex instanceof ExitStatus)) {\r\n      throw ex;\r\n    }\r\n  });\r\n\r\n  // Without this older versions of node (< v15) will log unhandled rejections\r\n  // but return 0, which is not normally the desired behaviour.  This is\r\n  // not be needed with node v15 and about because it is now the default\r\n  // behaviour:\r\n  // See https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode\r\n  process['on']('unhandledRejection', function(reason) { throw reason; });\r\n\r\n  quit_ = (status, toThrow) => {\r\n    if (keepRuntimeAlive()) {\r\n      process['exitCode'] = status;\r\n      throw toThrow;\r\n    }\r\n    logExceptionOnExit(toThrow);\r\n    process['exit'](status);\r\n  };\r\n\r\n  Module['inspect'] = function () { return '[Emscripten Module object]'; };\r\n\r\n} else\r\nif (ENVIRONMENT_IS_SHELL) {\r\n\r\n  if ((typeof process == 'object' && typeof require === 'function') || typeof window == 'object' || typeof importScripts == 'function') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n  if (typeof read != 'undefined') {\r\n    read_ = function shell_read(f) {\r\n      return read(f);\r\n    };\r\n  }\r\n\r\n  readBinary = function readBinary(f) {\r\n    let data;\r\n    if (typeof readbuffer == 'function') {\r\n      return new Uint8Array(readbuffer(f));\r\n    }\r\n    data = read(f, 'binary');\r\n    assert(typeof data == 'object');\r\n    return data;\r\n  };\r\n\r\n  readAsync = function readAsync(f, onload, onerror) {\r\n    setTimeout(() => onload(readBinary(f)), 0);\r\n  };\r\n\r\n  if (typeof scriptArgs != 'undefined') {\r\n    arguments_ = scriptArgs;\r\n  } else if (typeof arguments != 'undefined') {\r\n    arguments_ = arguments;\r\n  }\r\n\r\n  if (typeof quit == 'function') {\r\n    quit_ = (status, toThrow) => {\r\n      logExceptionOnExit(toThrow);\r\n      quit(status);\r\n    };\r\n  }\r\n\r\n  if (typeof print != 'undefined') {\r\n    // Prefer to use print/printErr where they exist, as they usually work better.\r\n    if (typeof console == 'undefined') console = /** @type{!Console} */({});\r\n    console.log = /** @type{!function(this:Console, ...*): undefined} */ (print);\r\n    console.warn = console.error = /** @type{!function(this:Console, ...*): undefined} */ (typeof printErr != 'undefined' ? printErr : print);\r\n  }\r\n\r\n} else\r\n\r\n// Note that this includes Node.js workers when relevant (pthreads is enabled).\r\n// Node.js workers are detected as a combination of ENVIRONMENT_IS_WORKER and\r\n// ENVIRONMENT_IS_NODE.\r\nif (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\r\n  if (ENVIRONMENT_IS_WORKER) { // Check worker, not web, since window could be polyfilled\r\n    scriptDirectory = self.location.href;\r\n  } else if (typeof document != 'undefined' && document.currentScript) { // web\r\n    scriptDirectory = document.currentScript.src;\r\n  }\r\n  // blob urls look like blob:http://site.com/etc/etc and we cannot infer anything from them.\r\n  // otherwise, slice off the final part of the url to find the script directory.\r\n  // if scriptDirectory does not contain a slash, lastIndexOf will return -1,\r\n  // and scriptDirectory will correctly be replaced with an empty string.\r\n  // If scriptDirectory contains a query (starting with ?) or a fragment (starting with #),\r\n  // they are removed because they could contain a slash.\r\n  if (scriptDirectory.indexOf('blob:') !== 0) {\r\n    scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, \"\").lastIndexOf('/')+1);\r\n  } else {\r\n    scriptDirectory = '';\r\n  }\r\n\r\n  if (!(typeof window == 'object' || typeof importScripts == 'function')) throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n  // Differentiate the Web Worker from the Node Worker case, as reading must\r\n  // be done differently.\r\n  {\r\n// include: web_or_worker_shell_read.js\r\n\r\n\r\n  read_ = (url) => {\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, false);\r\n      xhr.send(null);\r\n      return xhr.responseText;\r\n  }\r\n\r\n  if (ENVIRONMENT_IS_WORKER) {\r\n    readBinary = (url) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url, false);\r\n        xhr.responseType = 'arraybuffer';\r\n        xhr.send(null);\r\n        return new Uint8Array(/** @type{!ArrayBuffer} */(xhr.response));\r\n    };\r\n  }\r\n\r\n  readAsync = (url, onload, onerror) => {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url, true);\r\n    xhr.responseType = 'arraybuffer';\r\n    xhr.onload = () => {\r\n      if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0\r\n        onload(xhr.response);\r\n        return;\r\n      }\r\n      onerror();\r\n    };\r\n    xhr.onerror = onerror;\r\n    xhr.send(null);\r\n  }\r\n\r\n// end include: web_or_worker_shell_read.js\r\n  }\r\n\r\n  setWindowTitle = (title) => document.title = title;\r\n} else\r\n{\r\n  throw new Error('environment detection error');\r\n}\r\n\r\nvar out = Module['print'] || console.log.bind(console);\r\nvar err = Module['printErr'] || console.warn.bind(console);\r\n\r\n// Merge back in the overrides\r\nObject.assign(Module, moduleOverrides);\r\n// Free the object hierarchy contained in the overrides, this lets the GC\r\n// reclaim data used e.g. in memoryInitializerRequest, which is a large typed array.\r\nmoduleOverrides = null;\r\ncheckIncomingModuleAPI();\r\n\r\n// Emit code to handle expected values on the Module object. This applies Module.x\r\n// to the proper local x. This has two benefits: first, we only emit it if it is\r\n// expected to arrive, and second, by using a local everywhere else that can be\r\n// minified.\r\n\r\nif (Module['arguments']) arguments_ = Module['arguments'];legacyModuleProp('arguments', 'arguments_');\r\n\r\nif (Module['thisProgram']) thisProgram = Module['thisProgram'];legacyModuleProp('thisProgram', 'thisProgram');\r\n\r\nif (Module['quit']) quit_ = Module['quit'];legacyModuleProp('quit', 'quit_');\r\n\r\n// perform assertions in shell.js after we set up out() and err(), as otherwise if an assertion fails it cannot print the message\r\n// Assertions on removed incoming Module JS APIs.\r\nassert(typeof Module['memoryInitializerPrefixURL'] == 'undefined', 'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead');\r\nassert(typeof Module['pthreadMainPrefixURL'] == 'undefined', 'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead');\r\nassert(typeof Module['cdInitializerPrefixURL'] == 'undefined', 'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead');\r\nassert(typeof Module['filePackagePrefixURL'] == 'undefined', 'Module.filePackagePrefixURL option was removed, use Module.locateFile instead');\r\nassert(typeof Module['read'] == 'undefined', 'Module.read option was removed (modify read_ in JS)');\r\nassert(typeof Module['readAsync'] == 'undefined', 'Module.readAsync option was removed (modify readAsync in JS)');\r\nassert(typeof Module['readBinary'] == 'undefined', 'Module.readBinary option was removed (modify readBinary in JS)');\r\nassert(typeof Module['setWindowTitle'] == 'undefined', 'Module.setWindowTitle option was removed (modify setWindowTitle in JS)');\r\nassert(typeof Module['TOTAL_MEMORY'] == 'undefined', 'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY');\r\nlegacyModuleProp('read', 'read_');\r\nlegacyModuleProp('readAsync', 'readAsync');\r\nlegacyModuleProp('readBinary', 'readBinary');\r\nlegacyModuleProp('setWindowTitle', 'setWindowTitle');\r\nvar IDBFS = 'IDBFS is no longer included by default; build with -lidbfs.js';\r\nvar PROXYFS = 'PROXYFS is no longer included by default; build with -lproxyfs.js';\r\nvar WORKERFS = 'WORKERFS is no longer included by default; build with -lworkerfs.js';\r\nvar NODEFS = 'NODEFS is no longer included by default; build with -lnodefs.js';\r\n\r\n\r\nassert(!ENVIRONMENT_IS_SHELL, \"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.\");\r\n\r\n\r\n\r\n\r\nvar STACK_ALIGN = 16;\r\nvar POINTER_SIZE = 4;\r\n\r\nfunction getNativeTypeSize(type) {\r\n  switch (type) {\r\n    case 'i1': case 'i8': return 1;\r\n    case 'i16': return 2;\r\n    case 'i32': return 4;\r\n    case 'i64': return 8;\r\n    case 'float': return 4;\r\n    case 'double': return 8;\r\n    default: {\r\n      if (type[type.length - 1] === '*') {\r\n        return POINTER_SIZE;\r\n      } else if (type[0] === 'i') {\r\n        const bits = Number(type.substr(1));\r\n        assert(bits % 8 === 0, 'getNativeTypeSize invalid bits ' + bits + ', type ' + type);\r\n        return bits / 8;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction warnOnce(text) {\r\n  if (!warnOnce.shown) warnOnce.shown = {};\r\n  if (!warnOnce.shown[text]) {\r\n    warnOnce.shown[text] = 1;\r\n    err(text);\r\n  }\r\n}\r\n\r\n// include: runtime_functions.js\r\n\r\n\r\n// Wraps a JS function as a wasm function with a given signature.\r\nfunction convertJsFunctionToWasm(func, sig) {\r\n\r\n  // If the type reflection proposal is available, use the new\r\n  // \"WebAssembly.Function\" constructor.\r\n  // Otherwise, construct a minimal wasm module importing the JS function and\r\n  // re-exporting it.\r\n  if (typeof WebAssembly.Function == \"function\") {\r\n    var typeNames = {\r\n      'i': 'i32',\r\n      'j': 'i64',\r\n      'f': 'f32',\r\n      'd': 'f64'\r\n    };\r\n    var type = {\r\n      parameters: [],\r\n      results: sig[0] == 'v' ? [] : [typeNames[sig[0]]]\r\n    };\r\n    for (var i = 1; i < sig.length; ++i) {\r\n      type.parameters.push(typeNames[sig[i]]);\r\n    }\r\n    return new WebAssembly.Function(type, func);\r\n  }\r\n\r\n  // The module is static, with the exception of the type section, which is\r\n  // generated based on the signature passed in.\r\n  var typeSection = [\r\n    0x01, // id: section,\r\n    0x00, // length: 0 (placeholder)\r\n    0x01, // count: 1\r\n    0x60, // form: func\r\n  ];\r\n  var sigRet = sig.slice(0, 1);\r\n  var sigParam = sig.slice(1);\r\n  var typeCodes = {\r\n    'i': 0x7f, // i32\r\n    'j': 0x7e, // i64\r\n    'f': 0x7d, // f32\r\n    'd': 0x7c, // f64\r\n  };\r\n\r\n  // Parameters, length + signatures\r\n  typeSection.push(sigParam.length);\r\n  for (var i = 0; i < sigParam.length; ++i) {\r\n    typeSection.push(typeCodes[sigParam[i]]);\r\n  }\r\n\r\n  // Return values, length + signatures\r\n  // With no multi-return in MVP, either 0 (void) or 1 (anything else)\r\n  if (sigRet == 'v') {\r\n    typeSection.push(0x00);\r\n  } else {\r\n    typeSection = typeSection.concat([0x01, typeCodes[sigRet]]);\r\n  }\r\n\r\n  // Write the overall length of the type section back into the section header\r\n  // (excepting the 2 bytes for the section id and length)\r\n  typeSection[1] = typeSection.length - 2;\r\n\r\n  // Rest of the module is static\r\n  var bytes = new Uint8Array([\r\n    0x00, 0x61, 0x73, 0x6d, // magic (\"\\0asm\")\r\n    0x01, 0x00, 0x00, 0x00, // version: 1\r\n  ].concat(typeSection, [\r\n    0x02, 0x07, // import section\r\n      // (import \"e\" \"f\" (func 0 (type 0)))\r\n      0x01, 0x01, 0x65, 0x01, 0x66, 0x00, 0x00,\r\n    0x07, 0x05, // export section\r\n      // (export \"f\" (func 0 (type 0)))\r\n      0x01, 0x01, 0x66, 0x00, 0x00,\r\n  ]));\r\n\r\n   // We can compile this wasm module synchronously because it is very small.\r\n  // This accepts an import (at \"e.f\"), that it reroutes to an export (at \"f\")\r\n  var module = new WebAssembly.Module(bytes);\r\n  var instance = new WebAssembly.Instance(module, {\r\n    'e': {\r\n      'f': func\r\n    }\r\n  });\r\n  var wrappedFunc = instance.exports['f'];\r\n  return wrappedFunc;\r\n}\r\n\r\nvar freeTableIndexes = [];\r\n\r\n// Weak map of functions in the table to their indexes, created on first use.\r\nvar functionsInTableMap;\r\n\r\nfunction getEmptyTableSlot() {\r\n  // Reuse a free index if there is one, otherwise grow.\r\n  if (freeTableIndexes.length) {\r\n    return freeTableIndexes.pop();\r\n  }\r\n  // Grow the table\r\n  try {\r\n    wasmTable.grow(1);\r\n  } catch (err) {\r\n    if (!(err instanceof RangeError)) {\r\n      throw err;\r\n    }\r\n    throw 'Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.';\r\n  }\r\n  return wasmTable.length - 1;\r\n}\r\n\r\nfunction updateTableMap(offset, count) {\r\n  for (var i = offset; i < offset + count; i++) {\r\n    var item = getWasmTableEntry(i);\r\n    // Ignore null values.\r\n    if (item) {\r\n      functionsInTableMap.set(item, i);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Add a function to the table.\r\n * 'sig' parameter is required if the function being added is a JS function.\r\n * @param {string=} sig\r\n */\r\nfunction addFunction(func, sig) {\r\n  assert(typeof func != 'undefined');\r\n\r\n  // Check if the function is already in the table, to ensure each function\r\n  // gets a unique index. First, create the map if this is the first use.\r\n  if (!functionsInTableMap) {\r\n    functionsInTableMap = new WeakMap();\r\n    updateTableMap(0, wasmTable.length);\r\n  }\r\n  if (functionsInTableMap.has(func)) {\r\n    return functionsInTableMap.get(func);\r\n  }\r\n\r\n  // It's not in the table, add it now.\r\n\r\n  var ret = getEmptyTableSlot();\r\n\r\n  // Set the new value.\r\n  try {\r\n    // Attempting to call this with JS function will cause of table.set() to fail\r\n    setWasmTableEntry(ret, func);\r\n  } catch (err) {\r\n    if (!(err instanceof TypeError)) {\r\n      throw err;\r\n    }\r\n    assert(typeof sig != 'undefined', 'Missing signature argument to addFunction: ' + func);\r\n    var wrapped = convertJsFunctionToWasm(func, sig);\r\n    setWasmTableEntry(ret, wrapped);\r\n  }\r\n\r\n  functionsInTableMap.set(func, ret);\r\n\r\n  return ret;\r\n}\r\n\r\nfunction removeFunction(index) {\r\n  functionsInTableMap.delete(getWasmTableEntry(index));\r\n  freeTableIndexes.push(index);\r\n}\r\n\r\n// end include: runtime_functions.js\r\n// include: runtime_debug.js\r\n\r\n\r\nfunction legacyModuleProp(prop, newName) {\r\n  if (!Object.getOwnPropertyDescriptor(Module, prop)) {\r\n    Object.defineProperty(Module, prop, {\r\n      configurable: true,\r\n      get: function() {\r\n        abort('Module.' + prop + ' has been replaced with plain ' + newName + ' (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction ignoredModuleProp(prop) {\r\n  if (Object.getOwnPropertyDescriptor(Module, prop)) {\r\n    abort('`Module.' + prop + '` was supplied but `' + prop + '` not included in INCOMING_MODULE_JS_API');\r\n  }\r\n}\r\n\r\nfunction unexportedMessage(sym, isFSSybol) {\r\n  var msg = \"'\" + sym + \"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)\";\r\n  if (isFSSybol) {\r\n    msg += '. Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you';\r\n  }\r\n  return msg;\r\n}\r\n\r\nfunction unexportedRuntimeSymbol(sym, isFSSybol) {\r\n  if (!Object.getOwnPropertyDescriptor(Module, sym)) {\r\n    Object.defineProperty(Module, sym, {\r\n      configurable: true,\r\n      get: function() {\r\n        abort(unexportedMessage(sym, isFSSybol));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction unexportedRuntimeFunction(sym, isFSSybol) {\r\n  if (!Object.getOwnPropertyDescriptor(Module, sym)) {\r\n    Module[sym] = () => abort(unexportedMessage(sym, isFSSybol));\r\n  }\r\n}\r\n\r\n// end include: runtime_debug.js\r\nvar tempRet0 = 0;\r\nvar setTempRet0 = (value) => { tempRet0 = value; };\r\nvar getTempRet0 = () => tempRet0;\r\n\r\n\r\n\r\n// === Preamble library stuff ===\r\n\r\n// Documentation for the public APIs defined in this file must be updated in:\r\n//    site/source/docs/api_reference/preamble.js.rst\r\n// A prebuilt local version of the documentation is available at:\r\n//    site/build/text/docs/api_reference/preamble.js.txt\r\n// You can also build docs locally as HTML or other formats in site/\r\n// An online HTML version (which may be of a different version of Emscripten)\r\n//    is up at http://kripken.github.io/emscripten-site/docs/api_reference/preamble.js.html\r\n\r\nvar wasmBinary;\r\nif (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];legacyModuleProp('wasmBinary', 'wasmBinary');\r\nvar noExitRuntime = Module['noExitRuntime'] || true;legacyModuleProp('noExitRuntime', 'noExitRuntime');\r\n\r\nif (typeof WebAssembly != 'object') {\r\n  abort('no native wasm support detected');\r\n}\r\n\r\n// include: runtime_safe_heap.js\r\n\r\n\r\n// In MINIMAL_RUNTIME, setValue() and getValue() are only available when building with safe heap enabled, for heap safety checking.\r\n// In traditional runtime, setValue() and getValue() are always available (although their use is highly discouraged due to perf penalties)\r\n\r\n/** @param {number} ptr\r\n    @param {number} value\r\n    @param {string} type\r\n    @param {number|boolean=} noSafe */\r\nfunction setValue(ptr, value, type = 'i8', noSafe) {\r\n  if (type.charAt(type.length-1) === '*') type = 'i32';\r\n    switch (type) {\r\n      case 'i1': HEAP8[((ptr)>>0)] = value; break;\r\n      case 'i8': HEAP8[((ptr)>>0)] = value; break;\r\n      case 'i16': HEAP16[((ptr)>>1)] = value; break;\r\n      case 'i32': HEAP32[((ptr)>>2)] = value; break;\r\n      case 'i64': (tempI64 = [value>>>0,(tempDouble=value,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? ((Math.min((+(Math.floor((tempDouble)/4294967296.0))), 4294967295.0))|0)>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)],HEAP32[((ptr)>>2)] = tempI64[0],HEAP32[(((ptr)+(4))>>2)] = tempI64[1]); break;\r\n      case 'float': HEAPF32[((ptr)>>2)] = value; break;\r\n      case 'double': HEAPF64[((ptr)>>3)] = value; break;\r\n      default: abort('invalid type for setValue: ' + type);\r\n    }\r\n}\r\n\r\n/** @param {number} ptr\r\n    @param {string} type\r\n    @param {number|boolean=} noSafe */\r\nfunction getValue(ptr, type = 'i8', noSafe) {\r\n  if (type.charAt(type.length-1) === '*') type = 'i32';\r\n    switch (type) {\r\n      case 'i1': return HEAP8[((ptr)>>0)];\r\n      case 'i8': return HEAP8[((ptr)>>0)];\r\n      case 'i16': return HEAP16[((ptr)>>1)];\r\n      case 'i32': return HEAP32[((ptr)>>2)];\r\n      case 'i64': return HEAP32[((ptr)>>2)];\r\n      case 'float': return HEAPF32[((ptr)>>2)];\r\n      case 'double': return Number(HEAPF64[((ptr)>>3)]);\r\n      default: abort('invalid type for getValue: ' + type);\r\n    }\r\n  return null;\r\n}\r\n\r\n// end include: runtime_safe_heap.js\r\n// Wasm globals\r\n\r\nvar wasmMemory;\r\n\r\n//========================================\r\n// Runtime essentials\r\n//========================================\r\n\r\n// whether we are quitting the application. no code should run after this.\r\n// set in exit() and abort()\r\nvar ABORT = false;\r\n\r\n// set by exit() and abort().  Passed to 'onExit' handler.\r\n// NOTE: This is also used as the process return code code in shell environments\r\n// but only when noExitRuntime is false.\r\nvar EXITSTATUS;\r\n\r\n/** @type {function(*, string=)} */\r\nfunction assert(condition, text) {\r\n  if (!condition) {\r\n    abort('Assertion failed' + (text ? ': ' + text : ''));\r\n  }\r\n}\r\n\r\n// Returns the C function with a specified identifier (for C++, you need to do manual name mangling)\r\nfunction getCFunc(ident) {\r\n  var func = Module['_' + ident]; // closure exported function\r\n  assert(func, 'Cannot call unknown function ' + ident + ', make sure it is exported');\r\n  return func;\r\n}\r\n\r\n// C calling interface.\r\n/** @param {string|null=} returnType\r\n    @param {Array=} argTypes\r\n    @param {Arguments|Array=} args\r\n    @param {Object=} opts */\r\nfunction ccall(ident, returnType, argTypes, args, opts) {\r\n  // For fast lookup of conversion functions\r\n  var toC = {\r\n    'string': function(str) {\r\n      var ret = 0;\r\n      if (str !== null && str !== undefined && str !== 0) { // null string\r\n        // at most 4 bytes per UTF-8 code point, +1 for the trailing '\\0'\r\n        var len = (str.length << 2) + 1;\r\n        ret = stackAlloc(len);\r\n        stringToUTF8(str, ret, len);\r\n      }\r\n      return ret;\r\n    },\r\n    'array': function(arr) {\r\n      var ret = stackAlloc(arr.length);\r\n      writeArrayToMemory(arr, ret);\r\n      return ret;\r\n    }\r\n  };\r\n\r\n  function convertReturnValue(ret) {\r\n    if (returnType === 'string') return UTF8ToString(ret);\r\n    if (returnType === 'boolean') return Boolean(ret);\r\n    return ret;\r\n  }\r\n\r\n  var func = getCFunc(ident);\r\n  var cArgs = [];\r\n  var stack = 0;\r\n  assert(returnType !== 'array', 'Return type should not be \"array\".');\r\n  if (args) {\r\n    for (var i = 0; i < args.length; i++) {\r\n      var converter = toC[argTypes[i]];\r\n      if (converter) {\r\n        if (stack === 0) stack = stackSave();\r\n        cArgs[i] = converter(args[i]);\r\n      } else {\r\n        cArgs[i] = args[i];\r\n      }\r\n    }\r\n  }\r\n  var ret = func.apply(null, cArgs);\r\n  function onDone(ret) {\r\n    if (stack !== 0) stackRestore(stack);\r\n    return convertReturnValue(ret);\r\n  }\r\n\r\n  ret = onDone(ret);\r\n  return ret;\r\n}\r\n\r\n/** @param {string=} returnType\r\n    @param {Array=} argTypes\r\n    @param {Object=} opts */\r\nfunction cwrap(ident, returnType, argTypes, opts) {\r\n  return function() {\r\n    return ccall(ident, returnType, argTypes, arguments, opts);\r\n  }\r\n}\r\n\r\n// We used to include malloc/free by default in the past. Show a helpful error in\r\n// builds with assertions.\r\n\r\n// include: runtime_legacy.js\r\n\r\n\r\nvar ALLOC_NORMAL = 0; // Tries to use _malloc()\r\nvar ALLOC_STACK = 1; // Lives for the duration of the current function call\r\n\r\n/**\r\n * allocate(): This function is no longer used by emscripten but is kept around to avoid\r\n *             breaking external users.\r\n *             You should normally not use allocate(), and instead allocate\r\n *             memory using _malloc()/stackAlloc(), initialize it with\r\n *             setValue(), and so forth.\r\n * @param {(Uint8Array|Array<number>)} slab: An array of data.\r\n * @param {number=} allocator : How to allocate memory, see ALLOC_*\r\n */\r\nfunction allocate(slab, allocator) {\r\n  var ret;\r\n  assert(typeof allocator == 'number', 'allocate no longer takes a type argument')\r\n  assert(typeof slab != 'number', 'allocate no longer takes a number as arg0')\r\n\r\n  if (allocator == ALLOC_STACK) {\r\n    ret = stackAlloc(slab.length);\r\n  } else {\r\n    ret = _malloc(slab.length);\r\n  }\r\n\r\n  if (!slab.subarray && !slab.slice) {\r\n    slab = new Uint8Array(slab);\r\n  }\r\n  HEAPU8.set(slab, ret);\r\n  return ret;\r\n}\r\n\r\n// end include: runtime_legacy.js\r\n// include: runtime_strings.js\r\n\r\n\r\n// runtime_strings.js: Strings related runtime functions that are part of both MINIMAL_RUNTIME and regular runtime.\r\n\r\nvar UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\r\n\r\n// Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the given array that contains uint8 values, returns\r\n// a copy of that string as a Javascript String object.\r\n/**\r\n * heapOrArray is either a regular array, or a JavaScript typed array view.\r\n * @param {number} idx\r\n * @param {number=} maxBytesToRead\r\n * @return {string}\r\n */\r\nfunction UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\r\n  var endIdx = idx + maxBytesToRead;\r\n  var endPtr = idx;\r\n  // TextDecoder needs to know the byte length in advance, it doesn't stop on null terminator by itself.\r\n  // Also, use the length info to avoid running tiny strings through TextDecoder, since .subarray() allocates garbage.\r\n  // (As a tiny code save trick, compare endPtr against endIdx using a negation, so that undefined means Infinity)\r\n  while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\r\n\r\n  if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\r\n    return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\r\n  } else {\r\n    var str = '';\r\n    // If building with TextDecoder, we have already computed the string length above, so test loop end condition against that\r\n    while (idx < endPtr) {\r\n      // For UTF8 byte structure, see:\r\n      // http://en.wikipedia.org/wiki/UTF-8#Description\r\n      // https://www.ietf.org/rfc/rfc2279.txt\r\n      // https://tools.ietf.org/html/rfc3629\r\n      var u0 = heapOrArray[idx++];\r\n      if (!(u0 & 0x80)) { str += String.fromCharCode(u0); continue; }\r\n      var u1 = heapOrArray[idx++] & 63;\r\n      if ((u0 & 0xE0) == 0xC0) { str += String.fromCharCode(((u0 & 31) << 6) | u1); continue; }\r\n      var u2 = heapOrArray[idx++] & 63;\r\n      if ((u0 & 0xF0) == 0xE0) {\r\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\r\n      } else {\r\n        if ((u0 & 0xF8) != 0xF0) warnOnce('Invalid UTF-8 leading byte 0x' + u0.toString(16) + ' encountered when deserializing a UTF-8 string in wasm memory to a JS string!');\r\n        u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\r\n      }\r\n\r\n      if (u0 < 0x10000) {\r\n        str += String.fromCharCode(u0);\r\n      } else {\r\n        var ch = u0 - 0x10000;\r\n        str += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n      }\r\n    }\r\n  }\r\n  return str;\r\n}\r\n\r\n// Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the emscripten HEAP, returns a\r\n// copy of that string as a Javascript String object.\r\n// maxBytesToRead: an optional length that specifies the maximum number of bytes to read. You can omit\r\n//                 this parameter to scan the string until the first \\0 byte. If maxBytesToRead is\r\n//                 passed, and the string at [ptr, ptr+maxBytesToReadr[ contains a null byte in the\r\n//                 middle, then the string will cut short at that byte index (i.e. maxBytesToRead will\r\n//                 not produce a string of exact length [ptr, ptr+maxBytesToRead[)\r\n//                 N.B. mixing frequent uses of UTF8ToString() with and without maxBytesToRead may\r\n//                 throw JS JIT optimizations off, so it is worth to consider consistently using one\r\n//                 style or the other.\r\n/**\r\n * @param {number} ptr\r\n * @param {number=} maxBytesToRead\r\n * @return {string}\r\n */\r\nfunction UTF8ToString(ptr, maxBytesToRead) {\r\n  ;\r\n  return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\r\n}\r\n\r\n// Copies the given Javascript String object 'str' to the given byte array at address 'outIdx',\r\n// encoded in UTF8 form and null-terminated. The copy will require at most str.length*4+1 bytes of space in the HEAP.\r\n// Use the function lengthBytesUTF8 to compute the exact number of bytes (excluding null terminator) that this function will write.\r\n// Parameters:\r\n//   str: the Javascript string to copy.\r\n//   heap: the array to copy to. Each index in this array is assumed to be one 8-byte element.\r\n//   outIdx: The starting offset in the array to begin the copying.\r\n//   maxBytesToWrite: The maximum number of bytes this function can write to the array.\r\n//                    This count should include the null terminator,\r\n//                    i.e. if maxBytesToWrite=1, only the null terminator will be written and nothing else.\r\n//                    maxBytesToWrite=0 does not write any bytes to the output, not even the null terminator.\r\n// Returns the number of bytes written, EXCLUDING the null terminator.\r\n\r\nfunction stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {\r\n  if (!(maxBytesToWrite > 0)) // Parameter maxBytesToWrite is not optional. Negative values, 0, null, undefined and false each don't write out any bytes.\r\n    return 0;\r\n\r\n  var startIdx = outIdx;\r\n  var endIdx = outIdx + maxBytesToWrite - 1; // -1 for string null terminator.\r\n  for (var i = 0; i < str.length; ++i) {\r\n    // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! So decode UTF16->UTF32->UTF8.\r\n    // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n    // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description and https://www.ietf.org/rfc/rfc2279.txt and https://tools.ietf.org/html/rfc3629\r\n    var u = str.charCodeAt(i); // possibly a lead surrogate\r\n    if (u >= 0xD800 && u <= 0xDFFF) {\r\n      var u1 = str.charCodeAt(++i);\r\n      u = 0x10000 + ((u & 0x3FF) << 10) | (u1 & 0x3FF);\r\n    }\r\n    if (u <= 0x7F) {\r\n      if (outIdx >= endIdx) break;\r\n      heap[outIdx++] = u;\r\n    } else if (u <= 0x7FF) {\r\n      if (outIdx + 1 >= endIdx) break;\r\n      heap[outIdx++] = 0xC0 | (u >> 6);\r\n      heap[outIdx++] = 0x80 | (u & 63);\r\n    } else if (u <= 0xFFFF) {\r\n      if (outIdx + 2 >= endIdx) break;\r\n      heap[outIdx++] = 0xE0 | (u >> 12);\r\n      heap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n      heap[outIdx++] = 0x80 | (u & 63);\r\n    } else {\r\n      if (outIdx + 3 >= endIdx) break;\r\n      if (u > 0x10FFFF) warnOnce('Invalid Unicode code point 0x' + u.toString(16) + ' encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).');\r\n      heap[outIdx++] = 0xF0 | (u >> 18);\r\n      heap[outIdx++] = 0x80 | ((u >> 12) & 63);\r\n      heap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n      heap[outIdx++] = 0x80 | (u & 63);\r\n    }\r\n  }\r\n  // Null-terminate the pointer to the buffer.\r\n  heap[outIdx] = 0;\r\n  return outIdx - startIdx;\r\n}\r\n\r\n// Copies the given Javascript String object 'str' to the emscripten HEAP at address 'outPtr',\r\n// null-terminated and encoded in UTF8 form. The copy will require at most str.length*4+1 bytes of space in the HEAP.\r\n// Use the function lengthBytesUTF8 to compute the exact number of bytes (excluding null terminator) that this function will write.\r\n// Returns the number of bytes written, EXCLUDING the null terminator.\r\n\r\nfunction stringToUTF8(str, outPtr, maxBytesToWrite) {\r\n  assert(typeof maxBytesToWrite == 'number', 'stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n  return stringToUTF8Array(str, HEAPU8,outPtr, maxBytesToWrite);\r\n}\r\n\r\n// Returns the number of bytes the given Javascript string takes if encoded as a UTF8 byte array, EXCLUDING the null terminator byte.\r\nfunction lengthBytesUTF8(str) {\r\n  var len = 0;\r\n  for (var i = 0; i < str.length; ++i) {\r\n    // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! So decode UTF16->UTF32->UTF8.\r\n    // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n    var u = str.charCodeAt(i); // possibly a lead surrogate\r\n    if (u >= 0xD800 && u <= 0xDFFF) u = 0x10000 + ((u & 0x3FF) << 10) | (str.charCodeAt(++i) & 0x3FF);\r\n    if (u <= 0x7F) ++len;\r\n    else if (u <= 0x7FF) len += 2;\r\n    else if (u <= 0xFFFF) len += 3;\r\n    else len += 4;\r\n  }\r\n  return len;\r\n}\r\n\r\n// end include: runtime_strings.js\r\n// include: runtime_strings_extra.js\r\n\r\n\r\n// runtime_strings_extra.js: Strings related runtime functions that are available only in regular runtime.\r\n\r\n// Given a pointer 'ptr' to a null-terminated ASCII-encoded string in the emscripten HEAP, returns\r\n// a copy of that string as a Javascript String object.\r\n\r\nfunction AsciiToString(ptr) {\r\n  var str = '';\r\n  while (1) {\r\n    var ch = HEAPU8[((ptr++)>>0)];\r\n    if (!ch) return str;\r\n    str += String.fromCharCode(ch);\r\n  }\r\n}\r\n\r\n// Copies the given Javascript String object 'str' to the emscripten HEAP at address 'outPtr',\r\n// null-terminated and encoded in ASCII form. The copy will require at most str.length+1 bytes of space in the HEAP.\r\n\r\nfunction stringToAscii(str, outPtr) {\r\n  return writeAsciiToMemory(str, outPtr, false);\r\n}\r\n\r\n// Given a pointer 'ptr' to a null-terminated UTF16LE-encoded string in the emscripten HEAP, returns\r\n// a copy of that string as a Javascript String object.\r\n\r\nvar UTF16Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf-16le') : undefined;\r\n\r\nfunction UTF16ToString(ptr, maxBytesToRead) {\r\n  assert(ptr % 2 == 0, 'Pointer passed to UTF16ToString must be aligned to two bytes!');\r\n  var endPtr = ptr;\r\n  // TextDecoder needs to know the byte length in advance, it doesn't stop on null terminator by itself.\r\n  // Also, use the length info to avoid running tiny strings through TextDecoder, since .subarray() allocates garbage.\r\n  var idx = endPtr >> 1;\r\n  var maxIdx = idx + maxBytesToRead / 2;\r\n  // If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n  // will always evaluate to true. This saves on code size.\r\n  while (!(idx >= maxIdx) && HEAPU16[idx]) ++idx;\r\n  endPtr = idx << 1;\r\n\r\n  if (endPtr - ptr > 32 && UTF16Decoder) {\r\n    return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));\r\n  } else {\r\n    var str = '';\r\n\r\n    // If maxBytesToRead is not passed explicitly, it will be undefined, and the for-loop's condition\r\n    // will always evaluate to true. The loop is then terminated on the first null char.\r\n    for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {\r\n      var codeUnit = HEAP16[(((ptr)+(i*2))>>1)];\r\n      if (codeUnit == 0) break;\r\n      // fromCharCode constructs a character from a UTF-16 code unit, so we can pass the UTF16 string right through.\r\n      str += String.fromCharCode(codeUnit);\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n\r\n// Copies the given Javascript String object 'str' to the emscripten HEAP at address 'outPtr',\r\n// null-terminated and encoded in UTF16 form. The copy will require at most str.length*4+2 bytes of space in the HEAP.\r\n// Use the function lengthBytesUTF16() to compute the exact number of bytes (excluding null terminator) that this function will write.\r\n// Parameters:\r\n//   str: the Javascript string to copy.\r\n//   outPtr: Byte address in Emscripten HEAP where to write the string to.\r\n//   maxBytesToWrite: The maximum number of bytes this function can write to the array. This count should include the null\r\n//                    terminator, i.e. if maxBytesToWrite=2, only the null terminator will be written and nothing else.\r\n//                    maxBytesToWrite<2 does not write any bytes to the output, not even the null terminator.\r\n// Returns the number of bytes written, EXCLUDING the null terminator.\r\n\r\nfunction stringToUTF16(str, outPtr, maxBytesToWrite) {\r\n  assert(outPtr % 2 == 0, 'Pointer passed to stringToUTF16 must be aligned to two bytes!');\r\n  assert(typeof maxBytesToWrite == 'number', 'stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n  // Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n  if (maxBytesToWrite === undefined) {\r\n    maxBytesToWrite = 0x7FFFFFFF;\r\n  }\r\n  if (maxBytesToWrite < 2) return 0;\r\n  maxBytesToWrite -= 2; // Null terminator.\r\n  var startPtr = outPtr;\r\n  var numCharsToWrite = (maxBytesToWrite < str.length*2) ? (maxBytesToWrite / 2) : str.length;\r\n  for (var i = 0; i < numCharsToWrite; ++i) {\r\n    // charCodeAt returns a UTF-16 encoded code unit, so it can be directly written to the HEAP.\r\n    var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n    HEAP16[((outPtr)>>1)] = codeUnit;\r\n    outPtr += 2;\r\n  }\r\n  // Null-terminate the pointer to the HEAP.\r\n  HEAP16[((outPtr)>>1)] = 0;\r\n  return outPtr - startPtr;\r\n}\r\n\r\n// Returns the number of bytes the given Javascript string takes if encoded as a UTF16 byte array, EXCLUDING the null terminator byte.\r\n\r\nfunction lengthBytesUTF16(str) {\r\n  return str.length*2;\r\n}\r\n\r\nfunction UTF32ToString(ptr, maxBytesToRead) {\r\n  assert(ptr % 4 == 0, 'Pointer passed to UTF32ToString must be aligned to four bytes!');\r\n  var i = 0;\r\n\r\n  var str = '';\r\n  // If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n  // will always evaluate to true. This saves on code size.\r\n  while (!(i >= maxBytesToRead / 4)) {\r\n    var utf32 = HEAP32[(((ptr)+(i*4))>>2)];\r\n    if (utf32 == 0) break;\r\n    ++i;\r\n    // Gotcha: fromCharCode constructs a character from a UTF-16 encoded code (pair), not from a Unicode code point! So encode the code point to UTF-16 for constructing.\r\n    // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n    if (utf32 >= 0x10000) {\r\n      var ch = utf32 - 0x10000;\r\n      str += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n    } else {\r\n      str += String.fromCharCode(utf32);\r\n    }\r\n  }\r\n  return str;\r\n}\r\n\r\n// Copies the given Javascript String object 'str' to the emscripten HEAP at address 'outPtr',\r\n// null-terminated and encoded in UTF32 form. The copy will require at most str.length*4+4 bytes of space in the HEAP.\r\n// Use the function lengthBytesUTF32() to compute the exact number of bytes (excluding null terminator) that this function will write.\r\n// Parameters:\r\n//   str: the Javascript string to copy.\r\n//   outPtr: Byte address in Emscripten HEAP where to write the string to.\r\n//   maxBytesToWrite: The maximum number of bytes this function can write to the array. This count should include the null\r\n//                    terminator, i.e. if maxBytesToWrite=4, only the null terminator will be written and nothing else.\r\n//                    maxBytesToWrite<4 does not write any bytes to the output, not even the null terminator.\r\n// Returns the number of bytes written, EXCLUDING the null terminator.\r\n\r\nfunction stringToUTF32(str, outPtr, maxBytesToWrite) {\r\n  assert(outPtr % 4 == 0, 'Pointer passed to stringToUTF32 must be aligned to four bytes!');\r\n  assert(typeof maxBytesToWrite == 'number', 'stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n  // Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n  if (maxBytesToWrite === undefined) {\r\n    maxBytesToWrite = 0x7FFFFFFF;\r\n  }\r\n  if (maxBytesToWrite < 4) return 0;\r\n  var startPtr = outPtr;\r\n  var endPtr = startPtr + maxBytesToWrite - 4;\r\n  for (var i = 0; i < str.length; ++i) {\r\n    // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n    // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n    var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n    if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) {\r\n      var trailSurrogate = str.charCodeAt(++i);\r\n      codeUnit = 0x10000 + ((codeUnit & 0x3FF) << 10) | (trailSurrogate & 0x3FF);\r\n    }\r\n    HEAP32[((outPtr)>>2)] = codeUnit;\r\n    outPtr += 4;\r\n    if (outPtr + 4 > endPtr) break;\r\n  }\r\n  // Null-terminate the pointer to the HEAP.\r\n  HEAP32[((outPtr)>>2)] = 0;\r\n  return outPtr - startPtr;\r\n}\r\n\r\n// Returns the number of bytes the given Javascript string takes if encoded as a UTF16 byte array, EXCLUDING the null terminator byte.\r\n\r\nfunction lengthBytesUTF32(str) {\r\n  var len = 0;\r\n  for (var i = 0; i < str.length; ++i) {\r\n    // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n    // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n    var codeUnit = str.charCodeAt(i);\r\n    if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) ++i; // possibly a lead surrogate, so skip over the tail surrogate.\r\n    len += 4;\r\n  }\r\n\r\n  return len;\r\n}\r\n\r\n// Allocate heap space for a JS string, and write it there.\r\n// It is the responsibility of the caller to free() that memory.\r\nfunction allocateUTF8(str) {\r\n  var size = lengthBytesUTF8(str) + 1;\r\n  var ret = _malloc(size);\r\n  if (ret) stringToUTF8Array(str, HEAP8, ret, size);\r\n  return ret;\r\n}\r\n\r\n// Allocate stack space for a JS string, and write it there.\r\nfunction allocateUTF8OnStack(str) {\r\n  var size = lengthBytesUTF8(str) + 1;\r\n  var ret = stackAlloc(size);\r\n  stringToUTF8Array(str, HEAP8, ret, size);\r\n  return ret;\r\n}\r\n\r\n// Deprecated: This function should not be called because it is unsafe and does not provide\r\n// a maximum length limit of how many bytes it is allowed to write. Prefer calling the\r\n// function stringToUTF8Array() instead, which takes in a maximum length that can be used\r\n// to be secure from out of bounds writes.\r\n/** @deprecated\r\n    @param {boolean=} dontAddNull */\r\nfunction writeStringToMemory(string, buffer, dontAddNull) {\r\n  warnOnce('writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!');\r\n\r\n  var /** @type {number} */ lastChar, /** @type {number} */ end;\r\n  if (dontAddNull) {\r\n    // stringToUTF8Array always appends null. If we don't want to do that, remember the\r\n    // character that existed at the location where the null will be placed, and restore\r\n    // that after the write (below).\r\n    end = buffer + lengthBytesUTF8(string);\r\n    lastChar = HEAP8[end];\r\n  }\r\n  stringToUTF8(string, buffer, Infinity);\r\n  if (dontAddNull) HEAP8[end] = lastChar; // Restore the value under the null character.\r\n}\r\n\r\nfunction writeArrayToMemory(array, buffer) {\r\n  assert(array.length >= 0, 'writeArrayToMemory array must have a length (should be an array or typed array)')\r\n  HEAP8.set(array, buffer);\r\n}\r\n\r\n/** @param {boolean=} dontAddNull */\r\nfunction writeAsciiToMemory(str, buffer, dontAddNull) {\r\n  for (var i = 0; i < str.length; ++i) {\r\n    assert(str.charCodeAt(i) === (str.charCodeAt(i) & 0xff));\r\n    HEAP8[((buffer++)>>0)] = str.charCodeAt(i);\r\n  }\r\n  // Null-terminate the pointer to the HEAP.\r\n  if (!dontAddNull) HEAP8[((buffer)>>0)] = 0;\r\n}\r\n\r\n// end include: runtime_strings_extra.js\r\n// Memory management\r\n\r\nvar HEAP,\r\n/** @type {!ArrayBuffer} */\r\n  buffer,\r\n/** @type {!Int8Array} */\r\n  HEAP8,\r\n/** @type {!Uint8Array} */\r\n  HEAPU8,\r\n/** @type {!Int16Array} */\r\n  HEAP16,\r\n/** @type {!Uint16Array} */\r\n  HEAPU16,\r\n/** @type {!Int32Array} */\r\n  HEAP32,\r\n/** @type {!Uint32Array} */\r\n  HEAPU32,\r\n/** @type {!Float32Array} */\r\n  HEAPF32,\r\n/** @type {!Float64Array} */\r\n  HEAPF64;\r\n\r\nfunction updateGlobalBufferAndViews(buf) {\r\n  buffer = buf;\r\n  Module['HEAP8'] = HEAP8 = new Int8Array(buf);\r\n  Module['HEAP16'] = HEAP16 = new Int16Array(buf);\r\n  Module['HEAP32'] = HEAP32 = new Int32Array(buf);\r\n  Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\r\n  Module['HEAPU16'] = HEAPU16 = new Uint16Array(buf);\r\n  Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\r\n  Module['HEAPF32'] = HEAPF32 = new Float32Array(buf);\r\n  Module['HEAPF64'] = HEAPF64 = new Float64Array(buf);\r\n}\r\n\r\nvar TOTAL_STACK = 5242880;\r\nif (Module['TOTAL_STACK']) assert(TOTAL_STACK === Module['TOTAL_STACK'], 'the stack size can no longer be determined at runtime')\r\n\r\nvar INITIAL_MEMORY = Module['INITIAL_MEMORY'] || 16777216;legacyModuleProp('INITIAL_MEMORY', 'INITIAL_MEMORY');\r\n\r\nassert(INITIAL_MEMORY >= TOTAL_STACK, 'INITIAL_MEMORY should be larger than TOTAL_STACK, was ' + INITIAL_MEMORY + '! (TOTAL_STACK=' + TOTAL_STACK + ')');\r\n\r\n// check for full engine support (use string 'subarray' to avoid closure compiler confusion)\r\nassert(typeof Int32Array != 'undefined' && typeof Float64Array !== 'undefined' && Int32Array.prototype.subarray != undefined && Int32Array.prototype.set != undefined,\r\n       'JS engine does not provide full typed array support');\r\n\r\n// If memory is defined in wasm, the user can't provide it.\r\nassert(!Module['wasmMemory'], 'Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally');\r\nassert(INITIAL_MEMORY == 16777216, 'Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically');\r\n\r\n// include: runtime_init_table.js\r\n// In regular non-RELOCATABLE mode the table is exported\r\n// from the wasm module and this will be assigned once\r\n// the exports are available.\r\nvar wasmTable;\r\n\r\n// end include: runtime_init_table.js\r\n// include: runtime_stack_check.js\r\n\r\n\r\n// Initializes the stack cookie. Called at the startup of main and at the startup of each thread in pthreads mode.\r\nfunction writeStackCookie() {\r\n  var max = _emscripten_stack_get_end();\r\n  assert((max & 3) == 0);\r\n  // The stack grow downwards towards _emscripten_stack_get_end.\r\n  // We write cookies to the final two words in the stack and detect if they are\r\n  // ever overwritten.\r\n  HEAP32[((max)>>2)] = 0x2135467;\r\n  HEAP32[(((max)+(4))>>2)] = 0x89BACDFE;\r\n  // Also test the global address 0 for integrity.\r\n  HEAP32[0] = 0x63736d65; /* 'emsc' */\r\n}\r\n\r\nfunction checkStackCookie() {\r\n  if (ABORT) return;\r\n  var max = _emscripten_stack_get_end();\r\n  var cookie1 = HEAPU32[((max)>>2)];\r\n  var cookie2 = HEAPU32[(((max)+(4))>>2)];\r\n  if (cookie1 != 0x2135467 || cookie2 != 0x89BACDFE) {\r\n    abort('Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x' + cookie2.toString(16) + ' 0x' + cookie1.toString(16));\r\n  }\r\n  // Also test the global address 0 for integrity.\r\n  if (HEAP32[0] !== 0x63736d65 /* 'emsc' */) abort('Runtime error: The application has corrupted its heap memory area (address zero)!');\r\n}\r\n\r\n// end include: runtime_stack_check.js\r\n// include: runtime_assertions.js\r\n\r\n\r\n// Endianness check\r\n(function() {\r\n  var h16 = new Int16Array(1);\r\n  var h8 = new Int8Array(h16.buffer);\r\n  h16[0] = 0x6373;\r\n  if (h8[0] !== 0x73 || h8[1] !== 0x63) throw 'Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)';\r\n})();\r\n\r\n// end include: runtime_assertions.js\r\nvar __ATPRERUN__  = []; // functions called before the runtime is initialized\r\nvar __ATINIT__    = []; // functions called during startup\r\nvar __ATEXIT__    = []; // functions called during shutdown\r\nvar __ATPOSTRUN__ = []; // functions called after the main() is called\r\n\r\nvar runtimeInitialized = false;\r\n\r\nfunction keepRuntimeAlive() {\r\n  return noExitRuntime;\r\n}\r\n\r\nfunction preRun() {\r\n\r\n  if (Module['preRun']) {\r\n    if (typeof Module['preRun'] == 'function') Module['preRun'] = [Module['preRun']];\r\n    while (Module['preRun'].length) {\r\n      addOnPreRun(Module['preRun'].shift());\r\n    }\r\n  }\r\n\r\n  callRuntimeCallbacks(__ATPRERUN__);\r\n}\r\n\r\nfunction initRuntime() {\r\n  checkStackCookie();\r\n  assert(!runtimeInitialized);\r\n  runtimeInitialized = true;\r\n\r\n  \r\nif (!Module[\"noFSInit\"] && !FS.init.initialized)\r\n  FS.init();\r\nFS.ignorePermissions = false;\r\n\r\nTTY.init();\r\n  callRuntimeCallbacks(__ATINIT__);\r\n}\r\n\r\nfunction postRun() {\r\n  checkStackCookie();\r\n\r\n  if (Module['postRun']) {\r\n    if (typeof Module['postRun'] == 'function') Module['postRun'] = [Module['postRun']];\r\n    while (Module['postRun'].length) {\r\n      addOnPostRun(Module['postRun'].shift());\r\n    }\r\n  }\r\n\r\n  callRuntimeCallbacks(__ATPOSTRUN__);\r\n}\r\n\r\nfunction addOnPreRun(cb) {\r\n  __ATPRERUN__.unshift(cb);\r\n}\r\n\r\nfunction addOnInit(cb) {\r\n  __ATINIT__.unshift(cb);\r\n}\r\n\r\nfunction addOnExit(cb) {\r\n}\r\n\r\nfunction addOnPostRun(cb) {\r\n  __ATPOSTRUN__.unshift(cb);\r\n}\r\n\r\n// include: runtime_math.js\r\n\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/fround\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/clz32\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\r\n\r\nassert(Math.imul, 'This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\nassert(Math.fround, 'This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\nassert(Math.clz32, 'This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\nassert(Math.trunc, 'This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\n\r\n// end include: runtime_math.js\r\n// A counter of dependencies for calling run(). If we need to\r\n// do asynchronous work before running, increment this and\r\n// decrement it. Incrementing must happen in a place like\r\n// Module.preRun (used by emcc to add file preloading).\r\n// Note that you can add dependencies in preRun, even though\r\n// it happens right before run - run will be postponed until\r\n// the dependencies are met.\r\nvar runDependencies = 0;\r\nvar runDependencyWatcher = null;\r\nvar dependenciesFulfilled = null; // overridden to take different actions when all run dependencies are fulfilled\r\nvar runDependencyTracking = {};\r\n\r\nfunction getUniqueRunDependency(id) {\r\n  var orig = id;\r\n  while (1) {\r\n    if (!runDependencyTracking[id]) return id;\r\n    id = orig + Math.random();\r\n  }\r\n}\r\n\r\nfunction addRunDependency(id) {\r\n  runDependencies++;\r\n\r\n  if (Module['monitorRunDependencies']) {\r\n    Module['monitorRunDependencies'](runDependencies);\r\n  }\r\n\r\n  if (id) {\r\n    assert(!runDependencyTracking[id]);\r\n    runDependencyTracking[id] = 1;\r\n    if (runDependencyWatcher === null && typeof setInterval != 'undefined') {\r\n      // Check for missing dependencies every few seconds\r\n      runDependencyWatcher = setInterval(function() {\r\n        if (ABORT) {\r\n          clearInterval(runDependencyWatcher);\r\n          runDependencyWatcher = null;\r\n          return;\r\n        }\r\n        var shown = false;\r\n        for (var dep in runDependencyTracking) {\r\n          if (!shown) {\r\n            shown = true;\r\n            err('still waiting on run dependencies:');\r\n          }\r\n          err('dependency: ' + dep);\r\n        }\r\n        if (shown) {\r\n          err('(end of list)');\r\n        }\r\n      }, 10000);\r\n    }\r\n  } else {\r\n    err('warning: run dependency added without ID');\r\n  }\r\n}\r\n\r\nfunction removeRunDependency(id) {\r\n  runDependencies--;\r\n\r\n  if (Module['monitorRunDependencies']) {\r\n    Module['monitorRunDependencies'](runDependencies);\r\n  }\r\n\r\n  if (id) {\r\n    assert(runDependencyTracking[id]);\r\n    delete runDependencyTracking[id];\r\n  } else {\r\n    err('warning: run dependency removed without ID');\r\n  }\r\n  if (runDependencies == 0) {\r\n    if (runDependencyWatcher !== null) {\r\n      clearInterval(runDependencyWatcher);\r\n      runDependencyWatcher = null;\r\n    }\r\n    if (dependenciesFulfilled) {\r\n      var callback = dependenciesFulfilled;\r\n      dependenciesFulfilled = null;\r\n      callback(); // can add another dependenciesFulfilled\r\n    }\r\n  }\r\n}\r\n\r\nModule[\"preloadedImages\"] = {}; // maps url to image data\r\nModule[\"preloadedAudios\"] = {}; // maps url to audio data\r\n\r\n/** @param {string|number=} what */\r\nfunction abort(what) {\r\n  {\r\n    if (Module['onAbort']) {\r\n      Module['onAbort'](what);\r\n    }\r\n  }\r\n\r\n  what = 'Aborted(' + what + ')';\r\n  // TODO(sbc): Should we remove printing and leave it up to whoever\r\n  // catches the exception?\r\n  err(what);\r\n\r\n  ABORT = true;\r\n  EXITSTATUS = 1;\r\n\r\n  // Use a wasm runtime error, because a JS error might be seen as a foreign\r\n  // exception, which means we'd run destructors on it. We need the error to\r\n  // simply make the program stop.\r\n\r\n  // Suppress closure compiler warning here. Closure compiler's builtin extern\r\n  // defintion for WebAssembly.RuntimeError claims it takes no arguments even\r\n  // though it can.\r\n  // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure gets fixed.\r\n\r\n  /** @suppress {checkTypes} */\r\n  var e = new WebAssembly.RuntimeError(what);\r\n\r\n  // Throw the error whether or not MODULARIZE is set because abort is used\r\n  // in code paths apart from instantiation where an exception is expected\r\n  // to be thrown when abort is called.\r\n  throw e;\r\n}\r\n\r\n// {{MEM_INITIALIZER}}\r\n\r\n// include: memoryprofiler.js\r\n\r\n\r\n// end include: memoryprofiler.js\r\n// include: URIUtils.js\r\n\r\n\r\n// Prefix of data URIs emitted by SINGLE_FILE and related options.\r\nvar dataURIPrefix = 'data:application/octet-stream;base64,';\r\n\r\n// Indicates whether filename is a base64 data URI.\r\nfunction isDataURI(filename) {\r\n  // Prefix of data URIs emitted by SINGLE_FILE and related options.\r\n  return filename.startsWith(dataURIPrefix);\r\n}\r\n\r\n// Indicates whether filename is delivered via file protocol (as opposed to http/https)\r\nfunction isFileURI(filename) {\r\n  return filename.startsWith('file://');\r\n}\r\n\r\n// end include: URIUtils.js\r\n/** @param {boolean=} fixedasm */\r\nfunction createExportWrapper(name, fixedasm) {\r\n  return function() {\r\n    var displayName = name;\r\n    var asm = fixedasm;\r\n    if (!fixedasm) {\r\n      asm = Module['asm'];\r\n    }\r\n    assert(runtimeInitialized, 'native function `' + displayName + '` called before runtime initialization');\r\n    if (!asm[name]) {\r\n      assert(asm[name], 'exported native function `' + displayName + '` not found');\r\n    }\r\n    return asm[name].apply(null, arguments);\r\n  };\r\n}\r\n\r\nvar wasmBinaryFile;\r\n  wasmBinaryFile = 'canvasManager.wasm';\r\n  if (!isDataURI(wasmBinaryFile)) {\r\n    wasmBinaryFile = locateFile(wasmBinaryFile);\r\n  }\r\n\r\nfunction getBinary(file) {\r\n  try {\r\n    if (file == wasmBinaryFile && wasmBinary) {\r\n      return new Uint8Array(wasmBinary);\r\n    }\r\n    if (readBinary) {\r\n      return readBinary(file);\r\n    } else {\r\n      throw \"both async and sync fetching of the wasm failed\";\r\n    }\r\n  }\r\n  catch (err) {\r\n    abort(err);\r\n  }\r\n}\r\n\r\nfunction getBinaryPromise() {\r\n  // If we don't have the binary yet, try to to load it asynchronously.\r\n  // Fetch has some additional restrictions over XHR, like it can't be used on a file:// url.\r\n  // See https://github.com/github/fetch/pull/92#issuecomment-140665932\r\n  // Cordova or Electron apps are typically loaded from a file:// url.\r\n  // So use fetch if it is available and the url is not a file, otherwise fall back to XHR.\r\n  if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\r\n    if (typeof fetch == 'function'\r\n      && !isFileURI(wasmBinaryFile)\r\n    ) {\r\n      return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(function(response) {\r\n        if (!response['ok']) {\r\n          throw \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\";\r\n        }\r\n        return response['arrayBuffer']();\r\n      }).catch(function () {\r\n          return getBinary(wasmBinaryFile);\r\n      });\r\n    }\r\n    else {\r\n      if (readAsync) {\r\n        // fetch is not available or url is file => try XHR (readAsync uses XHR internally)\r\n        return new Promise(function(resolve, reject) {\r\n          readAsync(wasmBinaryFile, function(response) { resolve(new Uint8Array(/** @type{!ArrayBuffer} */(response))) }, reject)\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Otherwise, getBinary should be able to get it synchronously\r\n  return Promise.resolve().then(function() { return getBinary(wasmBinaryFile); });\r\n}\r\n\r\nvar wasmOffsetConverter;\r\n// include: wasm_offset_converter.js\r\n\r\n\r\n/** @constructor */\r\nfunction WasmOffsetConverter(wasmBytes, wasmModule) {\r\n  // This class parses a WASM binary file, and constructs a mapping from\r\n  // function indices to the start of their code in the binary file, as well\r\n  // as parsing the name section to allow conversion of offsets to function names.\r\n  //\r\n  // The main purpose of this module is to enable the conversion of function\r\n  // index and offset from start of function to an offset into the WASM binary.\r\n  // This is needed to look up the WASM source map as well as generate\r\n  // consistent program counter representations given v8's non-standard\r\n  // WASM stack trace format.\r\n  //\r\n  // v8 bug: https://crbug.com/v8/9172\r\n  //\r\n  // This code is also used to check if the candidate source map offset is\r\n  // actually part of the same function as the offset we are looking for,\r\n  // as well as providing the function names for a given offset.\r\n\r\n  // current byte offset into the WASM binary, as we parse it\r\n  // the first section starts at offset 8.\r\n  var offset = 8;\r\n\r\n  // the index of the next function we see in the binary\r\n  var funcidx = 0;\r\n\r\n  // map from function index to byte offset in WASM binary\r\n  this.offset_map = {};\r\n  this.func_starts = [];\r\n\r\n  // map from function index to names in WASM binary\r\n  this.name_map = {};\r\n\r\n  // number of imported functions this module has\r\n  this.import_functions = 0;\r\n\r\n  // the buffer unsignedLEB128 will read from.\r\n  var buffer = wasmBytes;\r\n\r\n  function unsignedLEB128() {\r\n    // consumes an unsigned LEB128 integer starting at `offset`.\r\n    // changes `offset` to immediately after the integer\r\n    var result = 0;\r\n    var shift = 0;\r\n    do {\r\n      var byte = buffer[offset++];\r\n      result += (byte & 0x7F) << shift;\r\n      shift += 7;\r\n    } while (byte & 0x80);\r\n    return result;\r\n  }\r\n\r\n  function skipLimits() {\r\n    var flags = unsignedLEB128();\r\n    unsignedLEB128(); // initial size\r\n    var hasMax = (flags & 1) != 0;\r\n    if (hasMax) {\r\n      unsignedLEB128();\r\n    }\r\n  }\r\n\r\n  binary_parse:\r\n  while (offset < buffer.length) {\r\n    var start = offset;\r\n    var type = buffer[offset++];\r\n    var end = unsignedLEB128() + offset;\r\n    switch (type) {\r\n      case 2: // import section\r\n        // we need to find all function imports and increment funcidx for each one\r\n        // since functions defined in the module are numbered after all imports\r\n        var count = unsignedLEB128();\r\n\r\n        while (count-- > 0) {\r\n          // skip module\r\n          offset = unsignedLEB128() + offset;\r\n          // skip name\r\n          offset = unsignedLEB128() + offset;\r\n\r\n          switch (buffer[offset++]) {\r\n            case 0: // function import\r\n              ++funcidx;\r\n              unsignedLEB128(); // skip function type\r\n              break;\r\n            case 1: // table import\r\n              ++offset; // FIXME: should be SLEB128\r\n              skipLimits();\r\n              break;\r\n            case 2: // memory import\r\n              skipLimits();\r\n              break;\r\n            case 3: // global import\r\n              offset += 2; // skip type id byte and mutability byte\r\n              break;\r\n            default: throw 'bad import kind';\r\n          }\r\n        }\r\n        this.import_functions = funcidx;\r\n        break;\r\n      case 10: // code section\r\n        var count = unsignedLEB128();\r\n        while (count-- > 0) {\r\n          var size = unsignedLEB128();\r\n          this.offset_map[funcidx++] = offset;\r\n          this.func_starts.push(offset);\r\n          offset += size;\r\n        }\r\n        break binary_parse;\r\n    }\r\n    offset = end;\r\n  }\r\n\r\n  var sections = WebAssembly.Module.customSections(wasmModule, \"name\");\r\n  for (var i = 0; i < sections.length; ++i) {\r\n    buffer = new Uint8Array(sections[i]);\r\n    if (buffer[0] != 1) // not a function name section\r\n      continue;\r\n    offset = 1;\r\n    unsignedLEB128(); // skip byte count\r\n    var count = unsignedLEB128();\r\n    while (count-- > 0) {\r\n      var index = unsignedLEB128();\r\n      var length = unsignedLEB128();\r\n      this.name_map[index] = UTF8ArrayToString(buffer, offset, length);\r\n      offset += length;\r\n    }\r\n  }\r\n}\r\n\r\nWasmOffsetConverter.prototype.convert = function (funcidx, offset) {\r\n  return this.offset_map[funcidx] + offset;\r\n}\r\n\r\nWasmOffsetConverter.prototype.getIndex = function (offset) {\r\n  var lo = 0;\r\n  var hi = this.func_starts.length;\r\n  var mid;\r\n\r\n  while (lo < hi) {\r\n    mid = Math.floor((lo + hi) / 2);\r\n    if (this.func_starts[mid] > offset) {\r\n      hi = mid;\r\n    } else {\r\n      lo = mid + 1;\r\n    }\r\n  }\r\n  return lo + this.import_functions - 1;\r\n}\r\n\r\nWasmOffsetConverter.prototype.isSameFunc = function (offset1, offset2) {\r\n  return this.getIndex(offset1) == this.getIndex(offset2);\r\n}\r\n\r\nWasmOffsetConverter.prototype.getName = function (offset) {\r\n  var index = this.getIndex(offset);\r\n  return this.name_map[index] || ('wasm-function[' + index + ']');\r\n}\r\n\r\n// end include: wasm_offset_converter.js\r\n\r\n// When using postMessage to send an object, it is processed by the structured clone algorithm.\r\n// The prototype, and hence methods, on that object is then lost. This function adds back the lost prototype.\r\n// This does not work with nested objects that has prototypes, but it suffices for WasmSourceMap and WasmOffsetConverter.\r\nfunction resetPrototype(constructor, attrs) {\r\n  var object = Object.create(constructor.prototype);\r\n  return Object.assign(object, attrs);\r\n}\r\n\r\n// Create the wasm instance.\r\n// Receives the wasm imports, returns the exports.\r\nfunction createWasm() {\r\n  // prepare imports\r\n  var info = {\r\n    'env': asmLibraryArg,\r\n    'wasi_snapshot_preview1': asmLibraryArg,\r\n  };\r\n  // Load the wasm module and create an instance of using native support in the JS engine.\r\n  // handle a generated wasm instance, receiving its exports and\r\n  // performing other necessary setup\r\n  /** @param {WebAssembly.Module=} module*/\r\n  function receiveInstance(instance, module) {\r\n    var exports = instance.exports;\r\n\r\n    Module['asm'] = exports;\r\n\r\n    wasmMemory = Module['asm']['memory'];\r\n    assert(wasmMemory, \"memory not found in wasm exports\");\r\n    // This assertion doesn't hold when emscripten is run in --post-link\r\n    // mode.\r\n    // TODO(sbc): Read INITIAL_MEMORY out of the wasm file in post-link mode.\r\n    //assert(wasmMemory.buffer.byteLength === 16777216);\r\n    updateGlobalBufferAndViews(wasmMemory.buffer);\r\n\r\n    wasmTable = Module['asm']['__indirect_function_table'];\r\n    assert(wasmTable, \"table not found in wasm exports\");\r\n\r\n    addOnInit(Module['asm']['__wasm_call_ctors']);\r\n\r\n    removeRunDependency('wasm-instantiate');\r\n\r\n  }\r\n  // we can't run yet (except in a pthread, where we have a custom sync instantiator)\r\n  addRunDependency('wasm-instantiate');\r\n\r\n  // Prefer streaming instantiation if available.\r\n  // Async compilation can be confusing when an error on the page overwrites Module\r\n  // (for example, if the order of elements is wrong, and the one defining Module is\r\n  // later), so we save Module and check it later.\r\n  var trueModule = Module;\r\n  function receiveInstantiationResult(result) {\r\n    // 'result' is a ResultObject object which has both the module and instance.\r\n    // receiveInstance() will swap in the exports (to Module.asm) so they can be called\r\n    assert(Module === trueModule, 'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?');\r\n    trueModule = null;\r\n    // TODO: Due to Closure regression https://github.com/google/closure-compiler/issues/3193, the above line no longer optimizes out down to the following line.\r\n    // When the regression is fixed, can restore the above USE_PTHREADS-enabled path.\r\n    receiveInstance(result['instance']);\r\n  }\r\n\r\n  function instantiateArrayBuffer(receiver) {\r\n    var savedBinary;\r\n    return getBinaryPromise().then(function(binary) {\r\n      savedBinary = binary;\r\n      return WebAssembly.instantiate(binary, info);\r\n    }).then(function (instance) {\r\n      // wasmOffsetConverter needs to be assigned before calling the receiver\r\n      // (receiveInstantiationResult).  See comments below in instantiateAsync.\r\n      wasmOffsetConverter = new WasmOffsetConverter(savedBinary, instance.module);\r\n      return instance;\r\n    }).then(receiver, function(reason) {\r\n      err('failed to asynchronously prepare wasm: ' + reason);\r\n\r\n      // Warn on some common problems.\r\n      if (isFileURI(wasmBinaryFile)) {\r\n        err('warning: Loading from a file URI (' + wasmBinaryFile + ') is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing');\r\n      }\r\n      abort(reason);\r\n    });\r\n  }\r\n\r\n  function instantiateAsync() {\r\n    if (!wasmBinary &&\r\n        typeof WebAssembly.instantiateStreaming == 'function' &&\r\n        !isDataURI(wasmBinaryFile) &&\r\n        // Don't use streaming for file:// delivered objects in a webview, fetch them synchronously.\r\n        !isFileURI(wasmBinaryFile) &&\r\n        typeof fetch == 'function') {\r\n      return fetch('http://127.0.0.1:8000/static/canvasManager.wasm', { credentials: 'same-origin' }).then(function(response) {\r\n        // Suppress closure warning here since the upstream definition for\r\n        // instantiateStreaming only allows Promise<Repsponse> rather than\r\n        // an actual Response.\r\n        // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure is fixed.\r\n        /** @suppress {checkTypes} */\r\n        var result = WebAssembly.instantiateStreaming(response, info);\r\n\r\n        // We need the wasm binary for the offset converter. Clone the response\r\n        // in order to get its arrayBuffer (cloning should be more efficient\r\n        // than doing another entire request).\r\n        // (We must clone the response now in order to use it later, as if we\r\n        // try to clone it asynchronously lower down then we will get a\r\n        // \"response was already consumed\" error.)\r\n        var clonedResponsePromise = response.clone().arrayBuffer();\r\n\r\n        return result.then(\r\n          function(instantiationResult) {\r\n            // When using the offset converter, we must interpose here. First,\r\n            // the instantiation result must arrive (if it fails, the error\r\n            // handling later down will handle it). Once it arrives, we can\r\n            // initialize the offset converter. And only then is it valid to\r\n            // call receiveInstantiationResult, as that function will use the\r\n            // offset converter (in the case of pthreads, it will create the\r\n            // pthreads and send them the offsets along with the wasm instance).\r\n\r\n            clonedResponsePromise.then(function(arrayBufferResult) {\r\n              wasmOffsetConverter = new WasmOffsetConverter(new Uint8Array(arrayBufferResult), instantiationResult.module);\r\n              receiveInstantiationResult(instantiationResult);\r\n            }, function(reason) {\r\n              err('failed to initialize offset-converter: ' + reason);\r\n            });\r\n          },\r\n          function(reason) {\r\n            // We expect the most common failure cause to be a bad MIME type for the binary,\r\n            // in which case falling back to ArrayBuffer instantiation should work.\r\n            err('wasm streaming compile failed: ' + reason);\r\n            err('falling back to ArrayBuffer instantiation');\r\n            return instantiateArrayBuffer(receiveInstantiationResult);\r\n          });\r\n      });\r\n    } else {\r\n      return instantiateArrayBuffer(receiveInstantiationResult);\r\n    }\r\n  }\r\n\r\n  // User shell pages can write their own Module.instantiateWasm = function(imports, successCallback) callback\r\n  // to manually instantiate the Wasm module themselves. This allows pages to run the instantiation parallel\r\n  // to any other async startup actions they are performing.\r\n  // Also pthreads and wasm workers initialize the wasm instance through this path.\r\n  if (Module['instantiateWasm']) {\r\n    wasmOffsetConverter = resetPrototype(WasmOffsetConverter, Module['wasmOffsetData']);\r\n    try {\r\n      var exports = Module['instantiateWasm'](info, receiveInstance);\r\n      return exports;\r\n    } catch(e) {\r\n      err('Module.instantiateWasm callback failed with error: ' + e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  instantiateAsync();\r\n  return {}; // no exports yet; we'll fill them in later\r\n}\r\n\r\n// Globals used by JS i64 conversions (see makeSetValue)\r\nvar tempDouble;\r\nvar tempI64;\r\n\r\n// === Body ===\r\n\r\nvar ASM_CONSTS = {\r\n  1064780: function() {return withBuiltinMalloc(function () { return allocateUTF8(Module['UBSAN_OPTIONS'] || 0); });},  \r\n 1064878: function() {var setting = Module['printWithColors']; if (setting != null) { return setting; } else { return ENVIRONMENT_IS_NODE && process.stderr.isTTY; }}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n  function callRuntimeCallbacks(callbacks) {\r\n      while (callbacks.length > 0) {\r\n        var callback = callbacks.shift();\r\n        if (typeof callback == 'function') {\r\n          callback(Module); // Pass the module as the first argument.\r\n          continue;\r\n        }\r\n        var func = callback.func;\r\n        if (typeof func == 'number') {\r\n          if (callback.arg === undefined) {\r\n            // Run the wasm function ptr with signature 'v'. If no function\r\n            // with such signature was exported, this call does not need\r\n            // to be emitted (and would confuse Closure)\r\n            getWasmTableEntry(func)();\r\n          } else {\r\n            // If any function with signature 'vi' was exported, run\r\n            // the callback with that signature.\r\n            getWasmTableEntry(func)(callback.arg);\r\n          }\r\n        } else {\r\n          func(callback.arg === undefined ? null : callback.arg);\r\n        }\r\n      }\r\n    }\r\n\r\n  function withStackSave(f) {\r\n      var stack = stackSave();\r\n      var ret = f();\r\n      stackRestore(stack);\r\n      return ret;\r\n    }\r\n  function demangle(func) {\r\n      warnOnce('warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling');\r\n      return func;\r\n    }\r\n\r\n  function demangleAll(text) {\r\n      var regex =\r\n        /\\b_Z[\\w\\d_]+/g;\r\n      return text.replace(regex,\r\n        function(x) {\r\n          var y = demangle(x);\r\n          return x === y ? x : (y + ' [' + x + ']');\r\n        });\r\n    }\r\n\r\n  var wasmTableMirror = [];\r\n  function getWasmTableEntry(funcPtr) {\r\n      var func = wasmTableMirror[funcPtr];\r\n      if (!func) {\r\n        if (funcPtr >= wasmTableMirror.length) wasmTableMirror.length = funcPtr + 1;\r\n        wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);\r\n      }\r\n      assert(wasmTable.get(funcPtr) == func, \"JavaScript-side Wasm function table mirror is out of date!\");\r\n      return func;\r\n    }\r\n\r\n  function handleException(e) {\r\n      // Certain exception types we do not treat as errors since they are used for\r\n      // internal control flow.\r\n      // 1. ExitStatus, which is thrown by exit()\r\n      // 2. \"unwind\", which is thrown by emscripten_unwind_to_js_event_loop() and others\r\n      //    that wish to return to JS event loop.\r\n      if (e instanceof ExitStatus || e == 'unwind') {\r\n        return EXITSTATUS;\r\n      }\r\n      quit_(1, e);\r\n    }\r\n\r\n  function jsStackTrace() {\r\n      var error = new Error();\r\n      if (!error.stack) {\r\n        // IE10+ special cases: It does have callstack info, but it is only populated if an Error object is thrown,\r\n        // so try that as a special-case.\r\n        try {\r\n          throw new Error();\r\n        } catch(e) {\r\n          error = e;\r\n        }\r\n        if (!error.stack) {\r\n          return '(no stack trace available)';\r\n        }\r\n      }\r\n      return error.stack.toString();\r\n    }\r\n\r\n  function setWasmTableEntry(idx, func) {\r\n      wasmTable.set(idx, func);\r\n      wasmTableMirror[idx] = func;\r\n    }\r\n\r\n  function stackTrace() {\r\n      var js = jsStackTrace();\r\n      if (Module['extraStackTrace']) js += '\\n' + Module['extraStackTrace']();\r\n      return demangleAll(js);\r\n    }\r\n\r\n  function ___assert_fail(condition, filename, line, func) {\r\n      abort('Assertion failed: ' + UTF8ToString(condition) + ', at: ' + [filename ? UTF8ToString(filename) : 'unknown filename', line, func ? UTF8ToString(func) : 'unknown function']);\r\n    }\r\n\r\n  function ___cxa_allocate_exception(size) {\r\n      // Thrown object is prepended by exception metadata block\r\n      return _malloc(size + 16) + 16;\r\n    }\r\n\r\n  /** @constructor */\r\n  function ExceptionInfo(excPtr) {\r\n      this.excPtr = excPtr;\r\n      this.ptr = excPtr - 16;\r\n  \r\n      this.set_type = function(type) {\r\n        HEAP32[(((this.ptr)+(4))>>2)] = type;\r\n      };\r\n  \r\n      this.get_type = function() {\r\n        return HEAP32[(((this.ptr)+(4))>>2)];\r\n      };\r\n  \r\n      this.set_destructor = function(destructor) {\r\n        HEAP32[(((this.ptr)+(8))>>2)] = destructor;\r\n      };\r\n  \r\n      this.get_destructor = function() {\r\n        return HEAP32[(((this.ptr)+(8))>>2)];\r\n      };\r\n  \r\n      this.set_refcount = function(refcount) {\r\n        HEAP32[((this.ptr)>>2)] = refcount;\r\n      };\r\n  \r\n      this.set_caught = function (caught) {\r\n        caught = caught ? 1 : 0;\r\n        HEAP8[(((this.ptr)+(12))>>0)] = caught;\r\n      };\r\n  \r\n      this.get_caught = function () {\r\n        return HEAP8[(((this.ptr)+(12))>>0)] != 0;\r\n      };\r\n  \r\n      this.set_rethrown = function (rethrown) {\r\n        rethrown = rethrown ? 1 : 0;\r\n        HEAP8[(((this.ptr)+(13))>>0)] = rethrown;\r\n      };\r\n  \r\n      this.get_rethrown = function () {\r\n        return HEAP8[(((this.ptr)+(13))>>0)] != 0;\r\n      };\r\n  \r\n      // Initialize native structure fields. Should be called once after allocated.\r\n      this.init = function(type, destructor) {\r\n        this.set_type(type);\r\n        this.set_destructor(destructor);\r\n        this.set_refcount(0);\r\n        this.set_caught(false);\r\n        this.set_rethrown(false);\r\n      }\r\n  \r\n      this.add_ref = function() {\r\n        var value = HEAP32[((this.ptr)>>2)];\r\n        HEAP32[((this.ptr)>>2)] = value + 1;\r\n      };\r\n  \r\n      // Returns true if last reference released.\r\n      this.release_ref = function() {\r\n        var prev = HEAP32[((this.ptr)>>2)];\r\n        HEAP32[((this.ptr)>>2)] = prev - 1;\r\n        assert(prev > 0);\r\n        return prev === 1;\r\n      };\r\n    }\r\n  \r\n    /**\r\n     * @constructor\r\n     * @param {number=} ptr\r\n     */\r\n  function CatchInfo(ptr) {\r\n  \r\n      this.free = function() {\r\n        _free(this.ptr);\r\n        this.ptr = 0;\r\n      };\r\n  \r\n      this.set_base_ptr = function(basePtr) {\r\n        HEAP32[((this.ptr)>>2)] = basePtr;\r\n      };\r\n  \r\n      this.get_base_ptr = function() {\r\n        return HEAP32[((this.ptr)>>2)];\r\n      };\r\n  \r\n      this.set_adjusted_ptr = function(adjustedPtr) {\r\n        HEAP32[(((this.ptr)+(4))>>2)] = adjustedPtr;\r\n      };\r\n  \r\n      this.get_adjusted_ptr_addr = function() {\r\n        return this.ptr + 4;\r\n      }\r\n  \r\n      this.get_adjusted_ptr = function() {\r\n        return HEAP32[(((this.ptr)+(4))>>2)];\r\n      };\r\n  \r\n      // Get pointer which is expected to be received by catch clause in C++ code. It may be adjusted\r\n      // when the pointer is casted to some of the exception object base classes (e.g. when virtual\r\n      // inheritance is used). When a pointer is thrown this method should return the thrown pointer\r\n      // itself.\r\n      this.get_exception_ptr = function() {\r\n        // Work around a fastcomp bug, this code is still included for some reason in a build without\r\n        // exceptions support.\r\n        var isPointer = ___cxa_is_pointer_type(\r\n          this.get_exception_info().get_type());\r\n        if (isPointer) {\r\n          return HEAP32[((this.get_base_ptr())>>2)];\r\n        }\r\n        var adjusted = this.get_adjusted_ptr();\r\n        if (adjusted !== 0) return adjusted;\r\n        return this.get_base_ptr();\r\n      };\r\n  \r\n      this.get_exception_info = function() {\r\n        return new ExceptionInfo(this.get_base_ptr());\r\n      };\r\n  \r\n      if (ptr === undefined) {\r\n        this.ptr = _malloc(8);\r\n        this.set_adjusted_ptr(0);\r\n      } else {\r\n        this.ptr = ptr;\r\n      }\r\n    }\r\n  \r\n  var exceptionCaught =  [];\r\n  \r\n  function exception_addRef(info) {\r\n      info.add_ref();\r\n    }\r\n  \r\n  var uncaughtExceptionCount = 0;\r\n  function ___cxa_begin_catch(ptr) {\r\n      var catchInfo = new CatchInfo(ptr);\r\n      var info = catchInfo.get_exception_info();\r\n      if (!info.get_caught()) {\r\n        info.set_caught(true);\r\n        uncaughtExceptionCount--;\r\n      }\r\n      info.set_rethrown(false);\r\n      exceptionCaught.push(catchInfo);\r\n      exception_addRef(info);\r\n      return catchInfo.get_exception_ptr();\r\n    }\r\n\r\n  var exceptionLast = 0;\r\n  \r\n  function ___cxa_free_exception(ptr) {\r\n      try {\r\n        return _free(new ExceptionInfo(ptr).ptr);\r\n      } catch(e) {\r\n        err('exception during cxa_free_exception: ' + e);\r\n      }\r\n    }\r\n  function exception_decRef(info) {\r\n      // A rethrown exception can reach refcount 0; it must not be discarded\r\n      // Its next handler will clear the rethrown flag and addRef it, prior to\r\n      // final decRef and destruction here\r\n      if (info.release_ref() && !info.get_rethrown()) {\r\n        var destructor = info.get_destructor();\r\n        if (destructor) {\r\n          // In Wasm, destructors return 'this' as in ARM\r\n          getWasmTableEntry(destructor)(info.excPtr);\r\n        }\r\n        ___cxa_free_exception(info.excPtr);\r\n      }\r\n    }\r\n  function ___cxa_end_catch() {\r\n      // Clear state flag.\r\n      _setThrew(0);\r\n      assert(exceptionCaught.length > 0);\r\n      // Call destructor if one is registered then clear it.\r\n      var catchInfo = exceptionCaught.pop();\r\n  \r\n      exception_decRef(catchInfo.get_exception_info());\r\n      catchInfo.free();\r\n      exceptionLast = 0; // XXX in decRef?\r\n    }\r\n\r\n  function ___resumeException(catchInfoPtr) {\r\n      var catchInfo = new CatchInfo(catchInfoPtr);\r\n      var ptr = catchInfo.get_base_ptr();\r\n      if (!exceptionLast) { exceptionLast = ptr; }\r\n      catchInfo.free();\r\n      throw ptr;\r\n    }\r\n  function ___cxa_find_matching_catch_2() {\r\n      var thrown = exceptionLast;\r\n      if (!thrown) {\r\n        // just pass through the null ptr\r\n        setTempRet0(0); return ((0)|0);\r\n      }\r\n      var info = new ExceptionInfo(thrown);\r\n      var thrownType = info.get_type();\r\n      var catchInfo = new CatchInfo();\r\n      catchInfo.set_base_ptr(thrown);\r\n      catchInfo.set_adjusted_ptr(thrown);\r\n      if (!thrownType) {\r\n        // just pass through the thrown ptr\r\n        setTempRet0(0); return ((catchInfo.ptr)|0);\r\n      }\r\n      var typeArray = Array.prototype.slice.call(arguments);\r\n  \r\n      // can_catch receives a **, add indirection\r\n      // The different catch blocks are denoted by different types.\r\n      // Due to inheritance, those types may not precisely match the\r\n      // type of the thrown object. Find one which matches, and\r\n      // return the type of the catch block which should be called.\r\n      for (var i = 0; i < typeArray.length; i++) {\r\n        var caughtType = typeArray[i];\r\n        if (caughtType === 0 || caughtType === thrownType) {\r\n          // Catch all clause matched or exactly the same type is caught\r\n          break;\r\n        }\r\n        if (___cxa_can_catch(caughtType, thrownType, catchInfo.get_adjusted_ptr_addr())) {\r\n          setTempRet0(caughtType); return ((catchInfo.ptr)|0);\r\n        }\r\n      }\r\n      setTempRet0(thrownType); return ((catchInfo.ptr)|0);\r\n    }\r\n\r\n  function ___cxa_find_matching_catch_3() {\r\n      var thrown = exceptionLast;\r\n      if (!thrown) {\r\n        // just pass through the null ptr\r\n        setTempRet0(0); return ((0)|0);\r\n      }\r\n      var info = new ExceptionInfo(thrown);\r\n      var thrownType = info.get_type();\r\n      var catchInfo = new CatchInfo();\r\n      catchInfo.set_base_ptr(thrown);\r\n      catchInfo.set_adjusted_ptr(thrown);\r\n      if (!thrownType) {\r\n        // just pass through the thrown ptr\r\n        setTempRet0(0); return ((catchInfo.ptr)|0);\r\n      }\r\n      var typeArray = Array.prototype.slice.call(arguments);\r\n  \r\n      // can_catch receives a **, add indirection\r\n      // The different catch blocks are denoted by different types.\r\n      // Due to inheritance, those types may not precisely match the\r\n      // type of the thrown object. Find one which matches, and\r\n      // return the type of the catch block which should be called.\r\n      for (var i = 0; i < typeArray.length; i++) {\r\n        var caughtType = typeArray[i];\r\n        if (caughtType === 0 || caughtType === thrownType) {\r\n          // Catch all clause matched or exactly the same type is caught\r\n          break;\r\n        }\r\n        if (___cxa_can_catch(caughtType, thrownType, catchInfo.get_adjusted_ptr_addr())) {\r\n          setTempRet0(caughtType); return ((catchInfo.ptr)|0);\r\n        }\r\n      }\r\n      setTempRet0(thrownType); return ((catchInfo.ptr)|0);\r\n    }\r\n\r\n  function ___cxa_find_matching_catch_4() {\r\n      var thrown = exceptionLast;\r\n      if (!thrown) {\r\n        // just pass through the null ptr\r\n        setTempRet0(0); return ((0)|0);\r\n      }\r\n      var info = new ExceptionInfo(thrown);\r\n      var thrownType = info.get_type();\r\n      var catchInfo = new CatchInfo();\r\n      catchInfo.set_base_ptr(thrown);\r\n      catchInfo.set_adjusted_ptr(thrown);\r\n      if (!thrownType) {\r\n        // just pass through the thrown ptr\r\n        setTempRet0(0); return ((catchInfo.ptr)|0);\r\n      }\r\n      var typeArray = Array.prototype.slice.call(arguments);\r\n  \r\n      // can_catch receives a **, add indirection\r\n      // The different catch blocks are denoted by different types.\r\n      // Due to inheritance, those types may not precisely match the\r\n      // type of the thrown object. Find one which matches, and\r\n      // return the type of the catch block which should be called.\r\n      for (var i = 0; i < typeArray.length; i++) {\r\n        var caughtType = typeArray[i];\r\n        if (caughtType === 0 || caughtType === thrownType) {\r\n          // Catch all clause matched or exactly the same type is caught\r\n          break;\r\n        }\r\n        if (___cxa_can_catch(caughtType, thrownType, catchInfo.get_adjusted_ptr_addr())) {\r\n          setTempRet0(caughtType); return ((catchInfo.ptr)|0);\r\n        }\r\n      }\r\n      setTempRet0(thrownType); return ((catchInfo.ptr)|0);\r\n    }\r\n\r\n\r\n  function ___cxa_get_exception_ptr(ptr) {\r\n      return new CatchInfo(ptr).get_exception_ptr();\r\n    }\r\n\r\n  function ___cxa_rethrow() {\r\n      var catchInfo = exceptionCaught.pop();\r\n      if (!catchInfo) {\r\n        abort('no exception to throw');\r\n      }\r\n      var info = catchInfo.get_exception_info();\r\n      var ptr = catchInfo.get_base_ptr();\r\n      if (!info.get_rethrown()) {\r\n        // Only pop if the corresponding push was through rethrow_primary_exception\r\n        exceptionCaught.push(catchInfo);\r\n        info.set_rethrown(true);\r\n        info.set_caught(false);\r\n        uncaughtExceptionCount++;\r\n      } else {\r\n        catchInfo.free();\r\n      }\r\n      exceptionLast = ptr;\r\n      throw ptr;\r\n    }\r\n\r\n  function ___cxa_throw(ptr, type, destructor) {\r\n      var info = new ExceptionInfo(ptr);\r\n      // Initialize ExceptionInfo content after it was allocated in __cxa_allocate_exception.\r\n      info.init(type, destructor);\r\n      exceptionLast = ptr;\r\n      uncaughtExceptionCount++;\r\n      throw ptr;\r\n    }\r\n\r\n  function ___cxa_uncaught_exceptions() {\r\n      return uncaughtExceptionCount;\r\n    }\r\n\r\n\r\n  var PATH = {splitPath:function(filename) {\r\n        var splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\r\n        return splitPathRe.exec(filename).slice(1);\r\n      },normalizeArray:function(parts, allowAboveRoot) {\r\n        // if the path tries to go above the root, `up` ends up > 0\r\n        var up = 0;\r\n        for (var i = parts.length - 1; i >= 0; i--) {\r\n          var last = parts[i];\r\n          if (last === '.') {\r\n            parts.splice(i, 1);\r\n          } else if (last === '..') {\r\n            parts.splice(i, 1);\r\n            up++;\r\n          } else if (up) {\r\n            parts.splice(i, 1);\r\n            up--;\r\n          }\r\n        }\r\n        // if the path is allowed to go above the root, restore leading ..s\r\n        if (allowAboveRoot) {\r\n          for (; up; up--) {\r\n            parts.unshift('..');\r\n          }\r\n        }\r\n        return parts;\r\n      },normalize:function(path) {\r\n        var isAbsolute = path.charAt(0) === '/',\r\n            trailingSlash = path.substr(-1) === '/';\r\n        // Normalize the path\r\n        path = PATH.normalizeArray(path.split('/').filter(function(p) {\r\n          return !!p;\r\n        }), !isAbsolute).join('/');\r\n        if (!path && !isAbsolute) {\r\n          path = '.';\r\n        }\r\n        if (path && trailingSlash) {\r\n          path += '/';\r\n        }\r\n        return (isAbsolute ? '/' : '') + path;\r\n      },dirname:function(path) {\r\n        var result = PATH.splitPath(path),\r\n            root = result[0],\r\n            dir = result[1];\r\n        if (!root && !dir) {\r\n          // No dirname whatsoever\r\n          return '.';\r\n        }\r\n        if (dir) {\r\n          // It has a dirname, strip trailing slash\r\n          dir = dir.substr(0, dir.length - 1);\r\n        }\r\n        return root + dir;\r\n      },basename:function(path) {\r\n        // EMSCRIPTEN return '/'' for '/', not an empty string\r\n        if (path === '/') return '/';\r\n        path = PATH.normalize(path);\r\n        path = path.replace(/\\/$/, \"\");\r\n        var lastSlash = path.lastIndexOf('/');\r\n        if (lastSlash === -1) return path;\r\n        return path.substr(lastSlash+1);\r\n      },extname:function(path) {\r\n        return PATH.splitPath(path)[3];\r\n      },join:function() {\r\n        var paths = Array.prototype.slice.call(arguments, 0);\r\n        return PATH.normalize(paths.join('/'));\r\n      },join2:function(l, r) {\r\n        return PATH.normalize(l + '/' + r);\r\n      }};\r\n  \r\n  function getRandomDevice() {\r\n      if (typeof crypto == 'object' && typeof crypto['getRandomValues'] == 'function') {\r\n        // for modern web browsers\r\n        var randomBuffer = new Uint8Array(1);\r\n        return function() { crypto.getRandomValues(randomBuffer); return randomBuffer[0]; };\r\n      } else\r\n      if (ENVIRONMENT_IS_NODE) {\r\n        // for nodejs with or without crypto support included\r\n        try {\r\n          var crypto_module = require('crypto');\r\n          // nodejs has crypto support\r\n          return function() { return crypto_module['randomBytes'](1)[0]; };\r\n        } catch (e) {\r\n          // nodejs doesn't have crypto support\r\n        }\r\n      }\r\n      // we couldn't find a proper implementation, as Math.random() is not suitable for /dev/random, see emscripten-core/emscripten/pull/7096\r\n      return function() { abort(\"no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };\"); };\r\n    }\r\n  \r\n  var PATH_FS = {resolve:function() {\r\n        var resolvedPath = '',\r\n          resolvedAbsolute = false;\r\n        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\r\n          var path = (i >= 0) ? arguments[i] : FS.cwd();\r\n          // Skip empty and invalid entries\r\n          if (typeof path != 'string') {\r\n            throw new TypeError('Arguments to path.resolve must be strings');\r\n          } else if (!path) {\r\n            return ''; // an invalid portion invalidates the whole thing\r\n          }\r\n          resolvedPath = path + '/' + resolvedPath;\r\n          resolvedAbsolute = path.charAt(0) === '/';\r\n        }\r\n        // At this point the path should be resolved to a full absolute path, but\r\n        // handle relative paths to be safe (might happen when process.cwd() fails)\r\n        resolvedPath = PATH.normalizeArray(resolvedPath.split('/').filter(function(p) {\r\n          return !!p;\r\n        }), !resolvedAbsolute).join('/');\r\n        return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\r\n      },relative:function(from, to) {\r\n        from = PATH_FS.resolve(from).substr(1);\r\n        to = PATH_FS.resolve(to).substr(1);\r\n        function trim(arr) {\r\n          var start = 0;\r\n          for (; start < arr.length; start++) {\r\n            if (arr[start] !== '') break;\r\n          }\r\n          var end = arr.length - 1;\r\n          for (; end >= 0; end--) {\r\n            if (arr[end] !== '') break;\r\n          }\r\n          if (start > end) return [];\r\n          return arr.slice(start, end - start + 1);\r\n        }\r\n        var fromParts = trim(from.split('/'));\r\n        var toParts = trim(to.split('/'));\r\n        var length = Math.min(fromParts.length, toParts.length);\r\n        var samePartsLength = length;\r\n        for (var i = 0; i < length; i++) {\r\n          if (fromParts[i] !== toParts[i]) {\r\n            samePartsLength = i;\r\n            break;\r\n          }\r\n        }\r\n        var outputParts = [];\r\n        for (var i = samePartsLength; i < fromParts.length; i++) {\r\n          outputParts.push('..');\r\n        }\r\n        outputParts = outputParts.concat(toParts.slice(samePartsLength));\r\n        return outputParts.join('/');\r\n      }};\r\n  \r\n  var TTY = {ttys:[],init:function () {\r\n        // https://github.com/emscripten-core/emscripten/pull/1555\r\n        // if (ENVIRONMENT_IS_NODE) {\r\n        //   // currently, FS.init does not distinguish if process.stdin is a file or TTY\r\n        //   // device, it always assumes it's a TTY device. because of this, we're forcing\r\n        //   // process.stdin to UTF8 encoding to at least make stdin reading compatible\r\n        //   // with text files until FS.init can be refactored.\r\n        //   process['stdin']['setEncoding']('utf8');\r\n        // }\r\n      },shutdown:function() {\r\n        // https://github.com/emscripten-core/emscripten/pull/1555\r\n        // if (ENVIRONMENT_IS_NODE) {\r\n        //   // inolen: any idea as to why node -e 'process.stdin.read()' wouldn't exit immediately (with process.stdin being a tty)?\r\n        //   // isaacs: because now it's reading from the stream, you've expressed interest in it, so that read() kicks off a _read() which creates a ReadReq operation\r\n        //   // inolen: I thought read() in that case was a synchronous operation that just grabbed some amount of buffered data if it exists?\r\n        //   // isaacs: it is. but it also triggers a _read() call, which calls readStart() on the handle\r\n        //   // isaacs: do process.stdin.pause() and i'd think it'd probably close the pending call\r\n        //   process['stdin']['pause']();\r\n        // }\r\n      },register:function(dev, ops) {\r\n        TTY.ttys[dev] = { input: [], output: [], ops: ops };\r\n        FS.registerDevice(dev, TTY.stream_ops);\r\n      },stream_ops:{open:function(stream) {\r\n          var tty = TTY.ttys[stream.node.rdev];\r\n          if (!tty) {\r\n            throw new FS.ErrnoError(43);\r\n          }\r\n          stream.tty = tty;\r\n          stream.seekable = false;\r\n        },close:function(stream) {\r\n          // flush any pending line data\r\n          stream.tty.ops.flush(stream.tty);\r\n        },flush:function(stream) {\r\n          stream.tty.ops.flush(stream.tty);\r\n        },read:function(stream, buffer, offset, length, pos /* ignored */) {\r\n          if (!stream.tty || !stream.tty.ops.get_char) {\r\n            throw new FS.ErrnoError(60);\r\n          }\r\n          var bytesRead = 0;\r\n          for (var i = 0; i < length; i++) {\r\n            var result;\r\n            try {\r\n              result = stream.tty.ops.get_char(stream.tty);\r\n            } catch (e) {\r\n              throw new FS.ErrnoError(29);\r\n            }\r\n            if (result === undefined && bytesRead === 0) {\r\n              throw new FS.ErrnoError(6);\r\n            }\r\n            if (result === null || result === undefined) break;\r\n            bytesRead++;\r\n            buffer[offset+i] = result;\r\n          }\r\n          if (bytesRead) {\r\n            stream.node.timestamp = Date.now();\r\n          }\r\n          return bytesRead;\r\n        },write:function(stream, buffer, offset, length, pos) {\r\n          if (!stream.tty || !stream.tty.ops.put_char) {\r\n            throw new FS.ErrnoError(60);\r\n          }\r\n          try {\r\n            for (var i = 0; i < length; i++) {\r\n              stream.tty.ops.put_char(stream.tty, buffer[offset+i]);\r\n            }\r\n          } catch (e) {\r\n            throw new FS.ErrnoError(29);\r\n          }\r\n          if (length) {\r\n            stream.node.timestamp = Date.now();\r\n          }\r\n          return i;\r\n        }},default_tty_ops:{get_char:function(tty) {\r\n          if (!tty.input.length) {\r\n            var result = null;\r\n            if (ENVIRONMENT_IS_NODE) {\r\n              // we will read data by chunks of BUFSIZE\r\n              var BUFSIZE = 256;\r\n              var buf = Buffer.alloc(BUFSIZE);\r\n              var bytesRead = 0;\r\n  \r\n              try {\r\n                bytesRead = fs.readSync(process.stdin.fd, buf, 0, BUFSIZE, -1);\r\n              } catch(e) {\r\n                // Cross-platform differences: on Windows, reading EOF throws an exception, but on other OSes,\r\n                // reading EOF returns 0. Uniformize behavior by treating the EOF exception to return 0.\r\n                if (e.toString().includes('EOF')) bytesRead = 0;\r\n                else throw e;\r\n              }\r\n  \r\n              if (bytesRead > 0) {\r\n                result = buf.slice(0, bytesRead).toString('utf-8');\r\n              } else {\r\n                result = null;\r\n              }\r\n            } else\r\n            if (typeof window != 'undefined' &&\r\n              typeof window.prompt == 'function') {\r\n              // Browser.\r\n              result = window.prompt('Input: ');  // returns null on cancel\r\n              if (result !== null) {\r\n                result += '\\n';\r\n              }\r\n            } else if (typeof readline == 'function') {\r\n              // Command line.\r\n              result = readline();\r\n              if (result !== null) {\r\n                result += '\\n';\r\n              }\r\n            }\r\n            if (!result) {\r\n              return null;\r\n            }\r\n            tty.input = intArrayFromString(result, true);\r\n          }\r\n          return tty.input.shift();\r\n        },put_char:function(tty, val) {\r\n          if (val === null || val === 10) {\r\n            out(UTF8ArrayToString(tty.output, 0));\r\n            tty.output = [];\r\n          } else {\r\n            if (val != 0) tty.output.push(val); // val == 0 would cut text output off in the middle.\r\n          }\r\n        },flush:function(tty) {\r\n          if (tty.output && tty.output.length > 0) {\r\n            out(UTF8ArrayToString(tty.output, 0));\r\n            tty.output = [];\r\n          }\r\n        }},default_tty1_ops:{put_char:function(tty, val) {\r\n          if (val === null || val === 10) {\r\n            err(UTF8ArrayToString(tty.output, 0));\r\n            tty.output = [];\r\n          } else {\r\n            if (val != 0) tty.output.push(val);\r\n          }\r\n        },flush:function(tty) {\r\n          if (tty.output && tty.output.length > 0) {\r\n            err(UTF8ArrayToString(tty.output, 0));\r\n            tty.output = [];\r\n          }\r\n        }}};\r\n  \r\n  function zeroMemory(address, size) {\r\n      HEAPU8.fill(0, address, address + size);\r\n    }\r\n  \r\n  function alignMemory(size, alignment) {\r\n      assert(alignment, \"alignment argument is required\");\r\n      return Math.ceil(size / alignment) * alignment;\r\n    }\r\n  function mmapAlloc(size) {\r\n      size = alignMemory(size, 65536);\r\n      var ptr = _emscripten_builtin_memalign(65536, size);\r\n      if (!ptr) return 0;\r\n      zeroMemory(ptr, size);\r\n      return ptr;\r\n    }\r\n  var MEMFS = {ops_table:null,mount:function(mount) {\r\n        return MEMFS.createNode(null, '/', 16384 | 511 /* 0777 */, 0);\r\n      },createNode:function(parent, name, mode, dev) {\r\n        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\r\n          // no supported\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (!MEMFS.ops_table) {\r\n          MEMFS.ops_table = {\r\n            dir: {\r\n              node: {\r\n                getattr: MEMFS.node_ops.getattr,\r\n                setattr: MEMFS.node_ops.setattr,\r\n                lookup: MEMFS.node_ops.lookup,\r\n                mknod: MEMFS.node_ops.mknod,\r\n                rename: MEMFS.node_ops.rename,\r\n                unlink: MEMFS.node_ops.unlink,\r\n                rmdir: MEMFS.node_ops.rmdir,\r\n                readdir: MEMFS.node_ops.readdir,\r\n                symlink: MEMFS.node_ops.symlink\r\n              },\r\n              stream: {\r\n                llseek: MEMFS.stream_ops.llseek\r\n              }\r\n            },\r\n            file: {\r\n              node: {\r\n                getattr: MEMFS.node_ops.getattr,\r\n                setattr: MEMFS.node_ops.setattr\r\n              },\r\n              stream: {\r\n                llseek: MEMFS.stream_ops.llseek,\r\n                read: MEMFS.stream_ops.read,\r\n                write: MEMFS.stream_ops.write,\r\n                allocate: MEMFS.stream_ops.allocate,\r\n                mmap: MEMFS.stream_ops.mmap,\r\n                msync: MEMFS.stream_ops.msync\r\n              }\r\n            },\r\n            link: {\r\n              node: {\r\n                getattr: MEMFS.node_ops.getattr,\r\n                setattr: MEMFS.node_ops.setattr,\r\n                readlink: MEMFS.node_ops.readlink\r\n              },\r\n              stream: {}\r\n            },\r\n            chrdev: {\r\n              node: {\r\n                getattr: MEMFS.node_ops.getattr,\r\n                setattr: MEMFS.node_ops.setattr\r\n              },\r\n              stream: FS.chrdev_stream_ops\r\n            }\r\n          };\r\n        }\r\n        var node = FS.createNode(parent, name, mode, dev);\r\n        if (FS.isDir(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.dir.node;\r\n          node.stream_ops = MEMFS.ops_table.dir.stream;\r\n          node.contents = {};\r\n        } else if (FS.isFile(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.file.node;\r\n          node.stream_ops = MEMFS.ops_table.file.stream;\r\n          node.usedBytes = 0; // The actual number of bytes used in the typed array, as opposed to contents.length which gives the whole capacity.\r\n          // When the byte data of the file is populated, this will point to either a typed array, or a normal JS array. Typed arrays are preferred\r\n          // for performance, and used by default. However, typed arrays are not resizable like normal JS arrays are, so there is a small disk size\r\n          // penalty involved for appending file writes that continuously grow a file similar to std::vector capacity vs used -scheme.\r\n          node.contents = null; \r\n        } else if (FS.isLink(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.link.node;\r\n          node.stream_ops = MEMFS.ops_table.link.stream;\r\n        } else if (FS.isChrdev(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.chrdev.node;\r\n          node.stream_ops = MEMFS.ops_table.chrdev.stream;\r\n        }\r\n        node.timestamp = Date.now();\r\n        // add the new node to the parent\r\n        if (parent) {\r\n          parent.contents[name] = node;\r\n          parent.timestamp = node.timestamp;\r\n        }\r\n        return node;\r\n      },getFileDataAsTypedArray:function(node) {\r\n        if (!node.contents) return new Uint8Array(0);\r\n        if (node.contents.subarray) return node.contents.subarray(0, node.usedBytes); // Make sure to not return excess unused bytes.\r\n        return new Uint8Array(node.contents);\r\n      },expandFileStorage:function(node, newCapacity) {\r\n        var prevCapacity = node.contents ? node.contents.length : 0;\r\n        if (prevCapacity >= newCapacity) return; // No need to expand, the storage was already large enough.\r\n        // Don't expand strictly to the given requested limit if it's only a very small increase, but instead geometrically grow capacity.\r\n        // For small filesizes (<1MB), perform size*2 geometric increase, but for large sizes, do a much more conservative size*1.125 increase to\r\n        // avoid overshooting the allocation cap by a very large margin.\r\n        var CAPACITY_DOUBLING_MAX = 1024 * 1024;\r\n        newCapacity = Math.max(newCapacity, (prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>> 0);\r\n        if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256); // At minimum allocate 256b for each file when expanding.\r\n        var oldContents = node.contents;\r\n        node.contents = new Uint8Array(newCapacity); // Allocate new storage.\r\n        if (node.usedBytes > 0) node.contents.set(oldContents.subarray(0, node.usedBytes), 0); // Copy old data over to the new storage.\r\n      },resizeFileStorage:function(node, newSize) {\r\n        if (node.usedBytes == newSize) return;\r\n        if (newSize == 0) {\r\n          node.contents = null; // Fully decommit when requesting a resize to zero.\r\n          node.usedBytes = 0;\r\n        } else {\r\n          var oldContents = node.contents;\r\n          node.contents = new Uint8Array(newSize); // Allocate new storage.\r\n          if (oldContents) {\r\n            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes))); // Copy old data over to the new storage.\r\n          }\r\n          node.usedBytes = newSize;\r\n        }\r\n      },node_ops:{getattr:function(node) {\r\n          var attr = {};\r\n          // device numbers reuse inode numbers.\r\n          attr.dev = FS.isChrdev(node.mode) ? node.id : 1;\r\n          attr.ino = node.id;\r\n          attr.mode = node.mode;\r\n          attr.nlink = 1;\r\n          attr.uid = 0;\r\n          attr.gid = 0;\r\n          attr.rdev = node.rdev;\r\n          if (FS.isDir(node.mode)) {\r\n            attr.size = 4096;\r\n          } else if (FS.isFile(node.mode)) {\r\n            attr.size = node.usedBytes;\r\n          } else if (FS.isLink(node.mode)) {\r\n            attr.size = node.link.length;\r\n          } else {\r\n            attr.size = 0;\r\n          }\r\n          attr.atime = new Date(node.timestamp);\r\n          attr.mtime = new Date(node.timestamp);\r\n          attr.ctime = new Date(node.timestamp);\r\n          // NOTE: In our implementation, st_blocks = Math.ceil(st_size/st_blksize),\r\n          //       but this is not required by the standard.\r\n          attr.blksize = 4096;\r\n          attr.blocks = Math.ceil(attr.size / attr.blksize);\r\n          return attr;\r\n        },setattr:function(node, attr) {\r\n          if (attr.mode !== undefined) {\r\n            node.mode = attr.mode;\r\n          }\r\n          if (attr.timestamp !== undefined) {\r\n            node.timestamp = attr.timestamp;\r\n          }\r\n          if (attr.size !== undefined) {\r\n            MEMFS.resizeFileStorage(node, attr.size);\r\n          }\r\n        },lookup:function(parent, name) {\r\n          throw FS.genericErrors[44];\r\n        },mknod:function(parent, name, mode, dev) {\r\n          return MEMFS.createNode(parent, name, mode, dev);\r\n        },rename:function(old_node, new_dir, new_name) {\r\n          // if we're overwriting a directory at new_name, make sure it's empty.\r\n          if (FS.isDir(old_node.mode)) {\r\n            var new_node;\r\n            try {\r\n              new_node = FS.lookupNode(new_dir, new_name);\r\n            } catch (e) {\r\n            }\r\n            if (new_node) {\r\n              for (var i in new_node.contents) {\r\n                throw new FS.ErrnoError(55);\r\n              }\r\n            }\r\n          }\r\n          // do the internal rewiring\r\n          delete old_node.parent.contents[old_node.name];\r\n          old_node.parent.timestamp = Date.now()\r\n          old_node.name = new_name;\r\n          new_dir.contents[new_name] = old_node;\r\n          new_dir.timestamp = old_node.parent.timestamp;\r\n          old_node.parent = new_dir;\r\n        },unlink:function(parent, name) {\r\n          delete parent.contents[name];\r\n          parent.timestamp = Date.now();\r\n        },rmdir:function(parent, name) {\r\n          var node = FS.lookupNode(parent, name);\r\n          for (var i in node.contents) {\r\n            throw new FS.ErrnoError(55);\r\n          }\r\n          delete parent.contents[name];\r\n          parent.timestamp = Date.now();\r\n        },readdir:function(node) {\r\n          var entries = ['.', '..'];\r\n          for (var key in node.contents) {\r\n            if (!node.contents.hasOwnProperty(key)) {\r\n              continue;\r\n            }\r\n            entries.push(key);\r\n          }\r\n          return entries;\r\n        },symlink:function(parent, newname, oldpath) {\r\n          var node = MEMFS.createNode(parent, newname, 511 /* 0777 */ | 40960, 0);\r\n          node.link = oldpath;\r\n          return node;\r\n        },readlink:function(node) {\r\n          if (!FS.isLink(node.mode)) {\r\n            throw new FS.ErrnoError(28);\r\n          }\r\n          return node.link;\r\n        }},stream_ops:{read:function(stream, buffer, offset, length, position) {\r\n          var contents = stream.node.contents;\r\n          if (position >= stream.node.usedBytes) return 0;\r\n          var size = Math.min(stream.node.usedBytes - position, length);\r\n          assert(size >= 0);\r\n          if (size > 8 && contents.subarray) { // non-trivial, and typed array\r\n            buffer.set(contents.subarray(position, position + size), offset);\r\n          } else {\r\n            for (var i = 0; i < size; i++) buffer[offset + i] = contents[position + i];\r\n          }\r\n          return size;\r\n        },write:function(stream, buffer, offset, length, position, canOwn) {\r\n          // The data buffer should be a typed array view\r\n          assert(!(buffer instanceof ArrayBuffer));\r\n  \r\n          if (!length) return 0;\r\n          var node = stream.node;\r\n          node.timestamp = Date.now();\r\n  \r\n          if (buffer.subarray && (!node.contents || node.contents.subarray)) { // This write is from a typed array to a typed array?\r\n            if (canOwn) {\r\n              assert(position === 0, 'canOwn must imply no weird position inside the file');\r\n              node.contents = buffer.subarray(offset, offset + length);\r\n              node.usedBytes = length;\r\n              return length;\r\n            } else if (node.usedBytes === 0 && position === 0) { // If this is a simple first write to an empty file, do a fast set since we don't need to care about old data.\r\n              node.contents = buffer.slice(offset, offset + length);\r\n              node.usedBytes = length;\r\n              return length;\r\n            } else if (position + length <= node.usedBytes) { // Writing to an already allocated and used subrange of the file?\r\n              node.contents.set(buffer.subarray(offset, offset + length), position);\r\n              return length;\r\n            }\r\n          }\r\n  \r\n          // Appending to an existing file and we need to reallocate, or source data did not come as a typed array.\r\n          MEMFS.expandFileStorage(node, position+length);\r\n          if (node.contents.subarray && buffer.subarray) {\r\n            // Use typed array write which is available.\r\n            node.contents.set(buffer.subarray(offset, offset + length), position);\r\n          } else {\r\n            for (var i = 0; i < length; i++) {\r\n             node.contents[position + i] = buffer[offset + i]; // Or fall back to manual write if not.\r\n            }\r\n          }\r\n          node.usedBytes = Math.max(node.usedBytes, position + length);\r\n          return length;\r\n        },llseek:function(stream, offset, whence) {\r\n          var position = offset;\r\n          if (whence === 1) {\r\n            position += stream.position;\r\n          } else if (whence === 2) {\r\n            if (FS.isFile(stream.node.mode)) {\r\n              position += stream.node.usedBytes;\r\n            }\r\n          }\r\n          if (position < 0) {\r\n            throw new FS.ErrnoError(28);\r\n          }\r\n          return position;\r\n        },allocate:function(stream, offset, length) {\r\n          MEMFS.expandFileStorage(stream.node, offset + length);\r\n          stream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);\r\n        },mmap:function(stream, address, length, position, prot, flags) {\r\n          if (address !== 0) {\r\n            // We don't currently support location hints for the address of the mapping\r\n            throw new FS.ErrnoError(28);\r\n          }\r\n          if (!FS.isFile(stream.node.mode)) {\r\n            throw new FS.ErrnoError(43);\r\n          }\r\n          var ptr;\r\n          var allocated;\r\n          var contents = stream.node.contents;\r\n          // Only make a new copy when MAP_PRIVATE is specified.\r\n          if (!(flags & 2) && contents.buffer === buffer) {\r\n            // We can't emulate MAP_SHARED when the file is not backed by the buffer\r\n            // we're mapping to (e.g. the HEAP buffer).\r\n            allocated = false;\r\n            ptr = contents.byteOffset;\r\n          } else {\r\n            // Try to avoid unnecessary slices.\r\n            if (position > 0 || position + length < contents.length) {\r\n              if (contents.subarray) {\r\n                contents = contents.subarray(position, position + length);\r\n              } else {\r\n                contents = Array.prototype.slice.call(contents, position, position + length);\r\n              }\r\n            }\r\n            allocated = true;\r\n            ptr = mmapAlloc(length);\r\n            if (!ptr) {\r\n              throw new FS.ErrnoError(48);\r\n            }\r\n            HEAP8.set(contents, ptr);\r\n          }\r\n          return { ptr: ptr, allocated: allocated };\r\n        },msync:function(stream, buffer, offset, length, mmapFlags) {\r\n          if (!FS.isFile(stream.node.mode)) {\r\n            throw new FS.ErrnoError(43);\r\n          }\r\n          if (mmapFlags & 2) {\r\n            // MAP_PRIVATE calls need not to be synced back to underlying fs\r\n            return 0;\r\n          }\r\n  \r\n          var bytesWritten = MEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\r\n          // should we check if bytesWritten and length are the same?\r\n          return 0;\r\n        }}};\r\n  \r\n  /** @param {boolean=} noRunDep */\r\n  function asyncLoad(url, onload, onerror, noRunDep) {\r\n      var dep = !noRunDep ? getUniqueRunDependency('al ' + url) : '';\r\n      readAsync(url, function(arrayBuffer) {\r\n        assert(arrayBuffer, 'Loading data file \"' + url + '\" failed (no arrayBuffer).');\r\n        onload(new Uint8Array(arrayBuffer));\r\n        if (dep) removeRunDependency(dep);\r\n      }, function(event) {\r\n        if (onerror) {\r\n          onerror();\r\n        } else {\r\n          throw 'Loading data file \"' + url + '\" failed.';\r\n        }\r\n      });\r\n      if (dep) addRunDependency(dep);\r\n    }\r\n  \r\n  var ERRNO_MESSAGES = {0:\"Success\",1:\"Arg list too long\",2:\"Permission denied\",3:\"Address already in use\",4:\"Address not available\",5:\"Address family not supported by protocol family\",6:\"No more processes\",7:\"Socket already connected\",8:\"Bad file number\",9:\"Trying to read unreadable message\",10:\"Mount device busy\",11:\"Operation canceled\",12:\"No children\",13:\"Connection aborted\",14:\"Connection refused\",15:\"Connection reset by peer\",16:\"File locking deadlock error\",17:\"Destination address required\",18:\"Math arg out of domain of func\",19:\"Quota exceeded\",20:\"File exists\",21:\"Bad address\",22:\"File too large\",23:\"Host is unreachable\",24:\"Identifier removed\",25:\"Illegal byte sequence\",26:\"Connection already in progress\",27:\"Interrupted system call\",28:\"Invalid argument\",29:\"I/O error\",30:\"Socket is already connected\",31:\"Is a directory\",32:\"Too many symbolic links\",33:\"Too many open files\",34:\"Too many links\",35:\"Message too long\",36:\"Multihop attempted\",37:\"File or path name too long\",38:\"Network interface is not configured\",39:\"Connection reset by network\",40:\"Network is unreachable\",41:\"Too many open files in system\",42:\"No buffer space available\",43:\"No such device\",44:\"No such file or directory\",45:\"Exec format error\",46:\"No record locks available\",47:\"The link has been severed\",48:\"Not enough core\",49:\"No message of desired type\",50:\"Protocol not available\",51:\"No space left on device\",52:\"Function not implemented\",53:\"Socket is not connected\",54:\"Not a directory\",55:\"Directory not empty\",56:\"State not recoverable\",57:\"Socket operation on non-socket\",59:\"Not a typewriter\",60:\"No such device or address\",61:\"Value too large for defined data type\",62:\"Previous owner died\",63:\"Not super-user\",64:\"Broken pipe\",65:\"Protocol error\",66:\"Unknown protocol\",67:\"Protocol wrong type for socket\",68:\"Math result not representable\",69:\"Read only file system\",70:\"Illegal seek\",71:\"No such process\",72:\"Stale file handle\",73:\"Connection timed out\",74:\"Text file busy\",75:\"Cross-device link\",100:\"Device not a stream\",101:\"Bad font file fmt\",102:\"Invalid slot\",103:\"Invalid request code\",104:\"No anode\",105:\"Block device required\",106:\"Channel number out of range\",107:\"Level 3 halted\",108:\"Level 3 reset\",109:\"Link number out of range\",110:\"Protocol driver not attached\",111:\"No CSI structure available\",112:\"Level 2 halted\",113:\"Invalid exchange\",114:\"Invalid request descriptor\",115:\"Exchange full\",116:\"No data (for no delay io)\",117:\"Timer expired\",118:\"Out of streams resources\",119:\"Machine is not on the network\",120:\"Package not installed\",121:\"The object is remote\",122:\"Advertise error\",123:\"Srmount error\",124:\"Communication error on send\",125:\"Cross mount point (not really error)\",126:\"Given log. name not unique\",127:\"f.d. invalid for this operation\",128:\"Remote address changed\",129:\"Can   access a needed shared lib\",130:\"Accessing a corrupted shared lib\",131:\".lib section in a.out corrupted\",132:\"Attempting to link in too many libs\",133:\"Attempting to exec a shared library\",135:\"Streams pipe error\",136:\"Too many users\",137:\"Socket type not supported\",138:\"Not supported\",139:\"Protocol family not supported\",140:\"Can't send after socket shutdown\",141:\"Too many references\",142:\"Host is down\",148:\"No medium (in tape drive)\",156:\"Level 2 not synchronized\"};\r\n  \r\n  var ERRNO_CODES = {};\r\n  var FS = {root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:\"/\",initialized:false,ignorePermissions:true,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(path, opts = {}) => {\r\n        path = PATH_FS.resolve(FS.cwd(), path);\r\n  \r\n        if (!path) return { path: '', node: null };\r\n  \r\n        var defaults = {\r\n          follow_mount: true,\r\n          recurse_count: 0\r\n        };\r\n        opts = Object.assign(defaults, opts)\r\n  \r\n        if (opts.recurse_count > 8) {  // max recursive lookup of 8\r\n          throw new FS.ErrnoError(32);\r\n        }\r\n  \r\n        // split the path\r\n        var parts = PATH.normalizeArray(path.split('/').filter((p) => !!p), false);\r\n  \r\n        // start at the root\r\n        var current = FS.root;\r\n        var current_path = '/';\r\n  \r\n        for (var i = 0; i < parts.length; i++) {\r\n          var islast = (i === parts.length-1);\r\n          if (islast && opts.parent) {\r\n            // stop resolving\r\n            break;\r\n          }\r\n  \r\n          current = FS.lookupNode(current, parts[i]);\r\n          current_path = PATH.join2(current_path, parts[i]);\r\n  \r\n          // jump to the mount's root node if this is a mountpoint\r\n          if (FS.isMountpoint(current)) {\r\n            if (!islast || (islast && opts.follow_mount)) {\r\n              current = current.mounted.root;\r\n            }\r\n          }\r\n  \r\n          // by default, lookupPath will not follow a symlink if it is the final path component.\r\n          // setting opts.follow = true will override this behavior.\r\n          if (!islast || opts.follow) {\r\n            var count = 0;\r\n            while (FS.isLink(current.mode)) {\r\n              var link = FS.readlink(current_path);\r\n              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);\r\n  \r\n              var lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count + 1 });\r\n              current = lookup.node;\r\n  \r\n              if (count++ > 40) {  // limit max consecutive symlinks to 40 (SYMLOOP_MAX).\r\n                throw new FS.ErrnoError(32);\r\n              }\r\n            }\r\n          }\r\n        }\r\n  \r\n        return { path: current_path, node: current };\r\n      },getPath:(node) => {\r\n        var path;\r\n        while (true) {\r\n          if (FS.isRoot(node)) {\r\n            var mount = node.mount.mountpoint;\r\n            if (!path) return mount;\r\n            return mount[mount.length-1] !== '/' ? mount + '/' + path : mount + path;\r\n          }\r\n          path = path ? node.name + '/' + path : node.name;\r\n          node = node.parent;\r\n        }\r\n      },hashName:(parentid, name) => {\r\n        var hash = 0;\r\n  \r\n        for (var i = 0; i < name.length; i++) {\r\n          hash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\r\n        }\r\n        return ((parentid + hash) >>> 0) % FS.nameTable.length;\r\n      },hashAddNode:(node) => {\r\n        var hash = FS.hashName(node.parent.id, node.name);\r\n        node.name_next = FS.nameTable[hash];\r\n        FS.nameTable[hash] = node;\r\n      },hashRemoveNode:(node) => {\r\n        var hash = FS.hashName(node.parent.id, node.name);\r\n        if (FS.nameTable[hash] === node) {\r\n          FS.nameTable[hash] = node.name_next;\r\n        } else {\r\n          var current = FS.nameTable[hash];\r\n          while (current) {\r\n            if (current.name_next === node) {\r\n              current.name_next = node.name_next;\r\n              break;\r\n            }\r\n            current = current.name_next;\r\n          }\r\n        }\r\n      },lookupNode:(parent, name) => {\r\n        var errCode = FS.mayLookup(parent);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode, parent);\r\n        }\r\n        var hash = FS.hashName(parent.id, name);\r\n        for (var node = FS.nameTable[hash]; node; node = node.name_next) {\r\n          var nodeName = node.name;\r\n          if (node.parent.id === parent.id && nodeName === name) {\r\n            return node;\r\n          }\r\n        }\r\n        // if we failed to find it in the cache, call into the VFS\r\n        return FS.lookup(parent, name);\r\n      },createNode:(parent, name, mode, rdev) => {\r\n        assert(typeof parent == 'object')\r\n        var node = new FS.FSNode(parent, name, mode, rdev);\r\n  \r\n        FS.hashAddNode(node);\r\n  \r\n        return node;\r\n      },destroyNode:(node) => {\r\n        FS.hashRemoveNode(node);\r\n      },isRoot:(node) => {\r\n        return node === node.parent;\r\n      },isMountpoint:(node) => {\r\n        return !!node.mounted;\r\n      },isFile:(mode) => {\r\n        return (mode & 61440) === 32768;\r\n      },isDir:(mode) => {\r\n        return (mode & 61440) === 16384;\r\n      },isLink:(mode) => {\r\n        return (mode & 61440) === 40960;\r\n      },isChrdev:(mode) => {\r\n        return (mode & 61440) === 8192;\r\n      },isBlkdev:(mode) => {\r\n        return (mode & 61440) === 24576;\r\n      },isFIFO:(mode) => {\r\n        return (mode & 61440) === 4096;\r\n      },isSocket:(mode) => {\r\n        return (mode & 49152) === 49152;\r\n      },flagModes:{\"r\":0,\"r+\":2,\"w\":577,\"w+\":578,\"a\":1089,\"a+\":1090},modeStringToFlags:(str) => {\r\n        var flags = FS.flagModes[str];\r\n        if (typeof flags == 'undefined') {\r\n          throw new Error('Unknown file open mode: ' + str);\r\n        }\r\n        return flags;\r\n      },flagsToPermissionString:(flag) => {\r\n        var perms = ['r', 'w', 'rw'][flag & 3];\r\n        if ((flag & 512)) {\r\n          perms += 'w';\r\n        }\r\n        return perms;\r\n      },nodePermissions:(node, perms) => {\r\n        if (FS.ignorePermissions) {\r\n          return 0;\r\n        }\r\n        // return 0 if any user, group or owner bits are set.\r\n        if (perms.includes('r') && !(node.mode & 292)) {\r\n          return 2;\r\n        } else if (perms.includes('w') && !(node.mode & 146)) {\r\n          return 2;\r\n        } else if (perms.includes('x') && !(node.mode & 73)) {\r\n          return 2;\r\n        }\r\n        return 0;\r\n      },mayLookup:(dir) => {\r\n        var errCode = FS.nodePermissions(dir, 'x');\r\n        if (errCode) return errCode;\r\n        if (!dir.node_ops.lookup) return 2;\r\n        return 0;\r\n      },mayCreate:(dir, name) => {\r\n        try {\r\n          var node = FS.lookupNode(dir, name);\r\n          return 20;\r\n        } catch (e) {\r\n        }\r\n        return FS.nodePermissions(dir, 'wx');\r\n      },mayDelete:(dir, name, isdir) => {\r\n        var node;\r\n        try {\r\n          node = FS.lookupNode(dir, name);\r\n        } catch (e) {\r\n          return e.errno;\r\n        }\r\n        var errCode = FS.nodePermissions(dir, 'wx');\r\n        if (errCode) {\r\n          return errCode;\r\n        }\r\n        if (isdir) {\r\n          if (!FS.isDir(node.mode)) {\r\n            return 54;\r\n          }\r\n          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\r\n            return 10;\r\n          }\r\n        } else {\r\n          if (FS.isDir(node.mode)) {\r\n            return 31;\r\n          }\r\n        }\r\n        return 0;\r\n      },mayOpen:(node, flags) => {\r\n        if (!node) {\r\n          return 44;\r\n        }\r\n        if (FS.isLink(node.mode)) {\r\n          return 32;\r\n        } else if (FS.isDir(node.mode)) {\r\n          if (FS.flagsToPermissionString(flags) !== 'r' || // opening for write\r\n              (flags & 512)) { // TODO: check for O_SEARCH? (== search for dir only)\r\n            return 31;\r\n          }\r\n        }\r\n        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\r\n      },MAX_OPEN_FDS:4096,nextfd:(fd_start = 0, fd_end = FS.MAX_OPEN_FDS) => {\r\n        for (var fd = fd_start; fd <= fd_end; fd++) {\r\n          if (!FS.streams[fd]) {\r\n            return fd;\r\n          }\r\n        }\r\n        throw new FS.ErrnoError(33);\r\n      },getStream:(fd) => FS.streams[fd],createStream:(stream, fd_start, fd_end) => {\r\n        if (!FS.FSStream) {\r\n          FS.FSStream = /** @constructor */ function(){};\r\n          FS.FSStream.prototype = {\r\n            object: {\r\n              get: function() { return this.node; },\r\n              set: function(val) { this.node = val; }\r\n            },\r\n            isRead: {\r\n              get: function() { return (this.flags & 2097155) !== 1; }\r\n            },\r\n            isWrite: {\r\n              get: function() { return (this.flags & 2097155) !== 0; }\r\n            },\r\n            isAppend: {\r\n              get: function() { return (this.flags & 1024); }\r\n            }\r\n          };\r\n        }\r\n        // clone it, so we can return an instance of FSStream\r\n        stream = Object.assign(new FS.FSStream(), stream);\r\n        var fd = FS.nextfd(fd_start, fd_end);\r\n        stream.fd = fd;\r\n        FS.streams[fd] = stream;\r\n        return stream;\r\n      },closeStream:(fd) => {\r\n        FS.streams[fd] = null;\r\n      },chrdev_stream_ops:{open:(stream) => {\r\n          var device = FS.getDevice(stream.node.rdev);\r\n          // override node's stream ops with the device's\r\n          stream.stream_ops = device.stream_ops;\r\n          // forward the open call\r\n          if (stream.stream_ops.open) {\r\n            stream.stream_ops.open(stream);\r\n          }\r\n        },llseek:() => {\r\n          throw new FS.ErrnoError(70);\r\n        }},major:(dev) => ((dev) >> 8),minor:(dev) => ((dev) & 0xff),makedev:(ma, mi) => ((ma) << 8 | (mi)),registerDevice:(dev, ops) => {\r\n        FS.devices[dev] = { stream_ops: ops };\r\n      },getDevice:(dev) => FS.devices[dev],getMounts:(mount) => {\r\n        var mounts = [];\r\n        var check = [mount];\r\n  \r\n        while (check.length) {\r\n          var m = check.pop();\r\n  \r\n          mounts.push(m);\r\n  \r\n          check.push.apply(check, m.mounts);\r\n        }\r\n  \r\n        return mounts;\r\n      },syncfs:(populate, callback) => {\r\n        if (typeof populate == 'function') {\r\n          callback = populate;\r\n          populate = false;\r\n        }\r\n  \r\n        FS.syncFSRequests++;\r\n  \r\n        if (FS.syncFSRequests > 1) {\r\n          err('warning: ' + FS.syncFSRequests + ' FS.syncfs operations in flight at once, probably just doing extra work');\r\n        }\r\n  \r\n        var mounts = FS.getMounts(FS.root.mount);\r\n        var completed = 0;\r\n  \r\n        function doCallback(errCode) {\r\n          assert(FS.syncFSRequests > 0);\r\n          FS.syncFSRequests--;\r\n          return callback(errCode);\r\n        }\r\n  \r\n        function done(errCode) {\r\n          if (errCode) {\r\n            if (!done.errored) {\r\n              done.errored = true;\r\n              return doCallback(errCode);\r\n            }\r\n            return;\r\n          }\r\n          if (++completed >= mounts.length) {\r\n            doCallback(null);\r\n          }\r\n        };\r\n  \r\n        // sync all mounts\r\n        mounts.forEach((mount) => {\r\n          if (!mount.type.syncfs) {\r\n            return done(null);\r\n          }\r\n          mount.type.syncfs(mount, populate, done);\r\n        });\r\n      },mount:(type, opts, mountpoint) => {\r\n        if (typeof type == 'string') {\r\n          // The filesystem was not included, and instead we have an error\r\n          // message stored in the variable.\r\n          throw type;\r\n        }\r\n        var root = mountpoint === '/';\r\n        var pseudo = !mountpoint;\r\n        var node;\r\n  \r\n        if (root && FS.root) {\r\n          throw new FS.ErrnoError(10);\r\n        } else if (!root && !pseudo) {\r\n          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n  \r\n          mountpoint = lookup.path;  // use the absolute path\r\n          node = lookup.node;\r\n  \r\n          if (FS.isMountpoint(node)) {\r\n            throw new FS.ErrnoError(10);\r\n          }\r\n  \r\n          if (!FS.isDir(node.mode)) {\r\n            throw new FS.ErrnoError(54);\r\n          }\r\n        }\r\n  \r\n        var mount = {\r\n          type: type,\r\n          opts: opts,\r\n          mountpoint: mountpoint,\r\n          mounts: []\r\n        };\r\n  \r\n        // create a root node for the fs\r\n        var mountRoot = type.mount(mount);\r\n        mountRoot.mount = mount;\r\n        mount.root = mountRoot;\r\n  \r\n        if (root) {\r\n          FS.root = mountRoot;\r\n        } else if (node) {\r\n          // set as a mountpoint\r\n          node.mounted = mount;\r\n  \r\n          // add the new mount to the current mount's children\r\n          if (node.mount) {\r\n            node.mount.mounts.push(mount);\r\n          }\r\n        }\r\n  \r\n        return mountRoot;\r\n      },unmount:(mountpoint) => {\r\n        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n  \r\n        if (!FS.isMountpoint(lookup.node)) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n  \r\n        // destroy the nodes for this mount, and all its child mounts\r\n        var node = lookup.node;\r\n        var mount = node.mounted;\r\n        var mounts = FS.getMounts(mount);\r\n  \r\n        Object.keys(FS.nameTable).forEach((hash) => {\r\n          var current = FS.nameTable[hash];\r\n  \r\n          while (current) {\r\n            var next = current.name_next;\r\n  \r\n            if (mounts.includes(current.mount)) {\r\n              FS.destroyNode(current);\r\n            }\r\n  \r\n            current = next;\r\n          }\r\n        });\r\n  \r\n        // no longer a mountpoint\r\n        node.mounted = null;\r\n  \r\n        // remove this mount from the child mounts\r\n        var idx = node.mount.mounts.indexOf(mount);\r\n        assert(idx !== -1);\r\n        node.mount.mounts.splice(idx, 1);\r\n      },lookup:(parent, name) => {\r\n        return parent.node_ops.lookup(parent, name);\r\n      },mknod:(path, mode, dev) => {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        var name = PATH.basename(path);\r\n        if (!name || name === '.' || name === '..') {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var errCode = FS.mayCreate(parent, name);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.mknod) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        return parent.node_ops.mknod(parent, name, mode, dev);\r\n      },create:(path, mode) => {\r\n        mode = mode !== undefined ? mode : 438 /* 0666 */;\r\n        mode &= 4095;\r\n        mode |= 32768;\r\n        return FS.mknod(path, mode, 0);\r\n      },mkdir:(path, mode) => {\r\n        mode = mode !== undefined ? mode : 511 /* 0777 */;\r\n        mode &= 511 | 512;\r\n        mode |= 16384;\r\n        return FS.mknod(path, mode, 0);\r\n      },mkdirTree:(path, mode) => {\r\n        var dirs = path.split('/');\r\n        var d = '';\r\n        for (var i = 0; i < dirs.length; ++i) {\r\n          if (!dirs[i]) continue;\r\n          d += '/' + dirs[i];\r\n          try {\r\n            FS.mkdir(d, mode);\r\n          } catch(e) {\r\n            if (e.errno != 20) throw e;\r\n          }\r\n        }\r\n      },mkdev:(path, mode, dev) => {\r\n        if (typeof dev == 'undefined') {\r\n          dev = mode;\r\n          mode = 438 /* 0666 */;\r\n        }\r\n        mode |= 8192;\r\n        return FS.mknod(path, mode, dev);\r\n      },symlink:(oldpath, newpath) => {\r\n        if (!PATH_FS.resolve(oldpath)) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var lookup = FS.lookupPath(newpath, { parent: true });\r\n        var parent = lookup.node;\r\n        if (!parent) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var newname = PATH.basename(newpath);\r\n        var errCode = FS.mayCreate(parent, newname);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.symlink) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        return parent.node_ops.symlink(parent, newname, oldpath);\r\n      },rename:(old_path, new_path) => {\r\n        var old_dirname = PATH.dirname(old_path);\r\n        var new_dirname = PATH.dirname(new_path);\r\n        var old_name = PATH.basename(old_path);\r\n        var new_name = PATH.basename(new_path);\r\n        // parents must exist\r\n        var lookup, old_dir, new_dir;\r\n  \r\n        // let the errors from non existant directories percolate up\r\n        lookup = FS.lookupPath(old_path, { parent: true });\r\n        old_dir = lookup.node;\r\n        lookup = FS.lookupPath(new_path, { parent: true });\r\n        new_dir = lookup.node;\r\n  \r\n        if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\r\n        // need to be part of the same mount\r\n        if (old_dir.mount !== new_dir.mount) {\r\n          throw new FS.ErrnoError(75);\r\n        }\r\n        // source must exist\r\n        var old_node = FS.lookupNode(old_dir, old_name);\r\n        // old path should not be an ancestor of the new path\r\n        var relative = PATH_FS.relative(old_path, new_dirname);\r\n        if (relative.charAt(0) !== '.') {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        // new path should not be an ancestor of the old path\r\n        relative = PATH_FS.relative(new_path, old_dirname);\r\n        if (relative.charAt(0) !== '.') {\r\n          throw new FS.ErrnoError(55);\r\n        }\r\n        // see if the new path already exists\r\n        var new_node;\r\n        try {\r\n          new_node = FS.lookupNode(new_dir, new_name);\r\n        } catch (e) {\r\n          // not fatal\r\n        }\r\n        // early out if nothing needs to change\r\n        if (old_node === new_node) {\r\n          return;\r\n        }\r\n        // we'll need to delete the old entry\r\n        var isdir = FS.isDir(old_node.mode);\r\n        var errCode = FS.mayDelete(old_dir, old_name, isdir);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        // need delete permissions if we'll be overwriting.\r\n        // need create permissions if new doesn't already exist.\r\n        errCode = new_node ?\r\n          FS.mayDelete(new_dir, new_name, isdir) :\r\n          FS.mayCreate(new_dir, new_name);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!old_dir.node_ops.rename) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(old_node) || (new_node && FS.isMountpoint(new_node))) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        // if we are going to change the parent, check write permissions\r\n        if (new_dir !== old_dir) {\r\n          errCode = FS.nodePermissions(old_dir, 'w');\r\n          if (errCode) {\r\n            throw new FS.ErrnoError(errCode);\r\n          }\r\n        }\r\n        // remove the node from the lookup hash\r\n        FS.hashRemoveNode(old_node);\r\n        // do the underlying fs rename\r\n        try {\r\n          old_dir.node_ops.rename(old_node, new_dir, new_name);\r\n        } catch (e) {\r\n          throw e;\r\n        } finally {\r\n          // add the node back to the hash (in case node_ops.rename\r\n          // changed its name)\r\n          FS.hashAddNode(old_node);\r\n        }\r\n      },rmdir:(path) => {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        var name = PATH.basename(path);\r\n        var node = FS.lookupNode(parent, name);\r\n        var errCode = FS.mayDelete(parent, name, true);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.rmdir) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(node)) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        parent.node_ops.rmdir(parent, name);\r\n        FS.destroyNode(node);\r\n      },readdir:(path) => {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        var node = lookup.node;\r\n        if (!node.node_ops.readdir) {\r\n          throw new FS.ErrnoError(54);\r\n        }\r\n        return node.node_ops.readdir(node);\r\n      },unlink:(path) => {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        if (!parent) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var name = PATH.basename(path);\r\n        var node = FS.lookupNode(parent, name);\r\n        var errCode = FS.mayDelete(parent, name, false);\r\n        if (errCode) {\r\n          // According to POSIX, we should map EISDIR to EPERM, but\r\n          // we instead do what Linux does (and we must, as we use\r\n          // the musl linux libc).\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.unlink) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(node)) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        parent.node_ops.unlink(parent, name);\r\n        FS.destroyNode(node);\r\n      },readlink:(path) => {\r\n        var lookup = FS.lookupPath(path);\r\n        var link = lookup.node;\r\n        if (!link) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        if (!link.node_ops.readlink) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));\r\n      },stat:(path, dontFollow) => {\r\n        var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n        var node = lookup.node;\r\n        if (!node) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        if (!node.node_ops.getattr) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        return node.node_ops.getattr(node);\r\n      },lstat:(path) => {\r\n        return FS.stat(path, true);\r\n      },chmod:(path, mode, dontFollow) => {\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        if (!node.node_ops.setattr) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        node.node_ops.setattr(node, {\r\n          mode: (mode & 4095) | (node.mode & ~4095),\r\n          timestamp: Date.now()\r\n        });\r\n      },lchmod:(path, mode) => {\r\n        FS.chmod(path, mode, true);\r\n      },fchmod:(fd, mode) => {\r\n        var stream = FS.getStream(fd);\r\n        if (!stream) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        FS.chmod(stream.node, mode);\r\n      },chown:(path, uid, gid, dontFollow) => {\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        if (!node.node_ops.setattr) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        node.node_ops.setattr(node, {\r\n          timestamp: Date.now()\r\n          // we ignore the uid / gid for now\r\n        });\r\n      },lchown:(path, uid, gid) => {\r\n        FS.chown(path, uid, gid, true);\r\n      },fchown:(fd, uid, gid) => {\r\n        var stream = FS.getStream(fd);\r\n        if (!stream) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        FS.chown(stream.node, uid, gid);\r\n      },truncate:(path, len) => {\r\n        if (len < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: true });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        if (!node.node_ops.setattr) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isDir(node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!FS.isFile(node.mode)) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var errCode = FS.nodePermissions(node, 'w');\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        node.node_ops.setattr(node, {\r\n          size: len,\r\n          timestamp: Date.now()\r\n        });\r\n      },ftruncate:(fd, len) => {\r\n        var stream = FS.getStream(fd);\r\n        if (!stream) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if ((stream.flags & 2097155) === 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        FS.truncate(stream.node, len);\r\n      },utime:(path, atime, mtime) => {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        var node = lookup.node;\r\n        node.node_ops.setattr(node, {\r\n          timestamp: Math.max(atime, mtime)\r\n        });\r\n      },open:(path, flags, mode, fd_start, fd_end) => {\r\n        if (path === \"\") {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        flags = typeof flags == 'string' ? FS.modeStringToFlags(flags) : flags;\r\n        mode = typeof mode == 'undefined' ? 438 /* 0666 */ : mode;\r\n        if ((flags & 64)) {\r\n          mode = (mode & 4095) | 32768;\r\n        } else {\r\n          mode = 0;\r\n        }\r\n        var node;\r\n        if (typeof path == 'object') {\r\n          node = path;\r\n        } else {\r\n          path = PATH.normalize(path);\r\n          try {\r\n            var lookup = FS.lookupPath(path, {\r\n              follow: !(flags & 131072)\r\n            });\r\n            node = lookup.node;\r\n          } catch (e) {\r\n            // ignore\r\n          }\r\n        }\r\n        // perhaps we need to create the node\r\n        var created = false;\r\n        if ((flags & 64)) {\r\n          if (node) {\r\n            // if O_CREAT and O_EXCL are set, error out if the node already exists\r\n            if ((flags & 128)) {\r\n              throw new FS.ErrnoError(20);\r\n            }\r\n          } else {\r\n            // node doesn't exist, try to create it\r\n            node = FS.mknod(path, mode, 0);\r\n            created = true;\r\n          }\r\n        }\r\n        if (!node) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        // can't truncate a device\r\n        if (FS.isChrdev(node.mode)) {\r\n          flags &= ~512;\r\n        }\r\n        // if asked only for a directory, then this must be one\r\n        if ((flags & 65536) && !FS.isDir(node.mode)) {\r\n          throw new FS.ErrnoError(54);\r\n        }\r\n        // check permissions, if this is not a file we just created now (it is ok to\r\n        // create and write to a file with read-only permissions; it is read-only\r\n        // for later use)\r\n        if (!created) {\r\n          var errCode = FS.mayOpen(node, flags);\r\n          if (errCode) {\r\n            throw new FS.ErrnoError(errCode);\r\n          }\r\n        }\r\n        // do truncation if necessary\r\n        if ((flags & 512)) {\r\n          FS.truncate(node, 0);\r\n        }\r\n        // we've already handled these, don't pass down to the underlying vfs\r\n        flags &= ~(128 | 512 | 131072);\r\n  \r\n        // register the stream with the filesystem\r\n        var stream = FS.createStream({\r\n          node: node,\r\n          path: FS.getPath(node),  // we want the absolute path to the node\r\n          flags: flags,\r\n          seekable: true,\r\n          position: 0,\r\n          stream_ops: node.stream_ops,\r\n          // used by the file family libc calls (fopen, fwrite, ferror, etc.)\r\n          ungotten: [],\r\n          error: false\r\n        }, fd_start, fd_end);\r\n        // call the new stream's open function\r\n        if (stream.stream_ops.open) {\r\n          stream.stream_ops.open(stream);\r\n        }\r\n        if (Module['logReadFiles'] && !(flags & 1)) {\r\n          if (!FS.readFiles) FS.readFiles = {};\r\n          if (!(path in FS.readFiles)) {\r\n            FS.readFiles[path] = 1;\r\n          }\r\n        }\r\n        return stream;\r\n      },close:(stream) => {\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (stream.getdents) stream.getdents = null; // free readdir state\r\n        try {\r\n          if (stream.stream_ops.close) {\r\n            stream.stream_ops.close(stream);\r\n          }\r\n        } catch (e) {\r\n          throw e;\r\n        } finally {\r\n          FS.closeStream(stream.fd);\r\n        }\r\n        stream.fd = null;\r\n      },isClosed:(stream) => {\r\n        return stream.fd === null;\r\n      },llseek:(stream, offset, whence) => {\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (!stream.seekable || !stream.stream_ops.llseek) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        if (whence != 0 && whence != 1 && whence != 2) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        stream.position = stream.stream_ops.llseek(stream, offset, whence);\r\n        stream.ungotten = [];\r\n        return stream.position;\r\n      },read:(stream, buffer, offset, length, position) => {\r\n        if (length < 0 || position < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if ((stream.flags & 2097155) === 1) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (FS.isDir(stream.node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!stream.stream_ops.read) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var seeking = typeof position != 'undefined';\r\n        if (!seeking) {\r\n          position = stream.position;\r\n        } else if (!stream.seekable) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        var bytesRead = stream.stream_ops.read(stream, buffer, offset, length, position);\r\n        if (!seeking) stream.position += bytesRead;\r\n        return bytesRead;\r\n      },write:(stream, buffer, offset, length, position, canOwn) => {\r\n        if (length < 0 || position < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if ((stream.flags & 2097155) === 0) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (FS.isDir(stream.node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!stream.stream_ops.write) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (stream.seekable && stream.flags & 1024) {\r\n          // seek to the end before writing in append mode\r\n          FS.llseek(stream, 0, 2);\r\n        }\r\n        var seeking = typeof position != 'undefined';\r\n        if (!seeking) {\r\n          position = stream.position;\r\n        } else if (!stream.seekable) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        var bytesWritten = stream.stream_ops.write(stream, buffer, offset, length, position, canOwn);\r\n        if (!seeking) stream.position += bytesWritten;\r\n        return bytesWritten;\r\n      },allocate:(stream, offset, length) => {\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (offset < 0 || length <= 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if ((stream.flags & 2097155) === 0) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {\r\n          throw new FS.ErrnoError(43);\r\n        }\r\n        if (!stream.stream_ops.allocate) {\r\n          throw new FS.ErrnoError(138);\r\n        }\r\n        stream.stream_ops.allocate(stream, offset, length);\r\n      },mmap:(stream, address, length, position, prot, flags) => {\r\n        // User requests writing to file (prot & PROT_WRITE != 0).\r\n        // Checking if we have permissions to write to the file unless\r\n        // MAP_PRIVATE flag is set. According to POSIX spec it is possible\r\n        // to write to file opened in read-only mode with MAP_PRIVATE flag,\r\n        // as all modifications will be visible only in the memory of\r\n        // the current process.\r\n        if ((prot & 2) !== 0\r\n            && (flags & 2) === 0\r\n            && (stream.flags & 2097155) !== 2) {\r\n          throw new FS.ErrnoError(2);\r\n        }\r\n        if ((stream.flags & 2097155) === 1) {\r\n          throw new FS.ErrnoError(2);\r\n        }\r\n        if (!stream.stream_ops.mmap) {\r\n          throw new FS.ErrnoError(43);\r\n        }\r\n        return stream.stream_ops.mmap(stream, address, length, position, prot, flags);\r\n      },msync:(stream, buffer, offset, length, mmapFlags) => {\r\n        if (!stream || !stream.stream_ops.msync) {\r\n          return 0;\r\n        }\r\n        return stream.stream_ops.msync(stream, buffer, offset, length, mmapFlags);\r\n      },munmap:(stream) => 0,ioctl:(stream, cmd, arg) => {\r\n        if (!stream.stream_ops.ioctl) {\r\n          throw new FS.ErrnoError(59);\r\n        }\r\n        return stream.stream_ops.ioctl(stream, cmd, arg);\r\n      },readFile:(path, opts = {}) => {\r\n        opts.flags = opts.flags || 0;\r\n        opts.encoding = opts.encoding || 'binary';\r\n        if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\r\n          throw new Error('Invalid encoding type \"' + opts.encoding + '\"');\r\n        }\r\n        var ret;\r\n        var stream = FS.open(path, opts.flags);\r\n        var stat = FS.stat(path);\r\n        var length = stat.size;\r\n        var buf = new Uint8Array(length);\r\n        FS.read(stream, buf, 0, length, 0);\r\n        if (opts.encoding === 'utf8') {\r\n          ret = UTF8ArrayToString(buf, 0);\r\n        } else if (opts.encoding === 'binary') {\r\n          ret = buf;\r\n        }\r\n        FS.close(stream);\r\n        return ret;\r\n      },writeFile:(path, data, opts = {}) => {\r\n        opts.flags = opts.flags || 577;\r\n        var stream = FS.open(path, opts.flags, opts.mode);\r\n        if (typeof data == 'string') {\r\n          var buf = new Uint8Array(lengthBytesUTF8(data)+1);\r\n          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\r\n          FS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\r\n        } else if (ArrayBuffer.isView(data)) {\r\n          FS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\r\n        } else {\r\n          throw new Error('Unsupported data type');\r\n        }\r\n        FS.close(stream);\r\n      },cwd:() => FS.currentPath,chdir:(path) => {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        if (lookup.node === null) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        if (!FS.isDir(lookup.node.mode)) {\r\n          throw new FS.ErrnoError(54);\r\n        }\r\n        var errCode = FS.nodePermissions(lookup.node, 'x');\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        FS.currentPath = lookup.path;\r\n      },createDefaultDirectories:() => {\r\n        FS.mkdir('/tmp');\r\n        FS.mkdir('/home');\r\n        FS.mkdir('/home/web_user');\r\n      },createDefaultDevices:() => {\r\n        // create /dev\r\n        FS.mkdir('/dev');\r\n        // setup /dev/null\r\n        FS.registerDevice(FS.makedev(1, 3), {\r\n          read: () => 0,\r\n          write: (stream, buffer, offset, length, pos) => length,\r\n        });\r\n        FS.mkdev('/dev/null', FS.makedev(1, 3));\r\n        // setup /dev/tty and /dev/tty1\r\n        // stderr needs to print output using err() rather than out()\r\n        // so we register a second tty just for it.\r\n        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\r\n        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\r\n        FS.mkdev('/dev/tty', FS.makedev(5, 0));\r\n        FS.mkdev('/dev/tty1', FS.makedev(6, 0));\r\n        // setup /dev/[u]random\r\n        var random_device = getRandomDevice();\r\n        FS.createDevice('/dev', 'random', random_device);\r\n        FS.createDevice('/dev', 'urandom', random_device);\r\n        // we're not going to emulate the actual shm device,\r\n        // just create the tmp dirs that reside in it commonly\r\n        FS.mkdir('/dev/shm');\r\n        FS.mkdir('/dev/shm/tmp');\r\n      },createSpecialDirectories:() => {\r\n        // create /proc/self/fd which allows /proc/self/fd/6 => readlink gives the\r\n        // name of the stream for fd 6 (see test_unistd_ttyname)\r\n        FS.mkdir('/proc');\r\n        var proc_self = FS.mkdir('/proc/self');\r\n        FS.mkdir('/proc/self/fd');\r\n        FS.mount({\r\n          mount: () => {\r\n            var node = FS.createNode(proc_self, 'fd', 16384 | 511 /* 0777 */, 73);\r\n            node.node_ops = {\r\n              lookup: (parent, name) => {\r\n                var fd = +name;\r\n                var stream = FS.getStream(fd);\r\n                if (!stream) throw new FS.ErrnoError(8);\r\n                var ret = {\r\n                  parent: null,\r\n                  mount: { mountpoint: 'fake' },\r\n                  node_ops: { readlink: () => stream.path },\r\n                };\r\n                ret.parent = ret; // make it look like a simple root node\r\n                return ret;\r\n              }\r\n            };\r\n            return node;\r\n          }\r\n        }, {}, '/proc/self/fd');\r\n      },createStandardStreams:() => {\r\n        // TODO deprecate the old functionality of a single\r\n        // input / output callback and that utilizes FS.createDevice\r\n        // and instead require a unique set of stream ops\r\n  \r\n        // by default, we symlink the standard streams to the\r\n        // default tty devices. however, if the standard streams\r\n        // have been overwritten we create a unique device for\r\n        // them instead.\r\n        if (Module['stdin']) {\r\n          FS.createDevice('/dev', 'stdin', Module['stdin']);\r\n        } else {\r\n          FS.symlink('/dev/tty', '/dev/stdin');\r\n        }\r\n        if (Module['stdout']) {\r\n          FS.createDevice('/dev', 'stdout', null, Module['stdout']);\r\n        } else {\r\n          FS.symlink('/dev/tty', '/dev/stdout');\r\n        }\r\n        if (Module['stderr']) {\r\n          FS.createDevice('/dev', 'stderr', null, Module['stderr']);\r\n        } else {\r\n          FS.symlink('/dev/tty1', '/dev/stderr');\r\n        }\r\n  \r\n        // open default streams for the stdin, stdout and stderr devices\r\n        var stdin = FS.open('/dev/stdin', 0);\r\n        var stdout = FS.open('/dev/stdout', 1);\r\n        var stderr = FS.open('/dev/stderr', 1);\r\n        assert(stdin.fd === 0, 'invalid handle for stdin (' + stdin.fd + ')');\r\n        assert(stdout.fd === 1, 'invalid handle for stdout (' + stdout.fd + ')');\r\n        assert(stderr.fd === 2, 'invalid handle for stderr (' + stderr.fd + ')');\r\n      },ensureErrnoError:() => {\r\n        if (FS.ErrnoError) return;\r\n        FS.ErrnoError = /** @this{Object} */ function ErrnoError(errno, node) {\r\n          this.node = node;\r\n          this.setErrno = /** @this{Object} */ function(errno) {\r\n            this.errno = errno;\r\n            for (var key in ERRNO_CODES) {\r\n              if (ERRNO_CODES[key] === errno) {\r\n                this.code = key;\r\n                break;\r\n              }\r\n            }\r\n          };\r\n          this.setErrno(errno);\r\n          this.message = ERRNO_MESSAGES[errno];\r\n  \r\n          // Try to get a maximally helpful stack trace. On Node.js, getting Error.stack\r\n          // now ensures it shows what we want.\r\n          if (this.stack) {\r\n            // Define the stack property for Node.js 4, which otherwise errors on the next line.\r\n            Object.defineProperty(this, \"stack\", { value: (new Error).stack, writable: true });\r\n            this.stack = demangleAll(this.stack);\r\n          }\r\n        };\r\n        FS.ErrnoError.prototype = new Error();\r\n        FS.ErrnoError.prototype.constructor = FS.ErrnoError;\r\n        // Some errors may happen quite a bit, to avoid overhead we reuse them (and suffer a lack of stack info)\r\n        [44].forEach((code) => {\r\n          FS.genericErrors[code] = new FS.ErrnoError(code);\r\n          FS.genericErrors[code].stack = '<generic error, no stack>';\r\n        });\r\n      },staticInit:() => {\r\n        FS.ensureErrnoError();\r\n  \r\n        FS.nameTable = new Array(4096);\r\n  \r\n        FS.mount(MEMFS, {}, '/');\r\n  \r\n        FS.createDefaultDirectories();\r\n        FS.createDefaultDevices();\r\n        FS.createSpecialDirectories();\r\n  \r\n        FS.filesystems = {\r\n          'MEMFS': MEMFS,\r\n        };\r\n      },init:(input, output, error) => {\r\n        assert(!FS.init.initialized, 'FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)');\r\n        FS.init.initialized = true;\r\n  \r\n        FS.ensureErrnoError();\r\n  \r\n        // Allow Module.stdin etc. to provide defaults, if none explicitly passed to us here\r\n        Module['stdin'] = input || Module['stdin'];\r\n        Module['stdout'] = output || Module['stdout'];\r\n        Module['stderr'] = error || Module['stderr'];\r\n  \r\n        FS.createStandardStreams();\r\n      },quit:() => {\r\n        FS.init.initialized = false;\r\n        // Call musl-internal function to close all stdio streams, so nothing is\r\n        // left in internal buffers.\r\n        ___stdio_exit();\r\n        // close all of our streams\r\n        for (var i = 0; i < FS.streams.length; i++) {\r\n          var stream = FS.streams[i];\r\n          if (!stream) {\r\n            continue;\r\n          }\r\n          FS.close(stream);\r\n        }\r\n      },getMode:(canRead, canWrite) => {\r\n        var mode = 0;\r\n        if (canRead) mode |= 292 | 73;\r\n        if (canWrite) mode |= 146;\r\n        return mode;\r\n      },findObject:(path, dontResolveLastLink) => {\r\n        var ret = FS.analyzePath(path, dontResolveLastLink);\r\n        if (ret.exists) {\r\n          return ret.object;\r\n        } else {\r\n          return null;\r\n        }\r\n      },analyzePath:(path, dontResolveLastLink) => {\r\n        // operate from within the context of the symlink's target\r\n        try {\r\n          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n          path = lookup.path;\r\n        } catch (e) {\r\n        }\r\n        var ret = {\r\n          isRoot: false, exists: false, error: 0, name: null, path: null, object: null,\r\n          parentExists: false, parentPath: null, parentObject: null\r\n        };\r\n        try {\r\n          var lookup = FS.lookupPath(path, { parent: true });\r\n          ret.parentExists = true;\r\n          ret.parentPath = lookup.path;\r\n          ret.parentObject = lookup.node;\r\n          ret.name = PATH.basename(path);\r\n          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n          ret.exists = true;\r\n          ret.path = lookup.path;\r\n          ret.object = lookup.node;\r\n          ret.name = lookup.node.name;\r\n          ret.isRoot = lookup.path === '/';\r\n        } catch (e) {\r\n          ret.error = e.errno;\r\n        };\r\n        return ret;\r\n      },createPath:(parent, path, canRead, canWrite) => {\r\n        parent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n        var parts = path.split('/').reverse();\r\n        while (parts.length) {\r\n          var part = parts.pop();\r\n          if (!part) continue;\r\n          var current = PATH.join2(parent, part);\r\n          try {\r\n            FS.mkdir(current);\r\n          } catch (e) {\r\n            // ignore EEXIST\r\n          }\r\n          parent = current;\r\n        }\r\n        return current;\r\n      },createFile:(parent, name, properties, canRead, canWrite) => {\r\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n        var mode = FS.getMode(canRead, canWrite);\r\n        return FS.create(path, mode);\r\n      },createDataFile:(parent, name, data, canRead, canWrite, canOwn) => {\r\n        var path = name;\r\n        if (parent) {\r\n          parent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n          path = name ? PATH.join2(parent, name) : parent;\r\n        }\r\n        var mode = FS.getMode(canRead, canWrite);\r\n        var node = FS.create(path, mode);\r\n        if (data) {\r\n          if (typeof data == 'string') {\r\n            var arr = new Array(data.length);\r\n            for (var i = 0, len = data.length; i < len; ++i) arr[i] = data.charCodeAt(i);\r\n            data = arr;\r\n          }\r\n          // make sure we can write to the file\r\n          FS.chmod(node, mode | 146);\r\n          var stream = FS.open(node, 577);\r\n          FS.write(stream, data, 0, data.length, 0, canOwn);\r\n          FS.close(stream);\r\n          FS.chmod(node, mode);\r\n        }\r\n        return node;\r\n      },createDevice:(parent, name, input, output) => {\r\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n        var mode = FS.getMode(!!input, !!output);\r\n        if (!FS.createDevice.major) FS.createDevice.major = 64;\r\n        var dev = FS.makedev(FS.createDevice.major++, 0);\r\n        // Create a fake device that a set of stream ops to emulate\r\n        // the old behavior.\r\n        FS.registerDevice(dev, {\r\n          open: (stream) => {\r\n            stream.seekable = false;\r\n          },\r\n          close: (stream) => {\r\n            // flush any pending line data\r\n            if (output && output.buffer && output.buffer.length) {\r\n              output(10);\r\n            }\r\n          },\r\n          read: (stream, buffer, offset, length, pos /* ignored */) => {\r\n            var bytesRead = 0;\r\n            for (var i = 0; i < length; i++) {\r\n              var result;\r\n              try {\r\n                result = input();\r\n              } catch (e) {\r\n                throw new FS.ErrnoError(29);\r\n              }\r\n              if (result === undefined && bytesRead === 0) {\r\n                throw new FS.ErrnoError(6);\r\n              }\r\n              if (result === null || result === undefined) break;\r\n              bytesRead++;\r\n              buffer[offset+i] = result;\r\n            }\r\n            if (bytesRead) {\r\n              stream.node.timestamp = Date.now();\r\n            }\r\n            return bytesRead;\r\n          },\r\n          write: (stream, buffer, offset, length, pos) => {\r\n            for (var i = 0; i < length; i++) {\r\n              try {\r\n                output(buffer[offset+i]);\r\n              } catch (e) {\r\n                throw new FS.ErrnoError(29);\r\n              }\r\n            }\r\n            if (length) {\r\n              stream.node.timestamp = Date.now();\r\n            }\r\n            return i;\r\n          }\r\n        });\r\n        return FS.mkdev(path, mode, dev);\r\n      },forceLoadFile:(obj) => {\r\n        if (obj.isDevice || obj.isFolder || obj.link || obj.contents) return true;\r\n        if (typeof XMLHttpRequest != 'undefined') {\r\n          throw new Error(\"Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.\");\r\n        } else if (read_) {\r\n          // Command-line.\r\n          try {\r\n            // WARNING: Can't read binary files in V8's d8 or tracemonkey's js, as\r\n            //          read() will try to parse UTF8.\r\n            obj.contents = intArrayFromString(read_(obj.url), true);\r\n            obj.usedBytes = obj.contents.length;\r\n          } catch (e) {\r\n            throw new FS.ErrnoError(29);\r\n          }\r\n        } else {\r\n          throw new Error('Cannot load without read() or XMLHttpRequest.');\r\n        }\r\n      },createLazyFile:(parent, name, url, canRead, canWrite) => {\r\n        // Lazy chunked Uint8Array (implements get and length from Uint8Array). Actual getting is abstracted away for eventual reuse.\r\n        /** @constructor */\r\n        function LazyUint8Array() {\r\n          this.lengthKnown = false;\r\n          this.chunks = []; // Loaded chunks. Index is the chunk number\r\n        }\r\n        LazyUint8Array.prototype.get = /** @this{Object} */ function LazyUint8Array_get(idx) {\r\n          if (idx > this.length-1 || idx < 0) {\r\n            return undefined;\r\n          }\r\n          var chunkOffset = idx % this.chunkSize;\r\n          var chunkNum = (idx / this.chunkSize)|0;\r\n          return this.getter(chunkNum)[chunkOffset];\r\n        };\r\n        LazyUint8Array.prototype.setDataGetter = function LazyUint8Array_setDataGetter(getter) {\r\n          this.getter = getter;\r\n        };\r\n        LazyUint8Array.prototype.cacheLength = function LazyUint8Array_cacheLength() {\r\n          // Find length\r\n          var xhr = new XMLHttpRequest();\r\n          xhr.open('HEAD', url, false);\r\n          xhr.send(null);\r\n          if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n          var datalength = Number(xhr.getResponseHeader(\"Content-length\"));\r\n          var header;\r\n          var hasByteServing = (header = xhr.getResponseHeader(\"Accept-Ranges\")) && header === \"bytes\";\r\n          var usesGzip = (header = xhr.getResponseHeader(\"Content-Encoding\")) && header === \"gzip\";\r\n  \r\n          var chunkSize = 1024*1024; // Chunk size in bytes\r\n  \r\n          if (!hasByteServing) chunkSize = datalength;\r\n  \r\n          // Function to get a range from the remote URL.\r\n          var doXHR = (from, to) => {\r\n            if (from > to) throw new Error(\"invalid range (\" + from + \", \" + to + \") or no bytes requested!\");\r\n            if (to > datalength-1) throw new Error(\"only \" + datalength + \" bytes available! programmer error!\");\r\n  \r\n            // TODO: Use mozResponseArrayBuffer, responseStream, etc. if available.\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('GET', url, false);\r\n            if (datalength !== chunkSize) xhr.setRequestHeader(\"Range\", \"bytes=\" + from + \"-\" + to);\r\n  \r\n            // Some hints to the browser that we want binary data.\r\n            xhr.responseType = 'arraybuffer';\r\n            if (xhr.overrideMimeType) {\r\n              xhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n            }\r\n  \r\n            xhr.send(null);\r\n            if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n            if (xhr.response !== undefined) {\r\n              return new Uint8Array(/** @type{Array<number>} */(xhr.response || []));\r\n            } else {\r\n              return intArrayFromString(xhr.responseText || '', true);\r\n            }\r\n          };\r\n          var lazyArray = this;\r\n          lazyArray.setDataGetter((chunkNum) => {\r\n            var start = chunkNum * chunkSize;\r\n            var end = (chunkNum+1) * chunkSize - 1; // including this byte\r\n            end = Math.min(end, datalength-1); // if datalength-1 is selected, this is the last block\r\n            if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\r\n              lazyArray.chunks[chunkNum] = doXHR(start, end);\r\n            }\r\n            if (typeof lazyArray.chunks[chunkNum] == 'undefined') throw new Error('doXHR failed!');\r\n            return lazyArray.chunks[chunkNum];\r\n          });\r\n  \r\n          if (usesGzip || !datalength) {\r\n            // if the server uses gzip or doesn't supply the length, we have to download the whole file to get the (uncompressed) length\r\n            chunkSize = datalength = 1; // this will force getter(0)/doXHR do download the whole file\r\n            datalength = this.getter(0).length;\r\n            chunkSize = datalength;\r\n            out(\"LazyFiles on gzip forces download of the whole file when length is accessed\");\r\n          }\r\n  \r\n          this._length = datalength;\r\n          this._chunkSize = chunkSize;\r\n          this.lengthKnown = true;\r\n        };\r\n        if (typeof XMLHttpRequest != 'undefined') {\r\n          if (!ENVIRONMENT_IS_WORKER) throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\r\n          var lazyArray = new LazyUint8Array();\r\n          Object.defineProperties(lazyArray, {\r\n            length: {\r\n              get: /** @this{Object} */ function() {\r\n                if (!this.lengthKnown) {\r\n                  this.cacheLength();\r\n                }\r\n                return this._length;\r\n              }\r\n            },\r\n            chunkSize: {\r\n              get: /** @this{Object} */ function() {\r\n                if (!this.lengthKnown) {\r\n                  this.cacheLength();\r\n                }\r\n                return this._chunkSize;\r\n              }\r\n            }\r\n          });\r\n  \r\n          var properties = { isDevice: false, contents: lazyArray };\r\n        } else {\r\n          var properties = { isDevice: false, url: url };\r\n        }\r\n  \r\n        var node = FS.createFile(parent, name, properties, canRead, canWrite);\r\n        // This is a total hack, but I want to get this lazy file code out of the\r\n        // core of MEMFS. If we want to keep this lazy file concept I feel it should\r\n        // be its own thin LAZYFS proxying calls to MEMFS.\r\n        if (properties.contents) {\r\n          node.contents = properties.contents;\r\n        } else if (properties.url) {\r\n          node.contents = null;\r\n          node.url = properties.url;\r\n        }\r\n        // Add a function that defers querying the file size until it is asked the first time.\r\n        Object.defineProperties(node, {\r\n          usedBytes: {\r\n            get: /** @this {FSNode} */ function() { return this.contents.length; }\r\n          }\r\n        });\r\n        // override each stream op with one that tries to force load the lazy file first\r\n        var stream_ops = {};\r\n        var keys = Object.keys(node.stream_ops);\r\n        keys.forEach((key) => {\r\n          var fn = node.stream_ops[key];\r\n          stream_ops[key] = function forceLoadLazyFile() {\r\n            FS.forceLoadFile(node);\r\n            return fn.apply(null, arguments);\r\n          };\r\n        });\r\n        // use a custom read function\r\n        stream_ops.read = (stream, buffer, offset, length, position) => {\r\n          FS.forceLoadFile(node);\r\n          var contents = stream.node.contents;\r\n          if (position >= contents.length)\r\n            return 0;\r\n          var size = Math.min(contents.length - position, length);\r\n          assert(size >= 0);\r\n          if (contents.slice) { // normal array\r\n            for (var i = 0; i < size; i++) {\r\n              buffer[offset + i] = contents[position + i];\r\n            }\r\n          } else {\r\n            for (var i = 0; i < size; i++) { // LazyUint8Array from sync binary XHR\r\n              buffer[offset + i] = contents.get(position + i);\r\n            }\r\n          }\r\n          return size;\r\n        };\r\n        node.stream_ops = stream_ops;\r\n        return node;\r\n      },createPreloadedFile:(parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) => {\r\n        // TODO we should allow people to just pass in a complete filename instead\r\n        // of parent and name being that we just join them anyways\r\n        var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;\r\n        var dep = getUniqueRunDependency('cp ' + fullname); // might have several active requests for the same fullname\r\n        function processData(byteArray) {\r\n          function finish(byteArray) {\r\n            if (preFinish) preFinish();\r\n            if (!dontCreateFile) {\r\n              FS.createDataFile(parent, name, byteArray, canRead, canWrite, canOwn);\r\n            }\r\n            if (onload) onload();\r\n            removeRunDependency(dep);\r\n          }\r\n          if (Browser.handledByPreloadPlugin(byteArray, fullname, finish, () => {\r\n            if (onerror) onerror();\r\n            removeRunDependency(dep);\r\n          })) {\r\n            return;\r\n          }\r\n          finish(byteArray);\r\n        }\r\n        addRunDependency(dep);\r\n        if (typeof url == 'string') {\r\n          asyncLoad(url, (byteArray) => processData(byteArray), onerror);\r\n        } else {\r\n          processData(url);\r\n        }\r\n      },indexedDB:() => {\r\n        return window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\r\n      },DB_NAME:() => {\r\n        return 'EM_FS_' + window.location.pathname;\r\n      },DB_VERSION:20,DB_STORE_NAME:\"FILE_DATA\",saveFilesToDB:(paths, onload, onerror) => {\r\n        onload = onload || (() => {});\r\n        onerror = onerror || (() => {});\r\n        var indexedDB = FS.indexedDB();\r\n        try {\r\n          var openRequest = indexedDB.open(FS.DB_NAME(), FS.DB_VERSION);\r\n        } catch (e) {\r\n          return onerror(e);\r\n        }\r\n        openRequest.onupgradeneeded = () => {\r\n          out('creating db');\r\n          var db = openRequest.result;\r\n          db.createObjectStore(FS.DB_STORE_NAME);\r\n        };\r\n        openRequest.onsuccess = () => {\r\n          var db = openRequest.result;\r\n          var transaction = db.transaction([FS.DB_STORE_NAME], 'readwrite');\r\n          var files = transaction.objectStore(FS.DB_STORE_NAME);\r\n          var ok = 0, fail = 0, total = paths.length;\r\n          function finish() {\r\n            if (fail == 0) onload(); else onerror();\r\n          }\r\n          paths.forEach((path) => {\r\n            var putRequest = files.put(FS.analyzePath(path).object.contents, path);\r\n            putRequest.onsuccess = () => { ok++; if (ok + fail == total) finish() };\r\n            putRequest.onerror = () => { fail++; if (ok + fail == total) finish() };\r\n          });\r\n          transaction.onerror = onerror;\r\n        };\r\n        openRequest.onerror = onerror;\r\n      },loadFilesFromDB:(paths, onload, onerror) => {\r\n        onload = onload || (() => {});\r\n        onerror = onerror || (() => {});\r\n        var indexedDB = FS.indexedDB();\r\n        try {\r\n          var openRequest = indexedDB.open(FS.DB_NAME(), FS.DB_VERSION);\r\n        } catch (e) {\r\n          return onerror(e);\r\n        }\r\n        openRequest.onupgradeneeded = onerror; // no database to load from\r\n        openRequest.onsuccess = () => {\r\n          var db = openRequest.result;\r\n          try {\r\n            var transaction = db.transaction([FS.DB_STORE_NAME], 'readonly');\r\n          } catch(e) {\r\n            onerror(e);\r\n            return;\r\n          }\r\n          var files = transaction.objectStore(FS.DB_STORE_NAME);\r\n          var ok = 0, fail = 0, total = paths.length;\r\n          function finish() {\r\n            if (fail == 0) onload(); else onerror();\r\n          }\r\n          paths.forEach((path) => {\r\n            var getRequest = files.get(path);\r\n            getRequest.onsuccess = () => {\r\n              if (FS.analyzePath(path).exists) {\r\n                FS.unlink(path);\r\n              }\r\n              FS.createDataFile(PATH.dirname(path), PATH.basename(path), getRequest.result, true, true, true);\r\n              ok++;\r\n              if (ok + fail == total) finish();\r\n            };\r\n            getRequest.onerror = () => { fail++; if (ok + fail == total) finish() };\r\n          });\r\n          transaction.onerror = onerror;\r\n        };\r\n        openRequest.onerror = onerror;\r\n      },absolutePath:() => {\r\n        abort('FS.absolutePath has been removed; use PATH_FS.resolve instead');\r\n      },createFolder:() => {\r\n        abort('FS.createFolder has been removed; use FS.mkdir instead');\r\n      },createLink:() => {\r\n        abort('FS.createLink has been removed; use FS.symlink instead');\r\n      },joinPath:() => {\r\n        abort('FS.joinPath has been removed; use PATH.join instead');\r\n      },mmapAlloc:() => {\r\n        abort('FS.mmapAlloc has been replaced by the top level function mmapAlloc');\r\n      },standardizePath:() => {\r\n        abort('FS.standardizePath has been removed; use PATH.normalize instead');\r\n      }};\r\n  var SYSCALLS = {DEFAULT_POLLMASK:5,calculateAt:function(dirfd, path, allowEmpty) {\r\n        if (path[0] === '/') {\r\n          return path;\r\n        }\r\n        // relative path\r\n        var dir;\r\n        if (dirfd === -100) {\r\n          dir = FS.cwd();\r\n        } else {\r\n          var dirstream = FS.getStream(dirfd);\r\n          if (!dirstream) throw new FS.ErrnoError(8);\r\n          dir = dirstream.path;\r\n        }\r\n        if (path.length == 0) {\r\n          if (!allowEmpty) {\r\n            throw new FS.ErrnoError(44);;\r\n          }\r\n          return dir;\r\n        }\r\n        return PATH.join2(dir, path);\r\n      },doStat:function(func, path, buf) {\r\n        try {\r\n          var stat = func(path);\r\n        } catch (e) {\r\n          if (e && e.node && PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))) {\r\n            // an error occurred while trying to look up the path; we should just report ENOTDIR\r\n            return -54;\r\n          }\r\n          throw e;\r\n        }\r\n        HEAP32[((buf)>>2)] = stat.dev;\r\n        HEAP32[(((buf)+(4))>>2)] = 0;\r\n        HEAP32[(((buf)+(8))>>2)] = stat.ino;\r\n        HEAP32[(((buf)+(12))>>2)] = stat.mode;\r\n        HEAP32[(((buf)+(16))>>2)] = stat.nlink;\r\n        HEAP32[(((buf)+(20))>>2)] = stat.uid;\r\n        HEAP32[(((buf)+(24))>>2)] = stat.gid;\r\n        HEAP32[(((buf)+(28))>>2)] = stat.rdev;\r\n        HEAP32[(((buf)+(32))>>2)] = 0;\r\n        (tempI64 = [stat.size>>>0,(tempDouble=stat.size,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? ((Math.min((+(Math.floor((tempDouble)/4294967296.0))), 4294967295.0))|0)>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)],HEAP32[(((buf)+(40))>>2)] = tempI64[0],HEAP32[(((buf)+(44))>>2)] = tempI64[1]);\r\n        HEAP32[(((buf)+(48))>>2)] = 4096;\r\n        HEAP32[(((buf)+(52))>>2)] = stat.blocks;\r\n        HEAP32[(((buf)+(56))>>2)] = (stat.atime.getTime() / 1000)|0;\r\n        HEAP32[(((buf)+(60))>>2)] = 0;\r\n        HEAP32[(((buf)+(64))>>2)] = (stat.mtime.getTime() / 1000)|0;\r\n        HEAP32[(((buf)+(68))>>2)] = 0;\r\n        HEAP32[(((buf)+(72))>>2)] = (stat.ctime.getTime() / 1000)|0;\r\n        HEAP32[(((buf)+(76))>>2)] = 0;\r\n        (tempI64 = [stat.ino>>>0,(tempDouble=stat.ino,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? ((Math.min((+(Math.floor((tempDouble)/4294967296.0))), 4294967295.0))|0)>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)],HEAP32[(((buf)+(80))>>2)] = tempI64[0],HEAP32[(((buf)+(84))>>2)] = tempI64[1]);\r\n        return 0;\r\n      },doMsync:function(addr, stream, len, flags, offset) {\r\n        var buffer = HEAPU8.slice(addr, addr + len);\r\n        FS.msync(stream, buffer, offset, len, flags);\r\n      },doMkdir:function(path, mode) {\r\n        // remove a trailing slash, if one - /a/b/ has basename of '', but\r\n        // we want to create b in the context of this function\r\n        path = PATH.normalize(path);\r\n        if (path[path.length-1] === '/') path = path.substr(0, path.length-1);\r\n        FS.mkdir(path, mode, 0);\r\n        return 0;\r\n      },doMknod:function(path, mode, dev) {\r\n        // we don't want this in the JS API as it uses mknod to create all nodes.\r\n        switch (mode & 61440) {\r\n          case 32768:\r\n          case 8192:\r\n          case 24576:\r\n          case 4096:\r\n          case 49152:\r\n            break;\r\n          default: return -28;\r\n        }\r\n        FS.mknod(path, mode, dev);\r\n        return 0;\r\n      },doReadlink:function(path, buf, bufsize) {\r\n        if (bufsize <= 0) return -28;\r\n        var ret = FS.readlink(path);\r\n  \r\n        var len = Math.min(bufsize, lengthBytesUTF8(ret));\r\n        var endChar = HEAP8[buf+len];\r\n        stringToUTF8(ret, buf, bufsize+1);\r\n        // readlink is one of the rare functions that write out a C string, but does never append a null to the output buffer(!)\r\n        // stringToUTF8() always appends a null byte, so restore the character under the null byte after the write.\r\n        HEAP8[buf+len] = endChar;\r\n  \r\n        return len;\r\n      },doAccess:function(path, amode) {\r\n        if (amode & ~7) {\r\n          // need a valid mode\r\n          return -28;\r\n        }\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        var node = lookup.node;\r\n        if (!node) {\r\n          return -44;\r\n        }\r\n        var perms = '';\r\n        if (amode & 4) perms += 'r';\r\n        if (amode & 2) perms += 'w';\r\n        if (amode & 1) perms += 'x';\r\n        if (perms /* otherwise, they've just passed F_OK */ && FS.nodePermissions(node, perms)) {\r\n          return -2;\r\n        }\r\n        return 0;\r\n      },doReadv:function(stream, iov, iovcnt, offset) {\r\n        var ret = 0;\r\n        for (var i = 0; i < iovcnt; i++) {\r\n          var ptr = HEAP32[(((iov)+(i*8))>>2)];\r\n          var len = HEAP32[(((iov)+(i*8 + 4))>>2)];\r\n          var curr = FS.read(stream, HEAP8,ptr, len, offset);\r\n          if (curr < 0) return -1;\r\n          ret += curr;\r\n          if (curr < len) break; // nothing more to read\r\n        }\r\n        return ret;\r\n      },doWritev:function(stream, iov, iovcnt, offset) {\r\n        var ret = 0;\r\n        for (var i = 0; i < iovcnt; i++) {\r\n          var ptr = HEAP32[(((iov)+(i*8))>>2)];\r\n          var len = HEAP32[(((iov)+(i*8 + 4))>>2)];\r\n          var curr = FS.write(stream, HEAP8,ptr, len, offset);\r\n          if (curr < 0) return -1;\r\n          ret += curr;\r\n        }\r\n        return ret;\r\n      },varargs:undefined,get:function() {\r\n        assert(SYSCALLS.varargs != undefined);\r\n        SYSCALLS.varargs += 4;\r\n        var ret = HEAP32[(((SYSCALLS.varargs)-(4))>>2)];\r\n        return ret;\r\n      },getStr:function(ptr) {\r\n        var ret = UTF8ToString(ptr);\r\n        return ret;\r\n      },getStreamFromFD:function(fd) {\r\n        var stream = FS.getStream(fd);\r\n        if (!stream) throw new FS.ErrnoError(8);\r\n        return stream;\r\n      },get64:function(low, high) {\r\n        if (low >= 0) assert(high === 0);\r\n        else assert(high === -1);\r\n        return low;\r\n      }};\r\n  function ___syscall_dup(fd) {\r\n  try {\r\n  \r\n      var old = SYSCALLS.getStreamFromFD(fd);\r\n      return FS.open(old.path, old.flags, 0).fd;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return -e.errno;\r\n  }\r\n  }\r\n\r\n  function ___syscall_newfstatat(dirfd, path, buf, flags) {\r\n  try {\r\n  \r\n      path = SYSCALLS.getStr(path);\r\n      var nofollow = flags & 256;\r\n      var allowEmpty = flags & 4096;\r\n      flags = flags & (~4352);\r\n      assert(!flags, flags);\r\n      path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);\r\n      return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return -e.errno;\r\n  }\r\n  }\r\n\r\n  function ___syscall_openat(dirfd, path, flags, varargs) {\r\n  SYSCALLS.varargs = varargs;\r\n  try {\r\n  \r\n      path = SYSCALLS.getStr(path);\r\n      path = SYSCALLS.calculateAt(dirfd, path);\r\n      var mode = varargs ? SYSCALLS.get() : 0;\r\n      return FS.open(path, flags, mode).fd;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return -e.errno;\r\n  }\r\n  }\r\n\r\n  function __embind_register_bigint(primitiveType, name, size, minRange, maxRange) {}\r\n\r\n  function getShiftFromSize(size) {\r\n      \r\n      switch (size) {\r\n          case 1: return 0;\r\n          case 2: return 1;\r\n          case 4: return 2;\r\n          case 8: return 3;\r\n          default:\r\n              throw new TypeError('Unknown type size: ' + size);\r\n      }\r\n    }\r\n  \r\n  function embind_init_charCodes() {\r\n      var codes = new Array(256);\r\n      for (var i = 0; i < 256; ++i) {\r\n          codes[i] = String.fromCharCode(i);\r\n      }\r\n      embind_charCodes = codes;\r\n    }\r\n  var embind_charCodes = undefined;\r\n  function readLatin1String(ptr) {\r\n      var ret = \"\";\r\n      var c = ptr;\r\n      while (HEAPU8[c]) {\r\n          ret += embind_charCodes[HEAPU8[c++]];\r\n      }\r\n      return ret;\r\n    }\r\n  \r\n  var awaitingDependencies = {};\r\n  \r\n  var registeredTypes = {};\r\n  \r\n  var typeDependencies = {};\r\n  \r\n  var char_0 = 48;\r\n  \r\n  var char_9 = 57;\r\n  function makeLegalFunctionName(name) {\r\n      if (undefined === name) {\r\n        return '_unknown';\r\n      }\r\n      name = name.replace(/[^a-zA-Z0-9_]/g, '$');\r\n      var f = name.charCodeAt(0);\r\n      if (f >= char_0 && f <= char_9) {\r\n        return '_' + name;\r\n      }\r\n      return name;\r\n    }\r\n  function createNamedFunction(name, body) {\r\n      name = makeLegalFunctionName(name);\r\n      /*jshint evil:true*/\r\n      return new Function(\r\n          \"body\",\r\n          \"return function \" + name + \"() {\\n\" +\r\n          \"    \\\"use strict\\\";\" +\r\n          \"    return body.apply(this, arguments);\\n\" +\r\n          \"};\\n\"\r\n      )(body);\r\n    }\r\n  function extendError(baseErrorType, errorName) {\r\n      var errorClass = createNamedFunction(errorName, function(message) {\r\n          this.name = errorName;\r\n          this.message = message;\r\n  \r\n          var stack = (new Error(message)).stack;\r\n          if (stack !== undefined) {\r\n              this.stack = this.toString() + '\\n' +\r\n                  stack.replace(/^Error(:[^\\n]*)?\\n/, '');\r\n          }\r\n      });\r\n      errorClass.prototype = Object.create(baseErrorType.prototype);\r\n      errorClass.prototype.constructor = errorClass;\r\n      errorClass.prototype.toString = function() {\r\n          if (this.message === undefined) {\r\n              return this.name;\r\n          } else {\r\n              return this.name + ': ' + this.message;\r\n          }\r\n      };\r\n  \r\n      return errorClass;\r\n    }\r\n  var BindingError = undefined;\r\n  function throwBindingError(message) {\r\n      throw new BindingError(message);\r\n    }\r\n  \r\n  var InternalError = undefined;\r\n  function throwInternalError(message) {\r\n      throw new InternalError(message);\r\n    }\r\n  function whenDependentTypesAreResolved(myTypes, dependentTypes, getTypeConverters) {\r\n      myTypes.forEach(function(type) {\r\n          typeDependencies[type] = dependentTypes;\r\n      });\r\n  \r\n      function onComplete(typeConverters) {\r\n          var myTypeConverters = getTypeConverters(typeConverters);\r\n          if (myTypeConverters.length !== myTypes.length) {\r\n              throwInternalError('Mismatched type converter count');\r\n          }\r\n          for (var i = 0; i < myTypes.length; ++i) {\r\n              registerType(myTypes[i], myTypeConverters[i]);\r\n          }\r\n      }\r\n  \r\n      var typeConverters = new Array(dependentTypes.length);\r\n      var unregisteredTypes = [];\r\n      var registered = 0;\r\n      dependentTypes.forEach((dt, i) => {\r\n        if (registeredTypes.hasOwnProperty(dt)) {\r\n          typeConverters[i] = registeredTypes[dt];\r\n        } else {\r\n          unregisteredTypes.push(dt);\r\n          if (!awaitingDependencies.hasOwnProperty(dt)) {\r\n            awaitingDependencies[dt] = [];\r\n          }\r\n          awaitingDependencies[dt].push(() => {\r\n            typeConverters[i] = registeredTypes[dt];\r\n            ++registered;\r\n            if (registered === unregisteredTypes.length) {\r\n              onComplete(typeConverters);\r\n            }\r\n          });\r\n        }\r\n      });\r\n      if (0 === unregisteredTypes.length) {\r\n        onComplete(typeConverters);\r\n      }\r\n    }\r\n  /** @param {Object=} options */\r\n  function registerType(rawType, registeredInstance, options = {}) {\r\n      if (!('argPackAdvance' in registeredInstance)) {\r\n          throw new TypeError('registerType registeredInstance requires argPackAdvance');\r\n      }\r\n  \r\n      var name = registeredInstance.name;\r\n      if (!rawType) {\r\n          throwBindingError('type \"' + name + '\" must have a positive integer typeid pointer');\r\n      }\r\n      if (registeredTypes.hasOwnProperty(rawType)) {\r\n          if (options.ignoreDuplicateRegistrations) {\r\n              return;\r\n          } else {\r\n              throwBindingError(\"Cannot register type '\" + name + \"' twice\");\r\n          }\r\n      }\r\n  \r\n      registeredTypes[rawType] = registeredInstance;\r\n      delete typeDependencies[rawType];\r\n  \r\n      if (awaitingDependencies.hasOwnProperty(rawType)) {\r\n        var callbacks = awaitingDependencies[rawType];\r\n        delete awaitingDependencies[rawType];\r\n        callbacks.forEach((cb) => cb());\r\n      }\r\n    }\r\n  function __embind_register_bool(rawType, name, size, trueValue, falseValue) {\r\n      var shift = getShiftFromSize(size);\r\n  \r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n          name: name,\r\n          'fromWireType': function(wt) {\r\n              // ambiguous emscripten ABI: sometimes return values are\r\n              // true or false, and sometimes integers (0 or 1)\r\n              return !!wt;\r\n          },\r\n          'toWireType': function(destructors, o) {\r\n              return o ? trueValue : falseValue;\r\n          },\r\n          'argPackAdvance': 8,\r\n          'readValueFromPointer': function(pointer) {\r\n              // TODO: if heap is fixed (like in asm.js) this could be executed outside\r\n              var heap;\r\n              if (size === 1) {\r\n                  heap = HEAP8;\r\n              } else if (size === 2) {\r\n                  heap = HEAP16;\r\n              } else if (size === 4) {\r\n                  heap = HEAP32;\r\n              } else {\r\n                  throw new TypeError(\"Unknown boolean type size: \" + name);\r\n              }\r\n              return this['fromWireType'](heap[pointer >> shift]);\r\n          },\r\n          destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    }\r\n\r\n  function ClassHandle_isAliasOf(other) {\r\n      if (!(this instanceof ClassHandle)) {\r\n        return false;\r\n      }\r\n      if (!(other instanceof ClassHandle)) {\r\n        return false;\r\n      }\r\n  \r\n      var leftClass = this.$$.ptrType.registeredClass;\r\n      var left = this.$$.ptr;\r\n      var rightClass = other.$$.ptrType.registeredClass;\r\n      var right = other.$$.ptr;\r\n  \r\n      while (leftClass.baseClass) {\r\n        left = leftClass.upcast(left);\r\n        leftClass = leftClass.baseClass;\r\n      }\r\n  \r\n      while (rightClass.baseClass) {\r\n        right = rightClass.upcast(right);\r\n        rightClass = rightClass.baseClass;\r\n      }\r\n  \r\n      return leftClass === rightClass && left === right;\r\n    }\r\n  \r\n  function shallowCopyInternalPointer(o) {\r\n      return {\r\n          count: o.count,\r\n          deleteScheduled: o.deleteScheduled,\r\n          preservePointerOnDelete: o.preservePointerOnDelete,\r\n          ptr: o.ptr,\r\n          ptrType: o.ptrType,\r\n          smartPtr: o.smartPtr,\r\n          smartPtrType: o.smartPtrType,\r\n      };\r\n    }\r\n  \r\n  function throwInstanceAlreadyDeleted(obj) {\r\n      function getInstanceTypeName(handle) {\r\n        return handle.$$.ptrType.registeredClass.name;\r\n      }\r\n      throwBindingError(getInstanceTypeName(obj) + ' instance already deleted');\r\n    }\r\n  \r\n  var finalizationRegistry = false;\r\n  \r\n  function detachFinalizer(handle) {}\r\n  \r\n  function runDestructor($$) {\r\n      if ($$.smartPtr) {\r\n          $$.smartPtrType.rawDestructor($$.smartPtr);\r\n      } else {\r\n          $$.ptrType.registeredClass.rawDestructor($$.ptr);\r\n      }\r\n    }\r\n  function releaseClassHandle($$) {\r\n      $$.count.value -= 1;\r\n      var toDelete = 0 === $$.count.value;\r\n      if (toDelete) {\r\n        runDestructor($$);\r\n      }\r\n    }\r\n  \r\n  function downcastPointer(ptr, ptrClass, desiredClass) {\r\n      if (ptrClass === desiredClass) {\r\n        return ptr;\r\n      }\r\n      if (undefined === desiredClass.baseClass) {\r\n        return null; // no conversion\r\n      }\r\n  \r\n      var rv = downcastPointer(ptr, ptrClass, desiredClass.baseClass);\r\n      if (rv === null) {\r\n          return null;\r\n      }\r\n      return desiredClass.downcast(rv);\r\n    }\r\n  \r\n  var registeredPointers = {};\r\n  \r\n  function getInheritedInstanceCount() {\r\n      return Object.keys(registeredInstances).length;\r\n    }\r\n  \r\n  function getLiveInheritedInstances() {\r\n      var rv = [];\r\n      for (var k in registeredInstances) {\r\n          if (registeredInstances.hasOwnProperty(k)) {\r\n              rv.push(registeredInstances[k]);\r\n          }\r\n      }\r\n      return rv;\r\n    }\r\n  \r\n  var deletionQueue = [];\r\n  function flushPendingDeletes() {\r\n      while (deletionQueue.length) {\r\n        var obj = deletionQueue.pop();\r\n        obj.$$.deleteScheduled = false;\r\n        obj['delete']();\r\n      }\r\n    }\r\n  \r\n  var delayFunction = undefined;\r\n  function setDelayFunction(fn) {\r\n      delayFunction = fn;\r\n      if (deletionQueue.length && delayFunction) {\r\n        delayFunction(flushPendingDeletes);\r\n      }\r\n    }\r\n  function init_embind() {\r\n      Module['getInheritedInstanceCount'] = getInheritedInstanceCount;\r\n      Module['getLiveInheritedInstances'] = getLiveInheritedInstances;\r\n      Module['flushPendingDeletes'] = flushPendingDeletes;\r\n      Module['setDelayFunction'] = setDelayFunction;\r\n    }\r\n  var registeredInstances = {};\r\n  \r\n  function getBasestPointer(class_, ptr) {\r\n      if (ptr === undefined) {\r\n          throwBindingError('ptr should not be undefined');\r\n      }\r\n      while (class_.baseClass) {\r\n          ptr = class_.upcast(ptr);\r\n          class_ = class_.baseClass;\r\n      }\r\n      return ptr;\r\n    }\r\n  function getInheritedInstance(class_, ptr) {\r\n      ptr = getBasestPointer(class_, ptr);\r\n      return registeredInstances[ptr];\r\n    }\r\n  \r\n  function makeClassHandle(prototype, record) {\r\n      if (!record.ptrType || !record.ptr) {\r\n        throwInternalError('makeClassHandle requires ptr and ptrType');\r\n      }\r\n      var hasSmartPtrType = !!record.smartPtrType;\r\n      var hasSmartPtr = !!record.smartPtr;\r\n      if (hasSmartPtrType !== hasSmartPtr) {\r\n        throwInternalError('Both smartPtrType and smartPtr must be specified');\r\n      }\r\n      record.count = { value: 1 };\r\n      return attachFinalizer(Object.create(prototype, {\r\n        $$: {\r\n            value: record,\r\n        },\r\n      }));\r\n    }\r\n  function RegisteredPointer_fromWireType(ptr) {\r\n      // ptr is a raw pointer (or a raw smartpointer)\r\n  \r\n      // rawPointer is a maybe-null raw pointer\r\n      var rawPointer = this.getPointee(ptr);\r\n      if (!rawPointer) {\r\n        this.destructor(ptr);\r\n        return null;\r\n      }\r\n  \r\n      var registeredInstance = getInheritedInstance(this.registeredClass, rawPointer);\r\n      if (undefined !== registeredInstance) {\r\n        // JS object has been neutered, time to repopulate it\r\n        if (0 === registeredInstance.$$.count.value) {\r\n          registeredInstance.$$.ptr = rawPointer;\r\n          registeredInstance.$$.smartPtr = ptr;\r\n          return registeredInstance['clone']();\r\n        } else {\r\n          // else, just increment reference count on existing object\r\n          // it already has a reference to the smart pointer\r\n          var rv = registeredInstance['clone']();\r\n          this.destructor(ptr);\r\n          return rv;\r\n        }\r\n      }\r\n  \r\n      function makeDefaultHandle() {\r\n        if (this.isSmartPointer) {\r\n          return makeClassHandle(this.registeredClass.instancePrototype, {\r\n            ptrType: this.pointeeType,\r\n            ptr: rawPointer,\r\n            smartPtrType: this,\r\n            smartPtr: ptr,\r\n          });\r\n        } else {\r\n          return makeClassHandle(this.registeredClass.instancePrototype, {\r\n            ptrType: this,\r\n            ptr: ptr,\r\n          });\r\n        }\r\n      }\r\n  \r\n      var actualType = this.registeredClass.getActualType(rawPointer);\r\n      var registeredPointerRecord = registeredPointers[actualType];\r\n      if (!registeredPointerRecord) {\r\n        return makeDefaultHandle.call(this);\r\n      }\r\n  \r\n      var toType;\r\n      if (this.isConst) {\r\n        toType = registeredPointerRecord.constPointerType;\r\n      } else {\r\n        toType = registeredPointerRecord.pointerType;\r\n      }\r\n      var dp = downcastPointer(\r\n          rawPointer,\r\n          this.registeredClass,\r\n          toType.registeredClass);\r\n      if (dp === null) {\r\n          return makeDefaultHandle.call(this);\r\n      }\r\n      if (this.isSmartPointer) {\r\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\r\n          ptrType: toType,\r\n          ptr: dp,\r\n          smartPtrType: this,\r\n          smartPtr: ptr,\r\n        });\r\n      } else {\r\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\r\n          ptrType: toType,\r\n          ptr: dp,\r\n        });\r\n      }\r\n    }\r\n  function attachFinalizer(handle) {\r\n      if ('undefined' === typeof FinalizationRegistry) {\r\n          attachFinalizer = (handle) => handle;\r\n          return handle;\r\n      }\r\n      // If the running environment has a FinalizationRegistry (see\r\n      // https://github.com/tc39/proposal-weakrefs), then attach finalizers\r\n      // for class handles.  We check for the presence of FinalizationRegistry\r\n      // at run-time, not build-time.\r\n      finalizationRegistry = new FinalizationRegistry((info) => {\r\n          console.warn(info.leakWarning.stack.replace(/^Error: /, ''));\r\n          releaseClassHandle(info.$$);\r\n      });\r\n      attachFinalizer = (handle) => {\r\n        var $$ = handle.$$;\r\n        var hasSmartPtr = !!$$.smartPtr;\r\n        if (hasSmartPtr) {\r\n          // We should not call the destructor on raw pointers in case other code expects the pointee to live\r\n          var info = { $$: $$ };\r\n          // Create a warning as an Error instance in advance so that we can store\r\n          // the current stacktrace and point to it when / if a leak is detected.\r\n          // This is more useful than the empty stacktrace of `FinalizationRegistry`\r\n          // callback.\r\n          var cls = $$.ptrType.registeredClass;\r\n          info.leakWarning = new Error(\"Embind found a leaked C++ instance \" + cls.name + \" <0x\" + $$.ptr.toString(16) + \">.\\n\" +\r\n          \"We'll free it automatically in this case, but this functionality is not reliable across various environments.\\n\" +\r\n          \"Make sure to invoke .delete() manually once you're done with the instance instead.\\n\" +\r\n          \"Originally allocated\"); // `.stack` will add \"at ...\" after this sentence\r\n          if ('captureStackTrace' in Error) {\r\n              Error.captureStackTrace(info.leakWarning, RegisteredPointer_fromWireType);\r\n          }\r\n          finalizationRegistry.register(handle, info, handle);\r\n        }\r\n        return handle;\r\n      };\r\n      detachFinalizer = (handle) => finalizationRegistry.unregister(handle);\r\n      return attachFinalizer(handle);\r\n    }\r\n  function ClassHandle_clone() {\r\n      if (!this.$$.ptr) {\r\n        throwInstanceAlreadyDeleted(this);\r\n      }\r\n  \r\n      if (this.$$.preservePointerOnDelete) {\r\n        this.$$.count.value += 1;\r\n        return this;\r\n      } else {\r\n        var clone = attachFinalizer(Object.create(Object.getPrototypeOf(this), {\r\n          $$: {\r\n            value: shallowCopyInternalPointer(this.$$),\r\n          }\r\n        }));\r\n  \r\n        clone.$$.count.value += 1;\r\n        clone.$$.deleteScheduled = false;\r\n        return clone;\r\n      }\r\n    }\r\n  \r\n  function ClassHandle_delete() {\r\n      if (!this.$$.ptr) {\r\n        throwInstanceAlreadyDeleted(this);\r\n      }\r\n  \r\n      if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\r\n        throwBindingError('Object already scheduled for deletion');\r\n      }\r\n  \r\n      detachFinalizer(this);\r\n      releaseClassHandle(this.$$);\r\n  \r\n      if (!this.$$.preservePointerOnDelete) {\r\n        this.$$.smartPtr = undefined;\r\n        this.$$.ptr = undefined;\r\n      }\r\n    }\r\n  \r\n  function ClassHandle_isDeleted() {\r\n      return !this.$$.ptr;\r\n    }\r\n  \r\n  function ClassHandle_deleteLater() {\r\n      if (!this.$$.ptr) {\r\n        throwInstanceAlreadyDeleted(this);\r\n      }\r\n      if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\r\n        throwBindingError('Object already scheduled for deletion');\r\n      }\r\n      deletionQueue.push(this);\r\n      if (deletionQueue.length === 1 && delayFunction) {\r\n        delayFunction(flushPendingDeletes);\r\n      }\r\n      this.$$.deleteScheduled = true;\r\n      return this;\r\n    }\r\n  function init_ClassHandle() {\r\n      ClassHandle.prototype['isAliasOf'] = ClassHandle_isAliasOf;\r\n      ClassHandle.prototype['clone'] = ClassHandle_clone;\r\n      ClassHandle.prototype['delete'] = ClassHandle_delete;\r\n      ClassHandle.prototype['isDeleted'] = ClassHandle_isDeleted;\r\n      ClassHandle.prototype['deleteLater'] = ClassHandle_deleteLater;\r\n    }\r\n  function ClassHandle() {\r\n    }\r\n  \r\n  function ensureOverloadTable(proto, methodName, humanName) {\r\n      if (undefined === proto[methodName].overloadTable) {\r\n        var prevFunc = proto[methodName];\r\n        // Inject an overload resolver function that routes to the appropriate overload based on the number of arguments.\r\n        proto[methodName] = function() {\r\n          // TODO This check can be removed in -O3 level \"unsafe\" optimizations.\r\n          if (!proto[methodName].overloadTable.hasOwnProperty(arguments.length)) {\r\n              throwBindingError(\"Function '\" + humanName + \"' called with an invalid number of arguments (\" + arguments.length + \") - expects one of (\" + proto[methodName].overloadTable + \")!\");\r\n          }\r\n          return proto[methodName].overloadTable[arguments.length].apply(this, arguments);\r\n        };\r\n        // Move the previous function into the overload table.\r\n        proto[methodName].overloadTable = [];\r\n        proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;\r\n      }\r\n    }\r\n  /** @param {number=} numArguments */\r\n  function exposePublicSymbol(name, value, numArguments) {\r\n      if (Module.hasOwnProperty(name)) {\r\n        if (undefined === numArguments || (undefined !== Module[name].overloadTable && undefined !== Module[name].overloadTable[numArguments])) {\r\n          throwBindingError(\"Cannot register public name '\" + name + \"' twice\");\r\n        }\r\n  \r\n        // We are exposing a function with the same name as an existing function. Create an overload table and a function selector\r\n        // that routes between the two.\r\n        ensureOverloadTable(Module, name, name);\r\n        if (Module.hasOwnProperty(numArguments)) {\r\n            throwBindingError(\"Cannot register multiple overloads of a function with the same number of arguments (\" + numArguments + \")!\");\r\n        }\r\n        // Add the new function into the overload table.\r\n        Module[name].overloadTable[numArguments] = value;\r\n      }\r\n      else {\r\n        Module[name] = value;\r\n        if (undefined !== numArguments) {\r\n          Module[name].numArguments = numArguments;\r\n        }\r\n      }\r\n    }\r\n  \r\n  /** @constructor */\r\n  function RegisteredClass(name,\r\n                               constructor,\r\n                               instancePrototype,\r\n                               rawDestructor,\r\n                               baseClass,\r\n                               getActualType,\r\n                               upcast,\r\n                               downcast) {\r\n      this.name = name;\r\n      this.constructor = constructor;\r\n      this.instancePrototype = instancePrototype;\r\n      this.rawDestructor = rawDestructor;\r\n      this.baseClass = baseClass;\r\n      this.getActualType = getActualType;\r\n      this.upcast = upcast;\r\n      this.downcast = downcast;\r\n      this.pureVirtualFunctions = [];\r\n    }\r\n  \r\n  function upcastPointer(ptr, ptrClass, desiredClass) {\r\n      while (ptrClass !== desiredClass) {\r\n        if (!ptrClass.upcast) {\r\n          throwBindingError(\"Expected null or instance of \" + desiredClass.name + \", got an instance of \" + ptrClass.name);\r\n        }\r\n        ptr = ptrClass.upcast(ptr);\r\n        ptrClass = ptrClass.baseClass;\r\n      }\r\n      return ptr;\r\n    }\r\n  function constNoSmartPtrRawPointerToWireType(destructors, handle) {\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError('null is not a valid ' + this.name);\r\n        }\r\n        return 0;\r\n      }\r\n  \r\n      if (!handle.$$) {\r\n        throwBindingError('Cannot pass \"' + _embind_repr(handle) + '\" as a ' + this.name);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError('Cannot pass deleted object as a pointer of type ' + this.name);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n      return ptr;\r\n    }\r\n  \r\n  function genericPointerToWireType(destructors, handle) {\r\n      var ptr;\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError('null is not a valid ' + this.name);\r\n        }\r\n  \r\n        if (this.isSmartPointer) {\r\n          ptr = this.rawConstructor();\r\n          if (destructors !== null) {\r\n            destructors.push(this.rawDestructor, ptr);\r\n          }\r\n          return ptr;\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n  \r\n      if (!handle.$$) {\r\n        throwBindingError('Cannot pass \"' + _embind_repr(handle) + '\" as a ' + this.name);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError('Cannot pass deleted object as a pointer of type ' + this.name);\r\n      }\r\n      if (!this.isConst && handle.$$.ptrType.isConst) {\r\n        throwBindingError('Cannot convert argument of type ' + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + ' to parameter type ' + this.name);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n  \r\n      if (this.isSmartPointer) {\r\n        // TODO: this is not strictly true\r\n        // We could support BY_EMVAL conversions from raw pointers to smart pointers\r\n        // because the smart pointer can hold a reference to the handle\r\n        if (undefined === handle.$$.smartPtr) {\r\n          throwBindingError('Passing raw pointer to smart pointer is illegal');\r\n        }\r\n  \r\n        switch (this.sharingPolicy) {\r\n          case 0: // NONE\r\n            // no upcasting\r\n            if (handle.$$.smartPtrType === this) {\r\n              ptr = handle.$$.smartPtr;\r\n            } else {\r\n              throwBindingError('Cannot convert argument of type ' + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + ' to parameter type ' + this.name);\r\n            }\r\n            break;\r\n  \r\n          case 1: // INTRUSIVE\r\n            ptr = handle.$$.smartPtr;\r\n            break;\r\n  \r\n          case 2: // BY_EMVAL\r\n            if (handle.$$.smartPtrType === this) {\r\n              ptr = handle.$$.smartPtr;\r\n            } else {\r\n              var clonedHandle = handle['clone']();\r\n              ptr = this.rawShare(\r\n                ptr,\r\n                Emval.toHandle(function() {\r\n                  clonedHandle['delete']();\r\n                })\r\n              );\r\n              if (destructors !== null) {\r\n                destructors.push(this.rawDestructor, ptr);\r\n              }\r\n            }\r\n            break;\r\n  \r\n          default:\r\n            throwBindingError('Unsupporting sharing policy');\r\n        }\r\n      }\r\n      return ptr;\r\n    }\r\n  \r\n  function nonConstNoSmartPtrRawPointerToWireType(destructors, handle) {\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError('null is not a valid ' + this.name);\r\n        }\r\n        return 0;\r\n      }\r\n  \r\n      if (!handle.$$) {\r\n        throwBindingError('Cannot pass \"' + _embind_repr(handle) + '\" as a ' + this.name);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError('Cannot pass deleted object as a pointer of type ' + this.name);\r\n      }\r\n      if (handle.$$.ptrType.isConst) {\r\n          throwBindingError('Cannot convert argument of type ' + handle.$$.ptrType.name + ' to parameter type ' + this.name);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n      return ptr;\r\n    }\r\n  \r\n  function simpleReadValueFromPointer(pointer) {\r\n      return this['fromWireType'](HEAPU32[pointer >> 2]);\r\n    }\r\n  \r\n  function RegisteredPointer_getPointee(ptr) {\r\n      if (this.rawGetPointee) {\r\n        ptr = this.rawGetPointee(ptr);\r\n      }\r\n      return ptr;\r\n    }\r\n  \r\n  function RegisteredPointer_destructor(ptr) {\r\n      if (this.rawDestructor) {\r\n        this.rawDestructor(ptr);\r\n      }\r\n    }\r\n  \r\n  function RegisteredPointer_deleteObject(handle) {\r\n      if (handle !== null) {\r\n        handle['delete']();\r\n      }\r\n    }\r\n  function init_RegisteredPointer() {\r\n      RegisteredPointer.prototype.getPointee = RegisteredPointer_getPointee;\r\n      RegisteredPointer.prototype.destructor = RegisteredPointer_destructor;\r\n      RegisteredPointer.prototype['argPackAdvance'] = 8;\r\n      RegisteredPointer.prototype['readValueFromPointer'] = simpleReadValueFromPointer;\r\n      RegisteredPointer.prototype['deleteObject'] = RegisteredPointer_deleteObject;\r\n      RegisteredPointer.prototype['fromWireType'] = RegisteredPointer_fromWireType;\r\n    }\r\n  /** @constructor\r\n      @param {*=} pointeeType,\r\n      @param {*=} sharingPolicy,\r\n      @param {*=} rawGetPointee,\r\n      @param {*=} rawConstructor,\r\n      @param {*=} rawShare,\r\n      @param {*=} rawDestructor,\r\n       */\r\n  function RegisteredPointer(\r\n      name,\r\n      registeredClass,\r\n      isReference,\r\n      isConst,\r\n  \r\n      // smart pointer properties\r\n      isSmartPointer,\r\n      pointeeType,\r\n      sharingPolicy,\r\n      rawGetPointee,\r\n      rawConstructor,\r\n      rawShare,\r\n      rawDestructor\r\n    ) {\r\n      this.name = name;\r\n      this.registeredClass = registeredClass;\r\n      this.isReference = isReference;\r\n      this.isConst = isConst;\r\n  \r\n      // smart pointer properties\r\n      this.isSmartPointer = isSmartPointer;\r\n      this.pointeeType = pointeeType;\r\n      this.sharingPolicy = sharingPolicy;\r\n      this.rawGetPointee = rawGetPointee;\r\n      this.rawConstructor = rawConstructor;\r\n      this.rawShare = rawShare;\r\n      this.rawDestructor = rawDestructor;\r\n  \r\n      if (!isSmartPointer && registeredClass.baseClass === undefined) {\r\n        if (isConst) {\r\n          this['toWireType'] = constNoSmartPtrRawPointerToWireType;\r\n          this.destructorFunction = null;\r\n        } else {\r\n          this['toWireType'] = nonConstNoSmartPtrRawPointerToWireType;\r\n          this.destructorFunction = null;\r\n        }\r\n      } else {\r\n        this['toWireType'] = genericPointerToWireType;\r\n        // Here we must leave this.destructorFunction undefined, since whether genericPointerToWireType returns\r\n        // a pointer that needs to be freed up is runtime-dependent, and cannot be evaluated at registration time.\r\n        // TODO: Create an alternative mechanism that allows removing the use of var destructors = []; array in\r\n        //       craftInvokerFunction altogether.\r\n      }\r\n    }\r\n  \r\n  /** @param {number=} numArguments */\r\n  function replacePublicSymbol(name, value, numArguments) {\r\n      if (!Module.hasOwnProperty(name)) {\r\n        throwInternalError('Replacing nonexistant public symbol');\r\n      }\r\n      // If there's an overload table for this symbol, replace the symbol in the overload table instead.\r\n      if (undefined !== Module[name].overloadTable && undefined !== numArguments) {\r\n        Module[name].overloadTable[numArguments] = value;\r\n      }\r\n      else {\r\n        Module[name] = value;\r\n        Module[name].argCount = numArguments;\r\n      }\r\n    }\r\n  \r\n  function dynCallLegacy(sig, ptr, args) {\r\n      assert(('dynCall_' + sig) in Module, 'bad function pointer type - no table for sig \\'' + sig + '\\'');\r\n      if (args && args.length) {\r\n        // j (64-bit integer) must be passed in as two numbers [low 32, high 32].\r\n        assert(args.length === sig.substring(1).replace(/j/g, '--').length);\r\n      } else {\r\n        assert(sig.length == 1);\r\n      }\r\n      var f = Module[\"dynCall_\" + sig];\r\n      return args && args.length ? f.apply(null, [ptr].concat(args)) : f.call(null, ptr);\r\n    }\r\n  /** @param {Object=} args */\r\n  function dynCall(sig, ptr, args) {\r\n      // Without WASM_BIGINT support we cannot directly call function with i64 as\r\n      // part of thier signature, so we rely the dynCall functions generated by\r\n      // wasm-emscripten-finalize\r\n      if (sig.includes('j')) {\r\n        return dynCallLegacy(sig, ptr, args);\r\n      }\r\n      assert(getWasmTableEntry(ptr), 'missing table entry in dynCall: ' + ptr);\r\n      return getWasmTableEntry(ptr).apply(null, args)\r\n    }\r\n  function getDynCaller(sig, ptr) {\r\n      assert(sig.includes('j'), 'getDynCaller should only be called with i64 sigs')\r\n      var argCache = [];\r\n      return function() {\r\n        argCache.length = 0;\r\n        Object.assign(argCache, arguments);\r\n        return dynCall(sig, ptr, argCache);\r\n      };\r\n    }\r\n  function embind__requireFunction(signature, rawFunction) {\r\n      signature = readLatin1String(signature);\r\n  \r\n      function makeDynCaller() {\r\n        if (signature.includes('j')) {\r\n          return getDynCaller(signature, rawFunction);\r\n        }\r\n        return getWasmTableEntry(rawFunction);\r\n      }\r\n  \r\n      var fp = makeDynCaller();\r\n      if (typeof fp != \"function\") {\r\n          throwBindingError(\"unknown function pointer with signature \" + signature + \": \" + rawFunction);\r\n      }\r\n      return fp;\r\n    }\r\n  \r\n  var UnboundTypeError = undefined;\r\n  \r\n  function getTypeName(type) {\r\n      var ptr = ___getTypeName(type);\r\n      var rv = readLatin1String(ptr);\r\n      _free(ptr);\r\n      return rv;\r\n    }\r\n  function throwUnboundTypeError(message, types) {\r\n      var unboundTypes = [];\r\n      var seen = {};\r\n      function visit(type) {\r\n        if (seen[type]) {\r\n          return;\r\n        }\r\n        if (registeredTypes[type]) {\r\n          return;\r\n        }\r\n        if (typeDependencies[type]) {\r\n          typeDependencies[type].forEach(visit);\r\n          return;\r\n        }\r\n        unboundTypes.push(type);\r\n        seen[type] = true;\r\n      }\r\n      types.forEach(visit);\r\n  \r\n      throw new UnboundTypeError(message + ': ' + unboundTypes.map(getTypeName).join([', ']));\r\n    }\r\n  function __embind_register_class(rawType,\r\n                                     rawPointerType,\r\n                                     rawConstPointerType,\r\n                                     baseClassRawType,\r\n                                     getActualTypeSignature,\r\n                                     getActualType,\r\n                                     upcastSignature,\r\n                                     upcast,\r\n                                     downcastSignature,\r\n                                     downcast,\r\n                                     name,\r\n                                     destructorSignature,\r\n                                     rawDestructor) {\r\n      name = readLatin1String(name);\r\n      getActualType = embind__requireFunction(getActualTypeSignature, getActualType);\r\n      if (upcast) {\r\n        upcast = embind__requireFunction(upcastSignature, upcast);\r\n      }\r\n      if (downcast) {\r\n        downcast = embind__requireFunction(downcastSignature, downcast);\r\n      }\r\n      rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);\r\n      var legalFunctionName = makeLegalFunctionName(name);\r\n  \r\n      exposePublicSymbol(legalFunctionName, function() {\r\n        // this code cannot run if baseClassRawType is zero\r\n        throwUnboundTypeError('Cannot construct ' + name + ' due to unbound types', [baseClassRawType]);\r\n      });\r\n  \r\n      whenDependentTypesAreResolved(\r\n        [rawType, rawPointerType, rawConstPointerType],\r\n        baseClassRawType ? [baseClassRawType] : [],\r\n        function(base) {\r\n          base = base[0];\r\n  \r\n          var baseClass;\r\n          var basePrototype;\r\n          if (baseClassRawType) {\r\n            baseClass = base.registeredClass;\r\n            basePrototype = baseClass.instancePrototype;\r\n          } else {\r\n            basePrototype = ClassHandle.prototype;\r\n          }\r\n  \r\n          var constructor = createNamedFunction(legalFunctionName, function() {\r\n            if (Object.getPrototypeOf(this) !== instancePrototype) {\r\n              throw new BindingError(\"Use 'new' to construct \" + name);\r\n            }\r\n            if (undefined === registeredClass.constructor_body) {\r\n              throw new BindingError(name + \" has no accessible constructor\");\r\n            }\r\n            var body = registeredClass.constructor_body[arguments.length];\r\n            if (undefined === body) {\r\n              throw new BindingError(\"Tried to invoke ctor of \" + name + \" with invalid number of parameters (\" + arguments.length + \") - expected (\" + Object.keys(registeredClass.constructor_body).toString() + \") parameters instead!\");\r\n            }\r\n            return body.apply(this, arguments);\r\n          });\r\n  \r\n          var instancePrototype = Object.create(basePrototype, {\r\n            constructor: { value: constructor },\r\n          });\r\n  \r\n          constructor.prototype = instancePrototype;\r\n  \r\n          var registeredClass = new RegisteredClass(name,\r\n                                                    constructor,\r\n                                                    instancePrototype,\r\n                                                    rawDestructor,\r\n                                                    baseClass,\r\n                                                    getActualType,\r\n                                                    upcast,\r\n                                                    downcast);\r\n  \r\n          var referenceConverter = new RegisteredPointer(name,\r\n                                                         registeredClass,\r\n                                                         true,\r\n                                                         false,\r\n                                                         false);\r\n  \r\n          var pointerConverter = new RegisteredPointer(name + '*',\r\n                                                       registeredClass,\r\n                                                       false,\r\n                                                       false,\r\n                                                       false);\r\n  \r\n          var constPointerConverter = new RegisteredPointer(name + ' const*',\r\n                                                            registeredClass,\r\n                                                            false,\r\n                                                            true,\r\n                                                            false);\r\n  \r\n          registeredPointers[rawType] = {\r\n            pointerType: pointerConverter,\r\n            constPointerType: constPointerConverter\r\n          };\r\n  \r\n          replacePublicSymbol(legalFunctionName, constructor);\r\n  \r\n          return [referenceConverter, pointerConverter, constPointerConverter];\r\n        }\r\n      );\r\n    }\r\n\r\n  function heap32VectorToArray(count, firstElement) {\r\n      \r\n      var array = [];\r\n      for (var i = 0; i < count; i++) {\r\n          array.push(HEAP32[(firstElement >> 2) + i]);\r\n      }\r\n      return array;\r\n    }\r\n  \r\n  function runDestructors(destructors) {\r\n      while (destructors.length) {\r\n        var ptr = destructors.pop();\r\n        var del = destructors.pop();\r\n        del(ptr);\r\n      }\r\n    }\r\n  function __embind_register_class_constructor(\r\n      rawClassType,\r\n      argCount,\r\n      rawArgTypesAddr,\r\n      invokerSignature,\r\n      invoker,\r\n      rawConstructor\r\n    ) {\r\n      assert(argCount > 0);\r\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n      invoker = embind__requireFunction(invokerSignature, invoker);\r\n      var args = [rawConstructor];\r\n      var destructors = [];\r\n  \r\n      whenDependentTypesAreResolved([], [rawClassType], function(classType) {\r\n        classType = classType[0];\r\n        var humanName = 'constructor ' + classType.name;\r\n  \r\n        if (undefined === classType.registeredClass.constructor_body) {\r\n          classType.registeredClass.constructor_body = [];\r\n        }\r\n        if (undefined !== classType.registeredClass.constructor_body[argCount - 1]) {\r\n          throw new BindingError(\"Cannot register multiple constructors with identical number of parameters (\" + (argCount-1) + \") for class '\" + classType.name + \"'! Overload resolution is currently only performed using the parameter count, not actual type info!\");\r\n        }\r\n        classType.registeredClass.constructor_body[argCount - 1] = () => {\r\n          throwUnboundTypeError('Cannot construct ' + classType.name + ' due to unbound types', rawArgTypes);\r\n        };\r\n  \r\n        whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {\r\n          // Insert empty slot for context type (argTypes[1]).\r\n          argTypes.splice(1, 0, null);\r\n          classType.registeredClass.constructor_body[argCount - 1] = craftInvokerFunction(humanName, argTypes, null, invoker, rawConstructor);\r\n          return [];\r\n        });\r\n        return [];\r\n      });\r\n    }\r\n\r\n  function new_(constructor, argumentList) {\r\n      if (!(constructor instanceof Function)) {\r\n        throw new TypeError('new_ called with constructor type ' + typeof(constructor) + \" which is not a function\");\r\n      }\r\n      /*\r\n       * Previously, the following line was just:\r\n       *   function dummy() {};\r\n       * Unfortunately, Chrome was preserving 'dummy' as the object's name, even\r\n       * though at creation, the 'dummy' has the correct constructor name.  Thus,\r\n       * objects created with IMVU.new would show up in the debugger as 'dummy',\r\n       * which isn't very helpful.  Using IMVU.createNamedFunction addresses the\r\n       * issue.  Doublely-unfortunately, there's no way to write a test for this\r\n       * behavior.  -NRD 2013.02.22\r\n       */\r\n      var dummy = createNamedFunction(constructor.name || 'unknownFunctionName', function(){});\r\n      dummy.prototype = constructor.prototype;\r\n      var obj = new dummy;\r\n  \r\n      var r = constructor.apply(obj, argumentList);\r\n      return (r instanceof Object) ? r : obj;\r\n    }\r\n  function craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc) {\r\n      // humanName: a human-readable string name for the function to be generated.\r\n      // argTypes: An array that contains the embind type objects for all types in the function signature.\r\n      //    argTypes[0] is the type object for the function return value.\r\n      //    argTypes[1] is the type object for function this object/class type, or null if not crafting an invoker for a class method.\r\n      //    argTypes[2...] are the actual function parameters.\r\n      // classType: The embind type object for the class to be bound, or null if this is not a method of a class.\r\n      // cppInvokerFunc: JS Function object to the C++-side function that interops into C++ code.\r\n      // cppTargetFunc: Function pointer (an integer to FUNCTION_TABLE) to the target C++ function the cppInvokerFunc will end up calling.\r\n      var argCount = argTypes.length;\r\n  \r\n      if (argCount < 2) {\r\n        throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\r\n      }\r\n  \r\n      var isClassMethodFunc = (argTypes[1] !== null && classType !== null);\r\n  \r\n      // Free functions with signature \"void function()\" do not need an invoker that marshalls between wire types.\r\n  // TODO: This omits argument count check - enable only at -O3 or similar.\r\n  //    if (ENABLE_UNSAFE_OPTS && argCount == 2 && argTypes[0].name == \"void\" && !isClassMethodFunc) {\r\n  //       return FUNCTION_TABLE[fn];\r\n  //    }\r\n  \r\n      // Determine if we need to use a dynamic stack to store the destructors for the function parameters.\r\n      // TODO: Remove this completely once all function invokers are being dynamically generated.\r\n      var needsDestructorStack = false;\r\n  \r\n      for (var i = 1; i < argTypes.length; ++i) { // Skip return value at index 0 - it's not deleted here.\r\n        if (argTypes[i] !== null && argTypes[i].destructorFunction === undefined) { // The type does not define a destructor function - must use dynamic stack\r\n          needsDestructorStack = true;\r\n          break;\r\n        }\r\n      }\r\n  \r\n      var returns = (argTypes[0].name !== \"void\");\r\n  \r\n      var argsList = \"\";\r\n      var argsListWired = \"\";\r\n      for (var i = 0; i < argCount - 2; ++i) {\r\n        argsList += (i!==0?\", \":\"\")+\"arg\"+i;\r\n        argsListWired += (i!==0?\", \":\"\")+\"arg\"+i+\"Wired\";\r\n      }\r\n  \r\n      var invokerFnBody =\r\n          \"return function \"+makeLegalFunctionName(humanName)+\"(\"+argsList+\") {\\n\" +\r\n          \"if (arguments.length !== \"+(argCount - 2)+\") {\\n\" +\r\n              \"throwBindingError('function \"+humanName+\" called with ' + arguments.length + ' arguments, expected \"+(argCount - 2)+\" args!');\\n\" +\r\n          \"}\\n\";\r\n  \r\n      if (needsDestructorStack) {\r\n        invokerFnBody += \"var destructors = [];\\n\";\r\n      }\r\n  \r\n      var dtorStack = needsDestructorStack ? \"destructors\" : \"null\";\r\n      var args1 = [\"throwBindingError\", \"invoker\", \"fn\", \"runDestructors\", \"retType\", \"classParam\"];\r\n      var args2 = [throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];\r\n  \r\n      if (isClassMethodFunc) {\r\n        invokerFnBody += \"var thisWired = classParam.toWireType(\"+dtorStack+\", this);\\n\";\r\n      }\r\n  \r\n      for (var i = 0; i < argCount - 2; ++i) {\r\n        invokerFnBody += \"var arg\"+i+\"Wired = argType\"+i+\".toWireType(\"+dtorStack+\", arg\"+i+\"); // \"+argTypes[i+2].name+\"\\n\";\r\n        args1.push(\"argType\"+i);\r\n        args2.push(argTypes[i+2]);\r\n      }\r\n  \r\n      if (isClassMethodFunc) {\r\n        argsListWired = \"thisWired\" + (argsListWired.length > 0 ? \", \" : \"\") + argsListWired;\r\n      }\r\n  \r\n      invokerFnBody +=\r\n          (returns?\"var rv = \":\"\") + \"invoker(fn\"+(argsListWired.length>0?\", \":\"\")+argsListWired+\");\\n\";\r\n  \r\n      if (needsDestructorStack) {\r\n        invokerFnBody += \"runDestructors(destructors);\\n\";\r\n      } else {\r\n        for (var i = isClassMethodFunc?1:2; i < argTypes.length; ++i) { // Skip return value at index 0 - it's not deleted here. Also skip class type if not a method.\r\n          var paramName = (i === 1 ? \"thisWired\" : (\"arg\"+(i - 2)+\"Wired\"));\r\n          if (argTypes[i].destructorFunction !== null) {\r\n            invokerFnBody += paramName+\"_dtor(\"+paramName+\"); // \"+argTypes[i].name+\"\\n\";\r\n            args1.push(paramName+\"_dtor\");\r\n            args2.push(argTypes[i].destructorFunction);\r\n          }\r\n        }\r\n      }\r\n  \r\n      if (returns) {\r\n        invokerFnBody += \"var ret = retType.fromWireType(rv);\\n\" +\r\n                         \"return ret;\\n\";\r\n      } else {\r\n      }\r\n  \r\n      invokerFnBody += \"}\\n\";\r\n  \r\n      args1.push(invokerFnBody);\r\n  \r\n      var invokerFunction = new_(Function, args1).apply(null, args2);\r\n      return invokerFunction;\r\n    }\r\n  function __embind_register_class_function(rawClassType,\r\n                                              methodName,\r\n                                              argCount,\r\n                                              rawArgTypesAddr, // [ReturnType, ThisType, Args...]\r\n                                              invokerSignature,\r\n                                              rawInvoker,\r\n                                              context,\r\n                                              isPureVirtual) {\r\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n      methodName = readLatin1String(methodName);\r\n      rawInvoker = embind__requireFunction(invokerSignature, rawInvoker);\r\n  \r\n      whenDependentTypesAreResolved([], [rawClassType], function(classType) {\r\n        classType = classType[0];\r\n        var humanName = classType.name + '.' + methodName;\r\n  \r\n        if (methodName.startsWith(\"@@\")) {\r\n          methodName = Symbol[methodName.substring(2)];\r\n        }\r\n  \r\n        if (isPureVirtual) {\r\n          classType.registeredClass.pureVirtualFunctions.push(methodName);\r\n        }\r\n  \r\n        function unboundTypesHandler() {\r\n          throwUnboundTypeError('Cannot call ' + humanName + ' due to unbound types', rawArgTypes);\r\n        }\r\n  \r\n        var proto = classType.registeredClass.instancePrototype;\r\n        var method = proto[methodName];\r\n        if (undefined === method || (undefined === method.overloadTable && method.className !== classType.name && method.argCount === argCount - 2)) {\r\n          // This is the first overload to be registered, OR we are replacing a\r\n          // function in the base class with a function in the derived class.\r\n          unboundTypesHandler.argCount = argCount - 2;\r\n          unboundTypesHandler.className = classType.name;\r\n          proto[methodName] = unboundTypesHandler;\r\n        } else {\r\n          // There was an existing function with the same name registered. Set up\r\n          // a function overload routing table.\r\n          ensureOverloadTable(proto, methodName, humanName);\r\n          proto[methodName].overloadTable[argCount - 2] = unboundTypesHandler;\r\n        }\r\n  \r\n        whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {\r\n          var memberFunction = craftInvokerFunction(humanName, argTypes, classType, rawInvoker, context);\r\n  \r\n          // Replace the initial unbound-handler-stub function with the appropriate member function, now that all types\r\n          // are resolved. If multiple overloads are registered for this function, the function goes into an overload table.\r\n          if (undefined === proto[methodName].overloadTable) {\r\n            // Set argCount in case an overload is registered later\r\n            memberFunction.argCount = argCount - 2;\r\n            proto[methodName] = memberFunction;\r\n          } else {\r\n            proto[methodName].overloadTable[argCount - 2] = memberFunction;\r\n          }\r\n  \r\n          return [];\r\n        });\r\n        return [];\r\n      });\r\n    }\r\n\r\n  var emval_free_list = [];\r\n  \r\n  var emval_handle_array = [{},{value:undefined},{value:null},{value:true},{value:false}];\r\n  function __emval_decref(handle) {\r\n      if (handle > 4 && 0 === --emval_handle_array[handle].refcount) {\r\n        emval_handle_array[handle] = undefined;\r\n        emval_free_list.push(handle);\r\n      }\r\n    }\r\n  \r\n  function count_emval_handles() {\r\n      var count = 0;\r\n      for (var i = 5; i < emval_handle_array.length; ++i) {\r\n        if (emval_handle_array[i] !== undefined) {\r\n          ++count;\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n  \r\n  function get_first_emval() {\r\n      for (var i = 5; i < emval_handle_array.length; ++i) {\r\n        if (emval_handle_array[i] !== undefined) {\r\n          return emval_handle_array[i];\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  function init_emval() {\r\n      Module['count_emval_handles'] = count_emval_handles;\r\n      Module['get_first_emval'] = get_first_emval;\r\n    }\r\n  var Emval = {toValue:(handle) => {\r\n        if (!handle) {\r\n            throwBindingError('Cannot use deleted val. handle = ' + handle);\r\n        }\r\n        return emval_handle_array[handle].value;\r\n      },toHandle:(value) => {\r\n        switch (value) {\r\n          case undefined: return 1;\r\n          case null: return 2;\r\n          case true: return 3;\r\n          case false: return 4;\r\n          default:{\r\n            var handle = emval_free_list.length ?\r\n                emval_free_list.pop() :\r\n                emval_handle_array.length;\r\n  \r\n            emval_handle_array[handle] = {refcount: 1, value: value};\r\n            return handle;\r\n          }\r\n        }\r\n      }};\r\n  function __embind_register_emval(rawType, name) {\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n        name: name,\r\n        'fromWireType': function(handle) {\r\n          var rv = Emval.toValue(handle);\r\n          __emval_decref(handle);\r\n          return rv;\r\n        },\r\n        'toWireType': function(destructors, value) {\r\n          return Emval.toHandle(value);\r\n        },\r\n        'argPackAdvance': 8,\r\n        'readValueFromPointer': simpleReadValueFromPointer,\r\n        destructorFunction: null, // This type does not need a destructor\r\n  \r\n        // TODO: do we need a deleteObject here?  write a test where\r\n        // emval is passed into JS via an interface\r\n      });\r\n    }\r\n\r\n  function enumReadValueFromPointer(name, shift, signed) {\r\n      switch (shift) {\r\n          case 0: return function(pointer) {\r\n              var heap = signed ? HEAP8 : HEAPU8;\r\n              return this['fromWireType'](heap[pointer]);\r\n          };\r\n          case 1: return function(pointer) {\r\n              var heap = signed ? HEAP16 : HEAPU16;\r\n              return this['fromWireType'](heap[pointer >> 1]);\r\n          };\r\n          case 2: return function(pointer) {\r\n              var heap = signed ? HEAP32 : HEAPU32;\r\n              return this['fromWireType'](heap[pointer >> 2]);\r\n          };\r\n          default:\r\n              throw new TypeError(\"Unknown integer type: \" + name);\r\n      }\r\n    }\r\n  function __embind_register_enum(rawType, name, size, isSigned) {\r\n      var shift = getShiftFromSize(size);\r\n      name = readLatin1String(name);\r\n  \r\n      function ctor() {}\r\n      ctor.values = {};\r\n  \r\n      registerType(rawType, {\r\n        name: name,\r\n        constructor: ctor,\r\n        'fromWireType': function(c) {\r\n          return this.constructor.values[c];\r\n        },\r\n        'toWireType': function(destructors, c) {\r\n          return c.value;\r\n        },\r\n        'argPackAdvance': 8,\r\n        'readValueFromPointer': enumReadValueFromPointer(name, shift, isSigned),\r\n        destructorFunction: null,\r\n      });\r\n      exposePublicSymbol(name, ctor);\r\n    }\r\n\r\n  function requireRegisteredType(rawType, humanName) {\r\n      var impl = registeredTypes[rawType];\r\n      if (undefined === impl) {\r\n          throwBindingError(humanName + \" has unknown type \" + getTypeName(rawType));\r\n      }\r\n      return impl;\r\n    }\r\n  function __embind_register_enum_value(rawEnumType, name, enumValue) {\r\n      var enumType = requireRegisteredType(rawEnumType, 'enum');\r\n      name = readLatin1String(name);\r\n  \r\n      var Enum = enumType.constructor;\r\n  \r\n      var Value = Object.create(enumType.constructor.prototype, {\r\n        value: {value: enumValue},\r\n        constructor: {value: createNamedFunction(enumType.name + '_' + name, function() {})},\r\n      });\r\n      Enum.values[enumValue] = Value;\r\n      Enum[name] = Value;\r\n    }\r\n\r\n  function _embind_repr(v) {\r\n      if (v === null) {\r\n          return 'null';\r\n      }\r\n      var t = typeof v;\r\n      if (t === 'object' || t === 'array' || t === 'function') {\r\n          return v.toString();\r\n      } else {\r\n          return '' + v;\r\n      }\r\n    }\r\n  \r\n  function floatReadValueFromPointer(name, shift) {\r\n      switch (shift) {\r\n          case 2: return function(pointer) {\r\n              return this['fromWireType'](HEAPF32[pointer >> 2]);\r\n          };\r\n          case 3: return function(pointer) {\r\n              return this['fromWireType'](HEAPF64[pointer >> 3]);\r\n          };\r\n          default:\r\n              throw new TypeError(\"Unknown float type: \" + name);\r\n      }\r\n    }\r\n  function __embind_register_float(rawType, name, size) {\r\n      var shift = getShiftFromSize(size);\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n          name: name,\r\n          'fromWireType': function(value) {\r\n               return value;\r\n          },\r\n          'toWireType': function(destructors, value) {\r\n              if (typeof value != \"number\" && typeof value != \"boolean\") {\r\n                  throw new TypeError('Cannot convert \"' + _embind_repr(value) + '\" to ' + this.name);\r\n              }\r\n              // The VM will perform JS to Wasm value conversion, according to the spec:\r\n              // https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n              return value;\r\n          },\r\n          'argPackAdvance': 8,\r\n          'readValueFromPointer': floatReadValueFromPointer(name, shift),\r\n          destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    }\r\n\r\n  function integerReadValueFromPointer(name, shift, signed) {\r\n      // integers are quite common, so generate very specialized functions\r\n      switch (shift) {\r\n          case 0: return signed ?\r\n              function readS8FromPointer(pointer) { return HEAP8[pointer]; } :\r\n              function readU8FromPointer(pointer) { return HEAPU8[pointer]; };\r\n          case 1: return signed ?\r\n              function readS16FromPointer(pointer) { return HEAP16[pointer >> 1]; } :\r\n              function readU16FromPointer(pointer) { return HEAPU16[pointer >> 1]; };\r\n          case 2: return signed ?\r\n              function readS32FromPointer(pointer) { return HEAP32[pointer >> 2]; } :\r\n              function readU32FromPointer(pointer) { return HEAPU32[pointer >> 2]; };\r\n          default:\r\n              throw new TypeError(\"Unknown integer type: \" + name);\r\n      }\r\n    }\r\n  function __embind_register_integer(primitiveType, name, size, minRange, maxRange) {\r\n      name = readLatin1String(name);\r\n      if (maxRange === -1) { // LLVM doesn't have signed and unsigned 32-bit types, so u32 literals come out as 'i32 -1'. Always treat those as max u32.\r\n          maxRange = 4294967295;\r\n      }\r\n  \r\n      var shift = getShiftFromSize(size);\r\n  \r\n      var fromWireType = (value) => value;\r\n  \r\n      if (minRange === 0) {\r\n          var bitshift = 32 - 8*size;\r\n          fromWireType = (value) => (value << bitshift) >>> bitshift;\r\n      }\r\n  \r\n      var isUnsignedType = (name.includes('unsigned'));\r\n      var checkAssertions = (value, toTypeName) => {\r\n          if (typeof value != \"number\" && typeof value != \"boolean\") {\r\n              throw new TypeError('Cannot convert \"' + _embind_repr(value) + '\" to ' + toTypeName);\r\n          }\r\n          if (value < minRange || value > maxRange) {\r\n              throw new TypeError('Passing a number \"' + _embind_repr(value) + '\" from JS side to C/C++ side to an argument of type \"' + name + '\", which is outside the valid range [' + minRange + ', ' + maxRange + ']!');\r\n          }\r\n      }\r\n      var toWireType;\r\n      if (isUnsignedType) {\r\n          toWireType = function(destructors, value) {\r\n              checkAssertions(value, this.name);\r\n              return value >>> 0;\r\n          }\r\n      } else {\r\n          toWireType = function(destructors, value) {\r\n              checkAssertions(value, this.name);\r\n              // The VM will perform JS to Wasm value conversion, according to the spec:\r\n              // https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n              return value;\r\n          }\r\n      }\r\n      registerType(primitiveType, {\r\n          name: name,\r\n          'fromWireType': fromWireType,\r\n          'toWireType': toWireType,\r\n          'argPackAdvance': 8,\r\n          'readValueFromPointer': integerReadValueFromPointer(name, shift, minRange !== 0),\r\n          destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    }\r\n\r\n  function __embind_register_memory_view(rawType, dataTypeIndex, name) {\r\n      var typeMapping = [\r\n        Int8Array,\r\n        Uint8Array,\r\n        Int16Array,\r\n        Uint16Array,\r\n        Int32Array,\r\n        Uint32Array,\r\n        Float32Array,\r\n        Float64Array,\r\n      ];\r\n  \r\n      var TA = typeMapping[dataTypeIndex];\r\n  \r\n      function decodeMemoryView(handle) {\r\n        handle = handle >> 2;\r\n        var heap = HEAPU32;\r\n        var size = heap[handle]; // in elements\r\n        var data = heap[handle + 1]; // byte offset into emscripten heap\r\n        return new TA(buffer, data, size);\r\n      }\r\n  \r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n        name: name,\r\n        'fromWireType': decodeMemoryView,\r\n        'argPackAdvance': 8,\r\n        'readValueFromPointer': decodeMemoryView,\r\n      }, {\r\n        ignoreDuplicateRegistrations: true,\r\n      });\r\n    }\r\n\r\n  function __embind_register_std_string(rawType, name) {\r\n      name = readLatin1String(name);\r\n      var stdStringIsUTF8\r\n      //process only std::string bindings with UTF8 support, in contrast to e.g. std::basic_string<unsigned char>\r\n      = (name === \"std::string\");\r\n  \r\n      registerType(rawType, {\r\n          name: name,\r\n          'fromWireType': function(value) {\r\n              var length = HEAPU32[value >> 2];\r\n  \r\n              var str;\r\n              if (stdStringIsUTF8) {\r\n                  var decodeStartPtr = value + 4;\r\n                  // Looping here to support possible embedded '0' bytes\r\n                  for (var i = 0; i <= length; ++i) {\r\n                      var currentBytePtr = value + 4 + i;\r\n                      if (i == length || HEAPU8[currentBytePtr] == 0) {\r\n                          var maxRead = currentBytePtr - decodeStartPtr;\r\n                          var stringSegment = UTF8ToString(decodeStartPtr, maxRead);\r\n                          if (str === undefined) {\r\n                              str = stringSegment;\r\n                          } else {\r\n                              str += String.fromCharCode(0);\r\n                              str += stringSegment;\r\n                          }\r\n                          decodeStartPtr = currentBytePtr + 1;\r\n                      }\r\n                  }\r\n              } else {\r\n                  var a = new Array(length);\r\n                  for (var i = 0; i < length; ++i) {\r\n                      a[i] = String.fromCharCode(HEAPU8[value + 4 + i]);\r\n                  }\r\n                  str = a.join('');\r\n              }\r\n  \r\n              _free(value);\r\n  \r\n              return str;\r\n          },\r\n          'toWireType': function(destructors, value) {\r\n              if (value instanceof ArrayBuffer) {\r\n                  value = new Uint8Array(value);\r\n              }\r\n  \r\n              var getLength;\r\n              var valueIsOfTypeString = (typeof value == 'string');\r\n  \r\n              if (!(valueIsOfTypeString || value instanceof Uint8Array || value instanceof Uint8ClampedArray || value instanceof Int8Array)) {\r\n                  throwBindingError('Cannot pass non-string to std::string');\r\n              }\r\n              if (stdStringIsUTF8 && valueIsOfTypeString) {\r\n                  getLength = () => lengthBytesUTF8(value);\r\n              } else {\r\n                  getLength = () => value.length;\r\n              }\r\n  \r\n              // assumes 4-byte alignment\r\n              var length = getLength();\r\n              var ptr = _malloc(4 + length + 1);\r\n              HEAPU32[ptr >> 2] = length;\r\n              if (stdStringIsUTF8 && valueIsOfTypeString) {\r\n                  stringToUTF8(value, ptr + 4, length + 1);\r\n              } else {\r\n                  if (valueIsOfTypeString) {\r\n                      for (var i = 0; i < length; ++i) {\r\n                          var charCode = value.charCodeAt(i);\r\n                          if (charCode > 255) {\r\n                              _free(ptr);\r\n                              throwBindingError('String has UTF-16 code units that do not fit in 8 bits');\r\n                          }\r\n                          HEAPU8[ptr + 4 + i] = charCode;\r\n                      }\r\n                  } else {\r\n                      for (var i = 0; i < length; ++i) {\r\n                          HEAPU8[ptr + 4 + i] = value[i];\r\n                      }\r\n                  }\r\n              }\r\n  \r\n              if (destructors !== null) {\r\n                  destructors.push(_free, ptr);\r\n              }\r\n              return ptr;\r\n          },\r\n          'argPackAdvance': 8,\r\n          'readValueFromPointer': simpleReadValueFromPointer,\r\n          destructorFunction: function(ptr) { _free(ptr); },\r\n      });\r\n    }\r\n\r\n  function __embind_register_std_wstring(rawType, charSize, name) {\r\n      name = readLatin1String(name);\r\n      var decodeString, encodeString, getHeap, lengthBytesUTF, shift;\r\n      if (charSize === 2) {\r\n        decodeString = UTF16ToString;\r\n        encodeString = stringToUTF16;\r\n        lengthBytesUTF = lengthBytesUTF16;\r\n        getHeap = () => HEAPU16;\r\n        shift = 1;\r\n      } else if (charSize === 4) {\r\n        decodeString = UTF32ToString;\r\n        encodeString = stringToUTF32;\r\n        lengthBytesUTF = lengthBytesUTF32;\r\n        getHeap = () => HEAPU32;\r\n        shift = 2;\r\n      }\r\n      registerType(rawType, {\r\n        name: name,\r\n        'fromWireType': function(value) {\r\n          // Code mostly taken from _embind_register_std_string fromWireType\r\n          var length = HEAPU32[value >> 2];\r\n          var HEAP = getHeap();\r\n          var str;\r\n  \r\n          var decodeStartPtr = value + 4;\r\n          // Looping here to support possible embedded '0' bytes\r\n          for (var i = 0; i <= length; ++i) {\r\n            var currentBytePtr = value + 4 + i * charSize;\r\n            if (i == length || HEAP[currentBytePtr >> shift] == 0) {\r\n              var maxReadBytes = currentBytePtr - decodeStartPtr;\r\n              var stringSegment = decodeString(decodeStartPtr, maxReadBytes);\r\n              if (str === undefined) {\r\n                str = stringSegment;\r\n              } else {\r\n                str += String.fromCharCode(0);\r\n                str += stringSegment;\r\n              }\r\n              decodeStartPtr = currentBytePtr + charSize;\r\n            }\r\n          }\r\n  \r\n          _free(value);\r\n  \r\n          return str;\r\n        },\r\n        'toWireType': function(destructors, value) {\r\n          if (!(typeof value == 'string')) {\r\n            throwBindingError('Cannot pass non-string to C++ string type ' + name);\r\n          }\r\n  \r\n          // assumes 4-byte alignment\r\n          var length = lengthBytesUTF(value);\r\n          var ptr = _malloc(4 + length + charSize);\r\n          HEAPU32[ptr >> 2] = length >> shift;\r\n  \r\n          encodeString(value, ptr + 4, length + charSize);\r\n  \r\n          if (destructors !== null) {\r\n            destructors.push(_free, ptr);\r\n          }\r\n          return ptr;\r\n        },\r\n        'argPackAdvance': 8,\r\n        'readValueFromPointer': simpleReadValueFromPointer,\r\n        destructorFunction: function(ptr) { _free(ptr); },\r\n      });\r\n    }\r\n\r\n  function __embind_register_void(rawType, name) {\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n          isVoid: true, // void return values can be optimized out sometimes\r\n          name: name,\r\n          'argPackAdvance': 0,\r\n          'fromWireType': function() {\r\n              return undefined;\r\n          },\r\n          'toWireType': function(destructors, o) {\r\n              // TODO: assert if anything else is given?\r\n              return undefined;\r\n          },\r\n      });\r\n    }\r\n\r\n  function __emscripten_date_now() {\r\n      return Date.now();\r\n    }\r\n\r\n  var nowIsMonotonic = true;;\r\n  function __emscripten_get_now_is_monotonic() {\r\n      return nowIsMonotonic;\r\n    }\r\n\r\n\r\n  function __emval_incref(handle) {\r\n      if (handle > 4) {\r\n        emval_handle_array[handle].refcount += 1;\r\n      }\r\n    }\r\n\r\n  function __emval_take_value(type, argv) {\r\n      type = requireRegisteredType(type, '_emval_take_value');\r\n      var v = type['readValueFromPointer'](argv);\r\n      return Emval.toHandle(v);\r\n    }\r\n\r\n  function __mmap_js(addr, len, prot, flags, fd, off, allocated, builtin) {\r\n  try {\r\n  \r\n      var info = FS.getStream(fd);\r\n      if (!info) return -8;\r\n      var res = FS.mmap(info, addr, len, off, prot, flags);\r\n      var ptr = res.ptr;\r\n      HEAP32[((allocated)>>2)] = res.allocated;\r\n      return ptr;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return -e.errno;\r\n  }\r\n  }\r\n\r\n  function __munmap_js(addr, len, prot, flags, fd, offset) {\r\n  try {\r\n  \r\n      var stream = FS.getStream(fd);\r\n      if (stream) {\r\n        if (prot & 2) {\r\n          SYSCALLS.doMsync(addr, stream, len, flags, offset);\r\n        }\r\n        FS.munmap(stream);\r\n      }\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return -e.errno;\r\n  }\r\n  }\r\n\r\n  function _abort() {\r\n      abort('native code called abort()');\r\n    }\r\n\r\n  var readAsmConstArgsArray = [];\r\n  function readAsmConstArgs(sigPtr, buf) {\r\n      ;\r\n      // Nobody should have mutated _readAsmConstArgsArray underneath us to be something else than an array.\r\n      assert(Array.isArray(readAsmConstArgsArray));\r\n      // The input buffer is allocated on the stack, so it must be stack-aligned.\r\n      assert(buf % 16 == 0);\r\n      readAsmConstArgsArray.length = 0;\r\n      var ch;\r\n      // Most arguments are i32s, so shift the buffer pointer so it is a plain\r\n      // index into HEAP32.\r\n      buf >>= 2;\r\n      while (ch = HEAPU8[sigPtr++]) {\r\n        assert(ch === 100/*'d'*/ || ch === 102/*'f'*/ || ch === 105 /*'i'*/, 'Invalid character ' + ch + '(\"' + String.fromCharCode(ch) + '\") in readAsmConstArgs! Use only \"d\", \"f\" or \"i\", and do not specify \"v\" for void return argument.');\r\n        // A double takes two 32-bit slots, and must also be aligned - the backend\r\n        // will emit padding to avoid that.\r\n        var readAsmConstArgsDouble = ch < 105;\r\n        if (readAsmConstArgsDouble && (buf & 1)) buf++;\r\n        readAsmConstArgsArray.push(readAsmConstArgsDouble ? HEAPF64[buf++ >> 1] : HEAP32[buf]);\r\n        ++buf;\r\n      }\r\n      return readAsmConstArgsArray;\r\n    }\r\n  function _emscripten_asm_const_int(code, sigPtr, argbuf) {\r\n      var args = readAsmConstArgs(sigPtr, argbuf);\r\n      if (!ASM_CONSTS.hasOwnProperty(code)) abort('No EM_ASM constant found at address ' + code);\r\n      return ASM_CONSTS[code].apply(null, args);\r\n    }\r\n\r\n  function _emscripten_get_heap_max() {\r\n      return HEAPU8.length;\r\n    }\r\n\r\n  function _emscripten_get_module_name(buf, length) {\r\n      return stringToUTF8(wasmBinaryFile, buf, length);\r\n    }\r\n\r\n  var _emscripten_get_now;if (ENVIRONMENT_IS_NODE) {\r\n    _emscripten_get_now = () => {\r\n      var t = process['hrtime']();\r\n      return t[0] * 1e3 + t[1] / 1e6;\r\n    };\r\n  } else _emscripten_get_now = () => performance.now();\r\n  ;\r\n\r\n  function _emscripten_memcpy_big(dest, src, num) {\r\n      HEAPU8.copyWithin(dest, src, src + num);\r\n    }\r\n\r\n  var UNWIND_CACHE = {};\r\n  \r\n  /** @returns {number} */\r\n  function convertFrameToPC(frame) {\r\n      assert(wasmOffsetConverter);\r\n      var match;\r\n  \r\n      if (match = /\\bwasm-function\\[\\d+\\]:(0x[0-9a-f]+)/.exec(frame)) {\r\n        // some engines give the binary offset directly, so we use that as return address\r\n        return +match[1];\r\n      } else if (match = /\\bwasm-function\\[(\\d+)\\]:(\\d+)/.exec(frame)) {\r\n        // other engines only give function index and offset in the function,\r\n        // so we try using the offset converter. If that doesn't work,\r\n        // we pack index and offset into a \"return address\"\r\n        return wasmOffsetConverter.convert(+match[1], +match[2]);\r\n      } else if (match = /:(\\d+):\\d+(?:\\)|$)/.exec(frame)) {\r\n        // If we are in js, we can use the js line number as the \"return address\".\r\n        // This should work for wasm2js.  We tag the high bit to distinguish this\r\n        // from wasm addresses.\r\n        return 0x80000000 | +match[1];\r\n      }\r\n      // return 0 if we can't find any\r\n      return 0;\r\n    }\r\n  function convertPCtoSourceLocation(pc) {\r\n      if (UNWIND_CACHE.last_get_source_pc == pc) return UNWIND_CACHE.last_source;\r\n  \r\n      var match;\r\n      var source;\r\n  \r\n      if (!source) {\r\n        var frame = UNWIND_CACHE[pc];\r\n        if (!frame) return null;\r\n        // Example: at callMain (a.out.js:6335:22)\r\n        if (match = /\\((.*):(\\d+):(\\d+)\\)$/.exec(frame)) {\r\n          source = {file: match[1], line: match[2], column: match[3]};\r\n        // Example: main@a.out.js:1337:42\r\n        } else if (match = /@(.*):(\\d+):(\\d+)/.exec(frame)) {\r\n          source = {file: match[1], line: match[2], column: match[3]};\r\n        }\r\n      }\r\n      UNWIND_CACHE.last_get_source_pc = pc;\r\n      UNWIND_CACHE.last_source = source;\r\n      return source;\r\n    }\r\n  function _emscripten_pc_get_column(pc) {\r\n      var result = convertPCtoSourceLocation(pc);\r\n      return result ? result.column || 0 : 0;\r\n    }\r\n\r\n  /** @suppress{checkTypes} */\r\n  function withBuiltinMalloc(func) {\r\n      var prev_malloc = typeof _malloc != 'undefined' ? _malloc : undefined;\r\n      var prev_memalign = typeof _memalign != 'undefined' ? _memalign : undefined;\r\n      var prev_free = typeof _free != 'undefined' ? _free : undefined;\r\n      _malloc = _emscripten_builtin_malloc;\r\n      _memalign = _emscripten_builtin_memalign;\r\n      _free = _emscripten_builtin_free;\r\n      try {\r\n        return func();\r\n      } finally {\r\n        _malloc = prev_malloc;\r\n        _memalign = prev_memalign;\r\n        _free = prev_free;\r\n      }\r\n    }\r\n  \r\n  function _emscripten_pc_get_file(pc) {\r\n    return withBuiltinMalloc(function() {\r\n      \r\n      var result = convertPCtoSourceLocation(pc);\r\n      if (!result) return 0;\r\n  \r\n      if (_emscripten_pc_get_file.ret) _free(_emscripten_pc_get_file.ret);\r\n      _emscripten_pc_get_file.ret = allocateUTF8(result.file);\r\n      return _emscripten_pc_get_file.ret;\r\n    \r\n    });\r\n  }\r\n  \r\n\r\n  \r\n  function _emscripten_pc_get_function(pc) {\r\n    return withBuiltinMalloc(function() {\r\n      \r\n      var name;\r\n      if (pc & 0x80000000) {\r\n        // If this is a JavaScript function, try looking it up in the unwind cache.\r\n        var frame = UNWIND_CACHE[pc];\r\n        if (!frame) return 0;\r\n  \r\n        var match;\r\n        if (match = /^\\s+at (.*) \\(.*\\)$/.exec(frame)) {\r\n          name = match[1];\r\n        } else if (match = /^(.+?)@/.exec(frame)) {\r\n          name = match[1];\r\n        } else {\r\n          return 0;\r\n        }\r\n      } else {\r\n        name = wasmOffsetConverter.getName(pc);\r\n      }\r\n      if (_emscripten_pc_get_function.ret) _free(_emscripten_pc_get_function.ret);\r\n      _emscripten_pc_get_function.ret = allocateUTF8(name);\r\n      return _emscripten_pc_get_function.ret;\r\n    \r\n    });\r\n  }\r\n  \r\n\r\n  function _emscripten_pc_get_line(pc) {\r\n      var result = convertPCtoSourceLocation(pc);\r\n      return result ? result.line : 0;\r\n    }\r\n\r\n  function abortOnCannotGrowMemory(requestedSize) {\r\n      abort('Cannot enlarge memory arrays to size ' + requestedSize + ' bytes (OOM). Either (1) compile with  -s INITIAL_MEMORY=X  with X higher than the current value ' + HEAP8.length + ', (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ');\r\n    }\r\n  function _emscripten_resize_heap(requestedSize) {\r\n      var oldSize = HEAPU8.length;\r\n      requestedSize = requestedSize >>> 0;\r\n      abortOnCannotGrowMemory(requestedSize);\r\n    }\r\n\r\n  function _emscripten_return_address(level) {\r\n      var callstack = new Error().stack.split('\\n');\r\n      if (callstack[0] == 'Error') {\r\n        callstack.shift();\r\n      }\r\n      // skip this function and the caller to get caller's return address\r\n      return convertFrameToPC(callstack[level + 2]);\r\n    }\r\n\r\n  function saveInUnwindCache(callstack) {\r\n      callstack.forEach(function (frame) {\r\n        var pc = convertFrameToPC(frame);\r\n        if (pc) {\r\n          UNWIND_CACHE[pc] = frame;\r\n        }\r\n      });\r\n    }\r\n  function _emscripten_stack_unwind_buffer(addr, buffer, count) {\r\n      var stack;\r\n      if (UNWIND_CACHE.last_addr == addr) {\r\n        stack = UNWIND_CACHE.last_stack;\r\n      } else {\r\n        stack = new Error().stack.split('\\n');\r\n        if (stack[0] == 'Error') {\r\n          stack.shift();\r\n        }\r\n        saveInUnwindCache(stack);\r\n      }\r\n  \r\n      var offset = 2;\r\n      while (stack[offset] && convertFrameToPC(stack[offset]) != addr) {\r\n        ++offset;\r\n      }\r\n  \r\n      for (var i = 0; i < count && stack[i+offset]; ++i) {\r\n        HEAP32[(((buffer)+(i*4))>>2)] = convertFrameToPC(stack[i + offset]);\r\n      }\r\n      return i;\r\n    }\r\n\r\n  var ENV = {};\r\n  \r\n  function getExecutableName() {\r\n      return thisProgram || './this.program';\r\n    }\r\n  function getEnvStrings() {\r\n      if (!getEnvStrings.strings) {\r\n        // Default values.\r\n        // Browser language detection #8751\r\n        var lang = ((typeof navigator == 'object' && navigator.languages && navigator.languages[0]) || 'C').replace('-', '_') + '.UTF-8';\r\n        var env = {\r\n          'USER': 'web_user',\r\n          'LOGNAME': 'web_user',\r\n          'PATH': '/',\r\n          'PWD': '/',\r\n          'HOME': '/home/web_user',\r\n          'LANG': lang,\r\n          '_': getExecutableName()\r\n        };\r\n        // Apply the user-provided values, if any.\r\n        for (var x in ENV) {\r\n          // x is a key in ENV; if ENV[x] is undefined, that means it was\r\n          // explicitly set to be so. We allow user code to do that to\r\n          // force variables with default values to remain unset.\r\n          if (ENV[x] === undefined) delete env[x];\r\n          else env[x] = ENV[x];\r\n        }\r\n        var strings = [];\r\n        for (var x in env) {\r\n          strings.push(x + '=' + env[x]);\r\n        }\r\n        getEnvStrings.strings = strings;\r\n      }\r\n      return getEnvStrings.strings;\r\n    }\r\n  function _environ_get(__environ, environ_buf) {\r\n      var bufSize = 0;\r\n      getEnvStrings().forEach(function(string, i) {\r\n        var ptr = environ_buf + bufSize;\r\n        HEAP32[(((__environ)+(i * 4))>>2)] = ptr;\r\n        writeAsciiToMemory(string, ptr);\r\n        bufSize += string.length + 1;\r\n      });\r\n      return 0;\r\n    }\r\n\r\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\r\n      var strings = getEnvStrings();\r\n      HEAP32[((penviron_count)>>2)] = strings.length;\r\n      var bufSize = 0;\r\n      strings.forEach(function(string) {\r\n        bufSize += string.length + 1;\r\n      });\r\n      HEAP32[((penviron_buf_size)>>2)] = bufSize;\r\n      return 0;\r\n    }\r\n\r\n  function _fd_close(fd) {\r\n  try {\r\n  \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      FS.close(stream);\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  function _fd_read(fd, iov, iovcnt, pnum) {\r\n  try {\r\n  \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      var num = SYSCALLS.doReadv(stream, iov, iovcnt);\r\n      HEAP32[((pnum)>>2)] = num;\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\r\n  try {\r\n  \r\n      \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      var HIGH_OFFSET = 0x100000000; // 2^32\r\n      // use an unsigned operator on low and shift high by 32-bits\r\n      var offset = offset_high * HIGH_OFFSET + (offset_low >>> 0);\r\n  \r\n      var DOUBLE_LIMIT = 0x20000000000000; // 2^53\r\n      // we also check for equality since DOUBLE_LIMIT + 1 == DOUBLE_LIMIT\r\n      if (offset <= -DOUBLE_LIMIT || offset >= DOUBLE_LIMIT) {\r\n        return -61;\r\n      }\r\n  \r\n      FS.llseek(stream, offset, whence);\r\n      (tempI64 = [stream.position>>>0,(tempDouble=stream.position,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? ((Math.min((+(Math.floor((tempDouble)/4294967296.0))), 4294967295.0))|0)>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)],HEAP32[((newOffset)>>2)] = tempI64[0],HEAP32[(((newOffset)+(4))>>2)] = tempI64[1]);\r\n      if (stream.getdents && offset === 0 && whence === 0) stream.getdents = null; // reset readdir state\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  function _fd_write(fd, iov, iovcnt, pnum) {\r\n  try {\r\n  \r\n      ;\r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      var num = SYSCALLS.doWritev(stream, iov, iovcnt);\r\n      HEAP32[((pnum)>>2)] = num;\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  function _getTempRet0() {\r\n      return getTempRet0();\r\n    }\r\n\r\n  function _llvm_eh_typeid_for(type) {\r\n      return type;\r\n    }\r\n\r\n  function _proc_exit(code) {\r\n      procExit(code);\r\n    }\r\n\r\n  function _setTempRet0(val) {\r\n      setTempRet0(val);\r\n    }\r\n\r\n  function __isLeapYear(year) {\r\n        return year%4 === 0 && (year%100 !== 0 || year%400 === 0);\r\n    }\r\n  \r\n  function __arraySum(array, index) {\r\n      var sum = 0;\r\n      for (var i = 0; i <= index; sum += array[i++]) {\r\n        // no-op\r\n      }\r\n      return sum;\r\n    }\r\n  \r\n  var __MONTH_DAYS_LEAP = [31,29,31,30,31,30,31,31,30,31,30,31];\r\n  \r\n  var __MONTH_DAYS_REGULAR = [31,28,31,30,31,30,31,31,30,31,30,31];\r\n  function __addDays(date, days) {\r\n      var newDate = new Date(date.getTime());\r\n      while (days > 0) {\r\n        var leap = __isLeapYear(newDate.getFullYear());\r\n        var currentMonth = newDate.getMonth();\r\n        var daysInCurrentMonth = (leap ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR)[currentMonth];\r\n  \r\n        if (days > daysInCurrentMonth-newDate.getDate()) {\r\n          // we spill over to next month\r\n          days -= (daysInCurrentMonth-newDate.getDate()+1);\r\n          newDate.setDate(1);\r\n          if (currentMonth < 11) {\r\n            newDate.setMonth(currentMonth+1)\r\n          } else {\r\n            newDate.setMonth(0);\r\n            newDate.setFullYear(newDate.getFullYear()+1);\r\n          }\r\n        } else {\r\n          // we stay in current month\r\n          newDate.setDate(newDate.getDate()+days);\r\n          return newDate;\r\n        }\r\n      }\r\n  \r\n      return newDate;\r\n    }\r\n  function _strftime(s, maxsize, format, tm) {\r\n      // size_t strftime(char *restrict s, size_t maxsize, const char *restrict format, const struct tm *restrict timeptr);\r\n      // http://pubs.opengroup.org/onlinepubs/009695399/functions/strftime.html\r\n  \r\n      var tm_zone = HEAP32[(((tm)+(40))>>2)];\r\n  \r\n      var date = {\r\n        tm_sec: HEAP32[((tm)>>2)],\r\n        tm_min: HEAP32[(((tm)+(4))>>2)],\r\n        tm_hour: HEAP32[(((tm)+(8))>>2)],\r\n        tm_mday: HEAP32[(((tm)+(12))>>2)],\r\n        tm_mon: HEAP32[(((tm)+(16))>>2)],\r\n        tm_year: HEAP32[(((tm)+(20))>>2)],\r\n        tm_wday: HEAP32[(((tm)+(24))>>2)],\r\n        tm_yday: HEAP32[(((tm)+(28))>>2)],\r\n        tm_isdst: HEAP32[(((tm)+(32))>>2)],\r\n        tm_gmtoff: HEAP32[(((tm)+(36))>>2)],\r\n        tm_zone: tm_zone ? UTF8ToString(tm_zone) : ''\r\n      };\r\n  \r\n      var pattern = UTF8ToString(format);\r\n  \r\n      // expand format\r\n      var EXPANSION_RULES_1 = {\r\n        '%c': '%a %b %d %H:%M:%S %Y',     // Replaced by the locale's appropriate date and time representation - e.g., Mon Aug  3 14:02:01 2013\r\n        '%D': '%m/%d/%y',                 // Equivalent to %m / %d / %y\r\n        '%F': '%Y-%m-%d',                 // Equivalent to %Y - %m - %d\r\n        '%h': '%b',                       // Equivalent to %b\r\n        '%r': '%I:%M:%S %p',              // Replaced by the time in a.m. and p.m. notation\r\n        '%R': '%H:%M',                    // Replaced by the time in 24-hour notation\r\n        '%T': '%H:%M:%S',                 // Replaced by the time\r\n        '%x': '%m/%d/%y',                 // Replaced by the locale's appropriate date representation\r\n        '%X': '%H:%M:%S',                 // Replaced by the locale's appropriate time representation\r\n        // Modified Conversion Specifiers\r\n        '%Ec': '%c',                      // Replaced by the locale's alternative appropriate date and time representation.\r\n        '%EC': '%C',                      // Replaced by the name of the base year (period) in the locale's alternative representation.\r\n        '%Ex': '%m/%d/%y',                // Replaced by the locale's alternative date representation.\r\n        '%EX': '%H:%M:%S',                // Replaced by the locale's alternative time representation.\r\n        '%Ey': '%y',                      // Replaced by the offset from %EC (year only) in the locale's alternative representation.\r\n        '%EY': '%Y',                      // Replaced by the full alternative year representation.\r\n        '%Od': '%d',                      // Replaced by the day of the month, using the locale's alternative numeric symbols, filled as needed with leading zeros if there is any alternative symbol for zero; otherwise, with leading <space> characters.\r\n        '%Oe': '%e',                      // Replaced by the day of the month, using the locale's alternative numeric symbols, filled as needed with leading <space> characters.\r\n        '%OH': '%H',                      // Replaced by the hour (24-hour clock) using the locale's alternative numeric symbols.\r\n        '%OI': '%I',                      // Replaced by the hour (12-hour clock) using the locale's alternative numeric symbols.\r\n        '%Om': '%m',                      // Replaced by the month using the locale's alternative numeric symbols.\r\n        '%OM': '%M',                      // Replaced by the minutes using the locale's alternative numeric symbols.\r\n        '%OS': '%S',                      // Replaced by the seconds using the locale's alternative numeric symbols.\r\n        '%Ou': '%u',                      // Replaced by the weekday as a number in the locale's alternative representation (Monday=1).\r\n        '%OU': '%U',                      // Replaced by the week number of the year (Sunday as the first day of the week, rules corresponding to %U ) using the locale's alternative numeric symbols.\r\n        '%OV': '%V',                      // Replaced by the week number of the year (Monday as the first day of the week, rules corresponding to %V ) using the locale's alternative numeric symbols.\r\n        '%Ow': '%w',                      // Replaced by the number of the weekday (Sunday=0) using the locale's alternative numeric symbols.\r\n        '%OW': '%W',                      // Replaced by the week number of the year (Monday as the first day of the week) using the locale's alternative numeric symbols.\r\n        '%Oy': '%y',                      // Replaced by the year (offset from %C ) using the locale's alternative numeric symbols.\r\n      };\r\n      for (var rule in EXPANSION_RULES_1) {\r\n        pattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_1[rule]);\r\n      }\r\n  \r\n      var WEEKDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n      var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n  \r\n      function leadingSomething(value, digits, character) {\r\n        var str = typeof value == 'number' ? value.toString() : (value || '');\r\n        while (str.length < digits) {\r\n          str = character[0]+str;\r\n        }\r\n        return str;\r\n      }\r\n  \r\n      function leadingNulls(value, digits) {\r\n        return leadingSomething(value, digits, '0');\r\n      }\r\n  \r\n      function compareByDay(date1, date2) {\r\n        function sgn(value) {\r\n          return value < 0 ? -1 : (value > 0 ? 1 : 0);\r\n        }\r\n  \r\n        var compare;\r\n        if ((compare = sgn(date1.getFullYear()-date2.getFullYear())) === 0) {\r\n          if ((compare = sgn(date1.getMonth()-date2.getMonth())) === 0) {\r\n            compare = sgn(date1.getDate()-date2.getDate());\r\n          }\r\n        }\r\n        return compare;\r\n      }\r\n  \r\n      function getFirstWeekStartDate(janFourth) {\r\n          switch (janFourth.getDay()) {\r\n            case 0: // Sunday\r\n              return new Date(janFourth.getFullYear()-1, 11, 29);\r\n            case 1: // Monday\r\n              return janFourth;\r\n            case 2: // Tuesday\r\n              return new Date(janFourth.getFullYear(), 0, 3);\r\n            case 3: // Wednesday\r\n              return new Date(janFourth.getFullYear(), 0, 2);\r\n            case 4: // Thursday\r\n              return new Date(janFourth.getFullYear(), 0, 1);\r\n            case 5: // Friday\r\n              return new Date(janFourth.getFullYear()-1, 11, 31);\r\n            case 6: // Saturday\r\n              return new Date(janFourth.getFullYear()-1, 11, 30);\r\n          }\r\n      }\r\n  \r\n      function getWeekBasedYear(date) {\r\n          var thisDate = __addDays(new Date(date.tm_year+1900, 0, 1), date.tm_yday);\r\n  \r\n          var janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);\r\n          var janFourthNextYear = new Date(thisDate.getFullYear()+1, 0, 4);\r\n  \r\n          var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);\r\n          var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);\r\n  \r\n          if (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {\r\n            // this date is after the start of the first week of this year\r\n            if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {\r\n              return thisDate.getFullYear()+1;\r\n            } else {\r\n              return thisDate.getFullYear();\r\n            }\r\n          } else {\r\n            return thisDate.getFullYear()-1;\r\n          }\r\n      }\r\n  \r\n      var EXPANSION_RULES_2 = {\r\n        '%a': function(date) {\r\n          return WEEKDAYS[date.tm_wday].substring(0,3);\r\n        },\r\n        '%A': function(date) {\r\n          return WEEKDAYS[date.tm_wday];\r\n        },\r\n        '%b': function(date) {\r\n          return MONTHS[date.tm_mon].substring(0,3);\r\n        },\r\n        '%B': function(date) {\r\n          return MONTHS[date.tm_mon];\r\n        },\r\n        '%C': function(date) {\r\n          var year = date.tm_year+1900;\r\n          return leadingNulls((year/100)|0,2);\r\n        },\r\n        '%d': function(date) {\r\n          return leadingNulls(date.tm_mday, 2);\r\n        },\r\n        '%e': function(date) {\r\n          return leadingSomething(date.tm_mday, 2, ' ');\r\n        },\r\n        '%g': function(date) {\r\n          // %g, %G, and %V give values according to the ISO 8601:2000 standard week-based year.\r\n          // In this system, weeks begin on a Monday and week 1 of the year is the week that includes\r\n          // January 4th, which is also the week that includes the first Thursday of the year, and\r\n          // is also the first week that contains at least four days in the year.\r\n          // If the first Monday of January is the 2nd, 3rd, or 4th, the preceding days are part of\r\n          // the last week of the preceding year; thus, for Saturday 2nd January 1999,\r\n          // %G is replaced by 1998 and %V is replaced by 53. If December 29th, 30th,\r\n          // or 31st is a Monday, it and any following days are part of week 1 of the following year.\r\n          // Thus, for Tuesday 30th December 1997, %G is replaced by 1998 and %V is replaced by 01.\r\n  \r\n          return getWeekBasedYear(date).toString().substring(2);\r\n        },\r\n        '%G': function(date) {\r\n          return getWeekBasedYear(date);\r\n        },\r\n        '%H': function(date) {\r\n          return leadingNulls(date.tm_hour, 2);\r\n        },\r\n        '%I': function(date) {\r\n          var twelveHour = date.tm_hour;\r\n          if (twelveHour == 0) twelveHour = 12;\r\n          else if (twelveHour > 12) twelveHour -= 12;\r\n          return leadingNulls(twelveHour, 2);\r\n        },\r\n        '%j': function(date) {\r\n          // Day of the year (001-366)\r\n          return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, date.tm_mon-1), 3);\r\n        },\r\n        '%m': function(date) {\r\n          return leadingNulls(date.tm_mon+1, 2);\r\n        },\r\n        '%M': function(date) {\r\n          return leadingNulls(date.tm_min, 2);\r\n        },\r\n        '%n': function() {\r\n          return '\\n';\r\n        },\r\n        '%p': function(date) {\r\n          if (date.tm_hour >= 0 && date.tm_hour < 12) {\r\n            return 'AM';\r\n          } else {\r\n            return 'PM';\r\n          }\r\n        },\r\n        '%S': function(date) {\r\n          return leadingNulls(date.tm_sec, 2);\r\n        },\r\n        '%t': function() {\r\n          return '\\t';\r\n        },\r\n        '%u': function(date) {\r\n          return date.tm_wday || 7;\r\n        },\r\n        '%U': function(date) {\r\n          var days = date.tm_yday + 7 - date.tm_wday;\r\n          return leadingNulls(Math.floor(days / 7), 2);\r\n        },\r\n        '%V': function(date) {\r\n          // Replaced by the week number of the year (Monday as the first day of the week)\r\n          // as a decimal number [01,53]. If the week containing 1 January has four\r\n          // or more days in the new year, then it is considered week 1.\r\n          // Otherwise, it is the last week of the previous year, and the next week is week 1.\r\n          // Both January 4th and the first Thursday of January are always in week 1. [ tm_year, tm_wday, tm_yday]\r\n          var val = Math.floor((date.tm_yday + 7 - (date.tm_wday + 6) % 7 ) / 7);\r\n          // If 1 Jan is just 1-3 days past Monday, the previous week\r\n          // is also in this year.\r\n          if ((date.tm_wday + 371 - date.tm_yday - 2) % 7 <= 2) {\r\n            val++;\r\n          }\r\n          if (!val) {\r\n            val = 52;\r\n            // If 31 December of prev year a Thursday, or Friday of a\r\n            // leap year, then the prev year has 53 weeks.\r\n            var dec31 = (date.tm_wday + 7 - date.tm_yday - 1) % 7;\r\n            if (dec31 == 4 || (dec31 == 5 && __isLeapYear(date.tm_year%400-1))) {\r\n              val++;\r\n            }\r\n          } else if (val == 53) {\r\n            // If 1 January is not a Thursday, and not a Wednesday of a\r\n            // leap year, then this year has only 52 weeks.\r\n            var jan1 = (date.tm_wday + 371 - date.tm_yday) % 7;\r\n            if (jan1 != 4 && (jan1 != 3 || !__isLeapYear(date.tm_year)))\r\n              val = 1;\r\n          }\r\n          return leadingNulls(val, 2);\r\n        },\r\n        '%w': function(date) {\r\n          return date.tm_wday;\r\n        },\r\n        '%W': function(date) {\r\n          var days = date.tm_yday + 7 - ((date.tm_wday + 6) % 7);\r\n          return leadingNulls(Math.floor(days / 7), 2);\r\n        },\r\n        '%y': function(date) {\r\n          // Replaced by the last two digits of the year as a decimal number [00,99]. [ tm_year]\r\n          return (date.tm_year+1900).toString().substring(2);\r\n        },\r\n        '%Y': function(date) {\r\n          // Replaced by the year as a decimal number (for example, 1997). [ tm_year]\r\n          return date.tm_year+1900;\r\n        },\r\n        '%z': function(date) {\r\n          // Replaced by the offset from UTC in the ISO 8601:2000 standard format ( +hhmm or -hhmm ).\r\n          // For example, \"-0430\" means 4 hours 30 minutes behind UTC (west of Greenwich).\r\n          var off = date.tm_gmtoff;\r\n          var ahead = off >= 0;\r\n          off = Math.abs(off) / 60;\r\n          // convert from minutes into hhmm format (which means 60 minutes = 100 units)\r\n          off = (off / 60)*100 + (off % 60);\r\n          return (ahead ? '+' : '-') + String(\"0000\" + off).slice(-4);\r\n        },\r\n        '%Z': function(date) {\r\n          return date.tm_zone;\r\n        },\r\n        '%%': function() {\r\n          return '%';\r\n        }\r\n      };\r\n  \r\n      // Replace %% with a pair of NULLs (which cannot occur in a C string), then\r\n      // re-inject them after processing.\r\n      pattern = pattern.replace(/%%/g, '\\0\\0')\r\n      for (var rule in EXPANSION_RULES_2) {\r\n        if (pattern.includes(rule)) {\r\n          pattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_2[rule](date));\r\n        }\r\n      }\r\n      pattern = pattern.replace(/\\0\\0/g, '%')\r\n  \r\n      var bytes = intArrayFromString(pattern, false);\r\n      if (bytes.length > maxsize) {\r\n        return 0;\r\n      }\r\n  \r\n      writeArrayToMemory(bytes, s);\r\n      return bytes.length-1;\r\n    }\r\n  function _strftime_l(s, maxsize, format, tm) {\r\n      return _strftime(s, maxsize, format, tm); // no locale support yet\r\n    }\r\n\r\n  var FSNode = /** @constructor */ function(parent, name, mode, rdev) {\r\n    if (!parent) {\r\n      parent = this;  // root node sets parent to itself\r\n    }\r\n    this.parent = parent;\r\n    this.mount = parent.mount;\r\n    this.mounted = null;\r\n    this.id = FS.nextInode++;\r\n    this.name = name;\r\n    this.mode = mode;\r\n    this.node_ops = {};\r\n    this.stream_ops = {};\r\n    this.rdev = rdev;\r\n  };\r\n  var readMode = 292/*292*/ | 73/*73*/;\r\n  var writeMode = 146/*146*/;\r\n  Object.defineProperties(FSNode.prototype, {\r\n   read: {\r\n    get: /** @this{FSNode} */function() {\r\n     return (this.mode & readMode) === readMode;\r\n    },\r\n    set: /** @this{FSNode} */function(val) {\r\n     val ? this.mode |= readMode : this.mode &= ~readMode;\r\n    }\r\n   },\r\n   write: {\r\n    get: /** @this{FSNode} */function() {\r\n     return (this.mode & writeMode) === writeMode;\r\n    },\r\n    set: /** @this{FSNode} */function(val) {\r\n     val ? this.mode |= writeMode : this.mode &= ~writeMode;\r\n    }\r\n   },\r\n   isFolder: {\r\n    get: /** @this{FSNode} */function() {\r\n     return FS.isDir(this.mode);\r\n    }\r\n   },\r\n   isDevice: {\r\n    get: /** @this{FSNode} */function() {\r\n     return FS.isChrdev(this.mode);\r\n    }\r\n   }\r\n  });\r\n  FS.FSNode = FSNode;\r\n  FS.staticInit();;\r\nERRNO_CODES = {\r\n      'EPERM': 63,\r\n      'ENOENT': 44,\r\n      'ESRCH': 71,\r\n      'EINTR': 27,\r\n      'EIO': 29,\r\n      'ENXIO': 60,\r\n      'E2BIG': 1,\r\n      'ENOEXEC': 45,\r\n      'EBADF': 8,\r\n      'ECHILD': 12,\r\n      'EAGAIN': 6,\r\n      'EWOULDBLOCK': 6,\r\n      'ENOMEM': 48,\r\n      'EACCES': 2,\r\n      'EFAULT': 21,\r\n      'ENOTBLK': 105,\r\n      'EBUSY': 10,\r\n      'EEXIST': 20,\r\n      'EXDEV': 75,\r\n      'ENODEV': 43,\r\n      'ENOTDIR': 54,\r\n      'EISDIR': 31,\r\n      'EINVAL': 28,\r\n      'ENFILE': 41,\r\n      'EMFILE': 33,\r\n      'ENOTTY': 59,\r\n      'ETXTBSY': 74,\r\n      'EFBIG': 22,\r\n      'ENOSPC': 51,\r\n      'ESPIPE': 70,\r\n      'EROFS': 69,\r\n      'EMLINK': 34,\r\n      'EPIPE': 64,\r\n      'EDOM': 18,\r\n      'ERANGE': 68,\r\n      'ENOMSG': 49,\r\n      'EIDRM': 24,\r\n      'ECHRNG': 106,\r\n      'EL2NSYNC': 156,\r\n      'EL3HLT': 107,\r\n      'EL3RST': 108,\r\n      'ELNRNG': 109,\r\n      'EUNATCH': 110,\r\n      'ENOCSI': 111,\r\n      'EL2HLT': 112,\r\n      'EDEADLK': 16,\r\n      'ENOLCK': 46,\r\n      'EBADE': 113,\r\n      'EBADR': 114,\r\n      'EXFULL': 115,\r\n      'ENOANO': 104,\r\n      'EBADRQC': 103,\r\n      'EBADSLT': 102,\r\n      'EDEADLOCK': 16,\r\n      'EBFONT': 101,\r\n      'ENOSTR': 100,\r\n      'ENODATA': 116,\r\n      'ETIME': 117,\r\n      'ENOSR': 118,\r\n      'ENONET': 119,\r\n      'ENOPKG': 120,\r\n      'EREMOTE': 121,\r\n      'ENOLINK': 47,\r\n      'EADV': 122,\r\n      'ESRMNT': 123,\r\n      'ECOMM': 124,\r\n      'EPROTO': 65,\r\n      'EMULTIHOP': 36,\r\n      'EDOTDOT': 125,\r\n      'EBADMSG': 9,\r\n      'ENOTUNIQ': 126,\r\n      'EBADFD': 127,\r\n      'EREMCHG': 128,\r\n      'ELIBACC': 129,\r\n      'ELIBBAD': 130,\r\n      'ELIBSCN': 131,\r\n      'ELIBMAX': 132,\r\n      'ELIBEXEC': 133,\r\n      'ENOSYS': 52,\r\n      'ENOTEMPTY': 55,\r\n      'ENAMETOOLONG': 37,\r\n      'ELOOP': 32,\r\n      'EOPNOTSUPP': 138,\r\n      'EPFNOSUPPORT': 139,\r\n      'ECONNRESET': 15,\r\n      'ENOBUFS': 42,\r\n      'EAFNOSUPPORT': 5,\r\n      'EPROTOTYPE': 67,\r\n      'ENOTSOCK': 57,\r\n      'ENOPROTOOPT': 50,\r\n      'ESHUTDOWN': 140,\r\n      'ECONNREFUSED': 14,\r\n      'EADDRINUSE': 3,\r\n      'ECONNABORTED': 13,\r\n      'ENETUNREACH': 40,\r\n      'ENETDOWN': 38,\r\n      'ETIMEDOUT': 73,\r\n      'EHOSTDOWN': 142,\r\n      'EHOSTUNREACH': 23,\r\n      'EINPROGRESS': 26,\r\n      'EALREADY': 7,\r\n      'EDESTADDRREQ': 17,\r\n      'EMSGSIZE': 35,\r\n      'EPROTONOSUPPORT': 66,\r\n      'ESOCKTNOSUPPORT': 137,\r\n      'EADDRNOTAVAIL': 4,\r\n      'ENETRESET': 39,\r\n      'EISCONN': 30,\r\n      'ENOTCONN': 53,\r\n      'ETOOMANYREFS': 141,\r\n      'EUSERS': 136,\r\n      'EDQUOT': 19,\r\n      'ESTALE': 72,\r\n      'ENOTSUP': 138,\r\n      'ENOMEDIUM': 148,\r\n      'EILSEQ': 25,\r\n      'EOVERFLOW': 61,\r\n      'ECANCELED': 11,\r\n      'ENOTRECOVERABLE': 56,\r\n      'EOWNERDEAD': 62,\r\n      'ESTRPIPE': 135,\r\n    };;\r\nembind_init_charCodes();\r\nBindingError = Module['BindingError'] = extendError(Error, 'BindingError');;\r\nInternalError = Module['InternalError'] = extendError(Error, 'InternalError');;\r\ninit_ClassHandle();\r\ninit_embind();;\r\ninit_RegisteredPointer();\r\nUnboundTypeError = Module['UnboundTypeError'] = extendError(Error, 'UnboundTypeError');;\r\ninit_emval();;\r\nvar ASSERTIONS = true;\r\n\r\n\r\n\r\n/** @type {function(string, boolean=, number=)} */\r\nfunction intArrayFromString(stringy, dontAddNull, length) {\r\n  var len = length > 0 ? length : lengthBytesUTF8(stringy)+1;\r\n  var u8array = new Array(len);\r\n  var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\r\n  if (dontAddNull) u8array.length = numBytesWritten;\r\n  return u8array;\r\n}\r\n\r\nfunction intArrayToString(array) {\r\n  var ret = [];\r\n  for (var i = 0; i < array.length; i++) {\r\n    var chr = array[i];\r\n    if (chr > 0xFF) {\r\n      if (ASSERTIONS) {\r\n        assert(false, 'Character code ' + chr + ' (' + String.fromCharCode(chr) + ')  at offset ' + i + ' not in 0x00-0xFF.');\r\n      }\r\n      chr &= 0xFF;\r\n    }\r\n    ret.push(String.fromCharCode(chr));\r\n  }\r\n  return ret.join('');\r\n}\r\n\r\n\r\nfunction checkIncomingModuleAPI() {\r\n  ignoredModuleProp('fetchSettings');\r\n}\r\nvar asmLibraryArg = {\r\n  \"__assert_fail\": ___assert_fail,\r\n  \"__cxa_allocate_exception\": ___cxa_allocate_exception,\r\n  \"__cxa_begin_catch\": ___cxa_begin_catch,\r\n  \"__cxa_end_catch\": ___cxa_end_catch,\r\n  \"__cxa_find_matching_catch_2\": ___cxa_find_matching_catch_2,\r\n  \"__cxa_find_matching_catch_3\": ___cxa_find_matching_catch_3,\r\n  \"__cxa_find_matching_catch_4\": ___cxa_find_matching_catch_4,\r\n  \"__cxa_free_exception\": ___cxa_free_exception,\r\n  \"__cxa_get_exception_ptr\": ___cxa_get_exception_ptr,\r\n  \"__cxa_rethrow\": ___cxa_rethrow,\r\n  \"__cxa_throw\": ___cxa_throw,\r\n  \"__cxa_uncaught_exceptions\": ___cxa_uncaught_exceptions,\r\n  \"__resumeException\": ___resumeException,\r\n  \"__syscall_dup\": ___syscall_dup,\r\n  \"__syscall_newfstatat\": ___syscall_newfstatat,\r\n  \"__syscall_openat\": ___syscall_openat,\r\n  \"_embind_register_bigint\": __embind_register_bigint,\r\n  \"_embind_register_bool\": __embind_register_bool,\r\n  \"_embind_register_class\": __embind_register_class,\r\n  \"_embind_register_class_constructor\": __embind_register_class_constructor,\r\n  \"_embind_register_class_function\": __embind_register_class_function,\r\n  \"_embind_register_emval\": __embind_register_emval,\r\n  \"_embind_register_enum\": __embind_register_enum,\r\n  \"_embind_register_enum_value\": __embind_register_enum_value,\r\n  \"_embind_register_float\": __embind_register_float,\r\n  \"_embind_register_integer\": __embind_register_integer,\r\n  \"_embind_register_memory_view\": __embind_register_memory_view,\r\n  \"_embind_register_std_string\": __embind_register_std_string,\r\n  \"_embind_register_std_wstring\": __embind_register_std_wstring,\r\n  \"_embind_register_void\": __embind_register_void,\r\n  \"_emscripten_date_now\": __emscripten_date_now,\r\n  \"_emscripten_get_now_is_monotonic\": __emscripten_get_now_is_monotonic,\r\n  \"_emval_decref\": __emval_decref,\r\n  \"_emval_incref\": __emval_incref,\r\n  \"_emval_take_value\": __emval_take_value,\r\n  \"_mmap_js\": __mmap_js,\r\n  \"_munmap_js\": __munmap_js,\r\n  \"abort\": _abort,\r\n  \"emscripten_asm_const_int\": _emscripten_asm_const_int,\r\n  \"emscripten_get_heap_max\": _emscripten_get_heap_max,\r\n  \"emscripten_get_module_name\": _emscripten_get_module_name,\r\n  \"emscripten_get_now\": _emscripten_get_now,\r\n  \"emscripten_memcpy_big\": _emscripten_memcpy_big,\r\n  \"emscripten_pc_get_column\": _emscripten_pc_get_column,\r\n  \"emscripten_pc_get_file\": _emscripten_pc_get_file,\r\n  \"emscripten_pc_get_function\": _emscripten_pc_get_function,\r\n  \"emscripten_pc_get_line\": _emscripten_pc_get_line,\r\n  \"emscripten_resize_heap\": _emscripten_resize_heap,\r\n  \"emscripten_return_address\": _emscripten_return_address,\r\n  \"emscripten_stack_unwind_buffer\": _emscripten_stack_unwind_buffer,\r\n  \"environ_get\": _environ_get,\r\n  \"environ_sizes_get\": _environ_sizes_get,\r\n  \"fd_close\": _fd_close,\r\n  \"fd_read\": _fd_read,\r\n  \"fd_seek\": _fd_seek,\r\n  \"fd_write\": _fd_write,\r\n  \"getTempRet0\": _getTempRet0,\r\n  \"invoke_did\": invoke_did,\r\n  \"invoke_dii\": invoke_dii,\r\n  \"invoke_diii\": invoke_diii,\r\n  \"invoke_fiii\": invoke_fiii,\r\n  \"invoke_i\": invoke_i,\r\n  \"invoke_ii\": invoke_ii,\r\n  \"invoke_iidd\": invoke_iidd,\r\n  \"invoke_iidddiiiiiii\": invoke_iidddiiiiiii,\r\n  \"invoke_iiddi\": invoke_iiddi,\r\n  \"invoke_iii\": invoke_iii,\r\n  \"invoke_iiidd\": invoke_iiidd,\r\n  \"invoke_iiii\": invoke_iiii,\r\n  \"invoke_iiiii\": invoke_iiiii,\r\n  \"invoke_iiiiid\": invoke_iiiiid,\r\n  \"invoke_iiiiii\": invoke_iiiiii,\r\n  \"invoke_iiiiiii\": invoke_iiiiiii,\r\n  \"invoke_iiiiiiii\": invoke_iiiiiiii,\r\n  \"invoke_iiiiiiiiiii\": invoke_iiiiiiiiiii,\r\n  \"invoke_iiiiiiiiiiii\": invoke_iiiiiiiiiiii,\r\n  \"invoke_iiiiiiiiiiiii\": invoke_iiiiiiiiiiiii,\r\n  \"invoke_jiiii\": invoke_jiiii,\r\n  \"invoke_v\": invoke_v,\r\n  \"invoke_vi\": invoke_vi,\r\n  \"invoke_vid\": invoke_vid,\r\n  \"invoke_vidd\": invoke_vidd,\r\n  \"invoke_vii\": invoke_vii,\r\n  \"invoke_viid\": invoke_viid,\r\n  \"invoke_viii\": invoke_viii,\r\n  \"invoke_viiidd\": invoke_viiidd,\r\n  \"invoke_viiii\": invoke_viiii,\r\n  \"invoke_viiiid\": invoke_viiiid,\r\n  \"invoke_viiiii\": invoke_viiiii,\r\n  \"invoke_viiiiii\": invoke_viiiiii,\r\n  \"invoke_viiiiiii\": invoke_viiiiiii,\r\n  \"invoke_viiiiiiiiii\": invoke_viiiiiiiiii,\r\n  \"invoke_viiiiiiiiiiiiiii\": invoke_viiiiiiiiiiiiiii,\r\n  \"llvm_eh_typeid_for\": _llvm_eh_typeid_for,\r\n  \"proc_exit\": _proc_exit,\r\n  \"setTempRet0\": _setTempRet0,\r\n  \"strftime_l\": _strftime_l\r\n};\r\nvar asm = createWasm();\r\n/** @type {function(...*):?} */\r\nvar ___wasm_call_ctors = Module[\"___wasm_call_ctors\"] = createExportWrapper(\"__wasm_call_ctors\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _malloc = Module[\"_malloc\"] = createExportWrapper(\"malloc\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___getTypeName = Module[\"___getTypeName\"] = createExportWrapper(\"__getTypeName\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___embind_register_native_and_builtin_types = Module[\"___embind_register_native_and_builtin_types\"] = createExportWrapper(\"__embind_register_native_and_builtin_types\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___errno_location = Module[\"___errno_location\"] = createExportWrapper(\"__errno_location\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___stdio_exit = Module[\"___stdio_exit\"] = createExportWrapper(\"__stdio_exit\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _free = Module[\"_free\"] = createExportWrapper(\"free\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _memalign = Module[\"_memalign\"] = createExportWrapper(\"memalign\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_builtin_malloc = Module[\"_emscripten_builtin_malloc\"] = createExportWrapper(\"emscripten_builtin_malloc\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_builtin_free = Module[\"_emscripten_builtin_free\"] = createExportWrapper(\"emscripten_builtin_free\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_builtin_memalign = Module[\"_emscripten_builtin_memalign\"] = createExportWrapper(\"emscripten_builtin_memalign\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _setThrew = Module[\"_setThrew\"] = createExportWrapper(\"setThrew\");\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_stack_init = Module[\"_emscripten_stack_init\"] = function() {\r\n  return (_emscripten_stack_init = Module[\"_emscripten_stack_init\"] = Module[\"asm\"][\"emscripten_stack_init\"]).apply(null, arguments);\r\n};\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_stack_get_free = Module[\"_emscripten_stack_get_free\"] = function() {\r\n  return (_emscripten_stack_get_free = Module[\"_emscripten_stack_get_free\"] = Module[\"asm\"][\"emscripten_stack_get_free\"]).apply(null, arguments);\r\n};\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_stack_get_base = Module[\"_emscripten_stack_get_base\"] = function() {\r\n  return (_emscripten_stack_get_base = Module[\"_emscripten_stack_get_base\"] = Module[\"asm\"][\"emscripten_stack_get_base\"]).apply(null, arguments);\r\n};\r\n\r\n/** @type {function(...*):?} */\r\nvar _emscripten_stack_get_end = Module[\"_emscripten_stack_get_end\"] = function() {\r\n  return (_emscripten_stack_get_end = Module[\"_emscripten_stack_get_end\"] = Module[\"asm\"][\"emscripten_stack_get_end\"]).apply(null, arguments);\r\n};\r\n\r\n/** @type {function(...*):?} */\r\nvar stackSave = Module[\"stackSave\"] = createExportWrapper(\"stackSave\");\r\n\r\n/** @type {function(...*):?} */\r\nvar stackRestore = Module[\"stackRestore\"] = createExportWrapper(\"stackRestore\");\r\n\r\n/** @type {function(...*):?} */\r\nvar stackAlloc = Module[\"stackAlloc\"] = createExportWrapper(\"stackAlloc\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___cxa_can_catch = Module[\"___cxa_can_catch\"] = createExportWrapper(\"__cxa_can_catch\");\r\n\r\n/** @type {function(...*):?} */\r\nvar ___cxa_is_pointer_type = Module[\"___cxa_is_pointer_type\"] = createExportWrapper(\"__cxa_is_pointer_type\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_viijii = Module[\"dynCall_viijii\"] = createExportWrapper(\"dynCall_viijii\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_jiji = Module[\"dynCall_jiji\"] = createExportWrapper(\"dynCall_jiji\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_jiiii = Module[\"dynCall_jiiii\"] = createExportWrapper(\"dynCall_jiiii\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_iiiiij = Module[\"dynCall_iiiiij\"] = createExportWrapper(\"dynCall_iiiiij\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_iiiiijj = Module[\"dynCall_iiiiijj\"] = createExportWrapper(\"dynCall_iiiiijj\");\r\n\r\n/** @type {function(...*):?} */\r\nvar dynCall_iiiiiijj = Module[\"dynCall_iiiiiijj\"] = createExportWrapper(\"dynCall_iiiiiijj\");\r\n\r\n\r\nfunction invoke_iii(index,a1,a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_ii(index,a1) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_vii(index,a1,a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_vi(index,a1) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_v(index) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)();\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiii(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viii(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_vid(index,a1,a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiii(index,a1,a2,a3,a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiiii(index,a1,a2,a3,a4,a5,a6) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiii(index,a1,a2,a3,a4,a5) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiddi(index,a1,a2,a3,a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_vidd(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiidd(index,a1,a2,a3,a4,a5) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iidd(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiii(index,a1,a2,a3,a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiidd(index,a1,a2,a3,a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_dii(index,a1,a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiii(index,a1,a2,a3,a4,a5) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiid(index,a1,a2,a3,a4,a5) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_did(index,a1,a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_i(index) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)();\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iidddiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiid(index,a1,a2,a3,a4,a5) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_fiii(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_diii(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_iiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11) {\r\n  var sp = stackSave();\r\n  try {\r\n    return getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viiiiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_viid(index,a1,a2,a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    getWasmTableEntry(index)(a1,a2,a3);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\nfunction invoke_jiiii(index,a1,a2,a3,a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return dynCall_jiiii(index,a1,a2,a3,a4);\r\n  } catch(e) {\r\n    stackRestore(sp);\r\n    if (e !== e+0) throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n// === Auto-generated postamble setup entry stuff ===\r\n\r\nunexportedRuntimeFunction('intArrayFromString', false);\r\nunexportedRuntimeFunction('intArrayToString', false);\r\nunexportedRuntimeFunction('ccall', false);\r\nunexportedRuntimeFunction('cwrap', false);\r\nunexportedRuntimeFunction('setValue', false);\r\nunexportedRuntimeFunction('getValue', false);\r\nunexportedRuntimeFunction('allocate', false);\r\nunexportedRuntimeFunction('UTF8ArrayToString', false);\r\nModule[\"UTF8ToString\"] = UTF8ToString;\r\nunexportedRuntimeFunction('stringToUTF8Array', false);\r\nunexportedRuntimeFunction('stringToUTF8', false);\r\nunexportedRuntimeFunction('lengthBytesUTF8', false);\r\nunexportedRuntimeFunction('stackTrace', false);\r\nunexportedRuntimeFunction('addOnPreRun', false);\r\nunexportedRuntimeFunction('addOnInit', false);\r\nunexportedRuntimeFunction('addOnPreMain', false);\r\nunexportedRuntimeFunction('addOnExit', false);\r\nunexportedRuntimeFunction('addOnPostRun', false);\r\nunexportedRuntimeFunction('writeStringToMemory', false);\r\nunexportedRuntimeFunction('writeArrayToMemory', false);\r\nunexportedRuntimeFunction('writeAsciiToMemory', false);\r\nunexportedRuntimeFunction('addRunDependency', true);\r\nunexportedRuntimeFunction('removeRunDependency', true);\r\nunexportedRuntimeFunction('FS_createFolder', false);\r\nunexportedRuntimeFunction('FS_createPath', true);\r\nunexportedRuntimeFunction('FS_createDataFile', true);\r\nunexportedRuntimeFunction('FS_createPreloadedFile', true);\r\nunexportedRuntimeFunction('FS_createLazyFile', true);\r\nunexportedRuntimeFunction('FS_createLink', false);\r\nunexportedRuntimeFunction('FS_createDevice', true);\r\nunexportedRuntimeFunction('FS_unlink', true);\r\nunexportedRuntimeFunction('getLEB', false);\r\nunexportedRuntimeFunction('getFunctionTables', false);\r\nunexportedRuntimeFunction('alignFunctionTables', false);\r\nunexportedRuntimeFunction('registerFunctions', false);\r\nModule[\"addFunction\"] = addFunction;\r\nunexportedRuntimeFunction('removeFunction', false);\r\nunexportedRuntimeFunction('getFuncWrapper', false);\r\nunexportedRuntimeFunction('prettyPrint', false);\r\nunexportedRuntimeFunction('dynCall', false);\r\nunexportedRuntimeFunction('getCompilerSetting', false);\r\nunexportedRuntimeFunction('print', false);\r\nunexportedRuntimeFunction('printErr', false);\r\nunexportedRuntimeFunction('getTempRet0', false);\r\nunexportedRuntimeFunction('setTempRet0', false);\r\nunexportedRuntimeFunction('callMain', false);\r\nunexportedRuntimeFunction('abort', false);\r\nunexportedRuntimeFunction('keepRuntimeAlive', false);\r\nunexportedRuntimeFunction('WasmOffsetConverter', false);\r\nunexportedRuntimeFunction('zeroMemory', false);\r\nunexportedRuntimeFunction('stringToNewUTF8', false);\r\nunexportedRuntimeFunction('abortOnCannotGrowMemory', false);\r\nunexportedRuntimeFunction('emscripten_realloc_buffer', false);\r\nunexportedRuntimeFunction('ENV', false);\r\nunexportedRuntimeFunction('ERRNO_CODES', false);\r\nunexportedRuntimeFunction('ERRNO_MESSAGES', false);\r\nunexportedRuntimeFunction('setErrNo', false);\r\nunexportedRuntimeFunction('inetPton4', false);\r\nunexportedRuntimeFunction('inetNtop4', false);\r\nunexportedRuntimeFunction('inetPton6', false);\r\nunexportedRuntimeFunction('inetNtop6', false);\r\nunexportedRuntimeFunction('readSockaddr', false);\r\nunexportedRuntimeFunction('writeSockaddr', false);\r\nunexportedRuntimeFunction('DNS', false);\r\nunexportedRuntimeFunction('getHostByName', false);\r\nunexportedRuntimeFunction('Protocols', false);\r\nunexportedRuntimeFunction('Sockets', false);\r\nunexportedRuntimeFunction('getRandomDevice', false);\r\nunexportedRuntimeFunction('traverseStack', false);\r\nunexportedRuntimeFunction('UNWIND_CACHE', false);\r\nunexportedRuntimeFunction('convertPCtoSourceLocation', false);\r\nunexportedRuntimeFunction('withBuiltinMalloc', false);\r\nunexportedRuntimeFunction('readAsmConstArgsArray', false);\r\nunexportedRuntimeFunction('readAsmConstArgs', false);\r\nunexportedRuntimeFunction('mainThreadEM_ASM', false);\r\nunexportedRuntimeFunction('jstoi_q', false);\r\nunexportedRuntimeFunction('jstoi_s', false);\r\nunexportedRuntimeFunction('getExecutableName', false);\r\nunexportedRuntimeFunction('listenOnce', false);\r\nunexportedRuntimeFunction('autoResumeAudioContext', false);\r\nunexportedRuntimeFunction('dynCallLegacy', false);\r\nunexportedRuntimeFunction('getDynCaller', false);\r\nunexportedRuntimeFunction('dynCall', false);\r\nunexportedRuntimeFunction('handleException', false);\r\nunexportedRuntimeFunction('runtimeKeepalivePush', false);\r\nunexportedRuntimeFunction('runtimeKeepalivePop', false);\r\nunexportedRuntimeFunction('callUserCallback', false);\r\nunexportedRuntimeFunction('maybeExit', false);\r\nunexportedRuntimeFunction('safeSetTimeout', false);\r\nunexportedRuntimeFunction('asmjsMangle', false);\r\nunexportedRuntimeFunction('asyncLoad', false);\r\nunexportedRuntimeFunction('alignMemory', false);\r\nunexportedRuntimeFunction('mmapAlloc', false);\r\nunexportedRuntimeFunction('reallyNegative', false);\r\nunexportedRuntimeFunction('unSign', false);\r\nunexportedRuntimeFunction('reSign', false);\r\nunexportedRuntimeFunction('formatString', false);\r\nunexportedRuntimeFunction('PATH', false);\r\nunexportedRuntimeFunction('PATH_FS', false);\r\nunexportedRuntimeFunction('SYSCALLS', false);\r\nunexportedRuntimeFunction('getSocketFromFD', false);\r\nunexportedRuntimeFunction('getSocketAddress', false);\r\nunexportedRuntimeFunction('JSEvents', false);\r\nunexportedRuntimeFunction('registerKeyEventCallback', false);\r\nunexportedRuntimeFunction('specialHTMLTargets', false);\r\nunexportedRuntimeFunction('maybeCStringToJsString', false);\r\nunexportedRuntimeFunction('findEventTarget', false);\r\nunexportedRuntimeFunction('findCanvasEventTarget', false);\r\nunexportedRuntimeFunction('getBoundingClientRect', false);\r\nunexportedRuntimeFunction('fillMouseEventData', false);\r\nunexportedRuntimeFunction('registerMouseEventCallback', false);\r\nunexportedRuntimeFunction('registerWheelEventCallback', false);\r\nunexportedRuntimeFunction('registerUiEventCallback', false);\r\nunexportedRuntimeFunction('registerFocusEventCallback', false);\r\nunexportedRuntimeFunction('fillDeviceOrientationEventData', false);\r\nunexportedRuntimeFunction('registerDeviceOrientationEventCallback', false);\r\nunexportedRuntimeFunction('fillDeviceMotionEventData', false);\r\nunexportedRuntimeFunction('registerDeviceMotionEventCallback', false);\r\nunexportedRuntimeFunction('screenOrientation', false);\r\nunexportedRuntimeFunction('fillOrientationChangeEventData', false);\r\nunexportedRuntimeFunction('registerOrientationChangeEventCallback', false);\r\nunexportedRuntimeFunction('fillFullscreenChangeEventData', false);\r\nunexportedRuntimeFunction('registerFullscreenChangeEventCallback', false);\r\nunexportedRuntimeFunction('registerRestoreOldStyle', false);\r\nunexportedRuntimeFunction('hideEverythingExceptGivenElement', false);\r\nunexportedRuntimeFunction('restoreHiddenElements', false);\r\nunexportedRuntimeFunction('setLetterbox', false);\r\nunexportedRuntimeFunction('currentFullscreenStrategy', false);\r\nunexportedRuntimeFunction('restoreOldWindowedStyle', false);\r\nunexportedRuntimeFunction('softFullscreenResizeWebGLRenderTarget', false);\r\nunexportedRuntimeFunction('doRequestFullscreen', false);\r\nunexportedRuntimeFunction('fillPointerlockChangeEventData', false);\r\nunexportedRuntimeFunction('registerPointerlockChangeEventCallback', false);\r\nunexportedRuntimeFunction('registerPointerlockErrorEventCallback', false);\r\nunexportedRuntimeFunction('requestPointerLock', false);\r\nunexportedRuntimeFunction('fillVisibilityChangeEventData', false);\r\nunexportedRuntimeFunction('registerVisibilityChangeEventCallback', false);\r\nunexportedRuntimeFunction('registerTouchEventCallback', false);\r\nunexportedRuntimeFunction('fillGamepadEventData', false);\r\nunexportedRuntimeFunction('registerGamepadEventCallback', false);\r\nunexportedRuntimeFunction('registerBeforeUnloadEventCallback', false);\r\nunexportedRuntimeFunction('fillBatteryEventData', false);\r\nunexportedRuntimeFunction('battery', false);\r\nunexportedRuntimeFunction('registerBatteryEventCallback', false);\r\nunexportedRuntimeFunction('setCanvasElementSize', false);\r\nunexportedRuntimeFunction('getCanvasElementSize', false);\r\nunexportedRuntimeFunction('demangle', false);\r\nunexportedRuntimeFunction('demangleAll', false);\r\nunexportedRuntimeFunction('jsStackTrace', false);\r\nunexportedRuntimeFunction('stackTrace', false);\r\nunexportedRuntimeFunction('getEnvStrings', false);\r\nunexportedRuntimeFunction('checkWasiClock', false);\r\nunexportedRuntimeFunction('writeI53ToI64', false);\r\nunexportedRuntimeFunction('writeI53ToI64Clamped', false);\r\nunexportedRuntimeFunction('writeI53ToI64Signaling', false);\r\nunexportedRuntimeFunction('writeI53ToU64Clamped', false);\r\nunexportedRuntimeFunction('writeI53ToU64Signaling', false);\r\nunexportedRuntimeFunction('readI53FromI64', false);\r\nunexportedRuntimeFunction('readI53FromU64', false);\r\nunexportedRuntimeFunction('convertI32PairToI53', false);\r\nunexportedRuntimeFunction('convertU32PairToI53', false);\r\nunexportedRuntimeFunction('setImmediateWrapped', false);\r\nunexportedRuntimeFunction('clearImmediateWrapped', false);\r\nunexportedRuntimeFunction('polyfillSetImmediate', false);\r\nunexportedRuntimeFunction('uncaughtExceptionCount', false);\r\nunexportedRuntimeFunction('exceptionLast', false);\r\nunexportedRuntimeFunction('exceptionCaught', false);\r\nunexportedRuntimeFunction('ExceptionInfo', false);\r\nunexportedRuntimeFunction('CatchInfo', false);\r\nunexportedRuntimeFunction('exception_addRef', false);\r\nunexportedRuntimeFunction('exception_decRef', false);\r\nunexportedRuntimeFunction('formatException', false);\r\nunexportedRuntimeFunction('Browser', false);\r\nunexportedRuntimeFunction('funcWrappers', false);\r\nunexportedRuntimeFunction('getFuncWrapper', false);\r\nunexportedRuntimeFunction('setMainLoop', false);\r\nunexportedRuntimeFunction('wget', false);\r\nunexportedRuntimeFunction('FS', false);\r\nunexportedRuntimeFunction('MEMFS', false);\r\nunexportedRuntimeFunction('TTY', false);\r\nunexportedRuntimeFunction('PIPEFS', false);\r\nunexportedRuntimeFunction('SOCKFS', false);\r\nunexportedRuntimeFunction('_setNetworkCallback', false);\r\nunexportedRuntimeFunction('tempFixedLengthArray', false);\r\nunexportedRuntimeFunction('miniTempWebGLFloatBuffers', false);\r\nunexportedRuntimeFunction('heapObjectForWebGLType', false);\r\nunexportedRuntimeFunction('heapAccessShiftForWebGLHeap', false);\r\nunexportedRuntimeFunction('GL', false);\r\nunexportedRuntimeFunction('emscriptenWebGLGet', false);\r\nunexportedRuntimeFunction('computeUnpackAlignedImageSize', false);\r\nunexportedRuntimeFunction('emscriptenWebGLGetTexPixelData', false);\r\nunexportedRuntimeFunction('emscriptenWebGLGetUniform', false);\r\nunexportedRuntimeFunction('webglGetUniformLocation', false);\r\nunexportedRuntimeFunction('webglPrepareUniformLocationsBeforeFirstUse', false);\r\nunexportedRuntimeFunction('webglGetLeftBracePos', false);\r\nunexportedRuntimeFunction('emscriptenWebGLGetVertexAttrib', false);\r\nunexportedRuntimeFunction('writeGLArray', false);\r\nunexportedRuntimeFunction('AL', false);\r\nunexportedRuntimeFunction('SDL_unicode', false);\r\nunexportedRuntimeFunction('SDL_ttfContext', false);\r\nunexportedRuntimeFunction('SDL_audio', false);\r\nunexportedRuntimeFunction('SDL', false);\r\nunexportedRuntimeFunction('SDL_gfx', false);\r\nunexportedRuntimeFunction('GLUT', false);\r\nunexportedRuntimeFunction('EGL', false);\r\nunexportedRuntimeFunction('GLFW_Window', false);\r\nunexportedRuntimeFunction('GLFW', false);\r\nunexportedRuntimeFunction('GLEW', false);\r\nunexportedRuntimeFunction('IDBStore', false);\r\nunexportedRuntimeFunction('runAndAbortIfError', false);\r\nunexportedRuntimeFunction('InternalError', false);\r\nunexportedRuntimeFunction('BindingError', false);\r\nunexportedRuntimeFunction('UnboundTypeError', false);\r\nunexportedRuntimeFunction('PureVirtualError', false);\r\nunexportedRuntimeFunction('init_embind', false);\r\nunexportedRuntimeFunction('throwInternalError', false);\r\nunexportedRuntimeFunction('throwBindingError', false);\r\nunexportedRuntimeFunction('throwUnboundTypeError', false);\r\nunexportedRuntimeFunction('ensureOverloadTable', false);\r\nunexportedRuntimeFunction('exposePublicSymbol', false);\r\nunexportedRuntimeFunction('replacePublicSymbol', false);\r\nunexportedRuntimeFunction('extendError', false);\r\nunexportedRuntimeFunction('createNamedFunction', false);\r\nunexportedRuntimeFunction('registeredInstances', false);\r\nunexportedRuntimeFunction('getBasestPointer', false);\r\nunexportedRuntimeFunction('registerInheritedInstance', false);\r\nunexportedRuntimeFunction('unregisterInheritedInstance', false);\r\nunexportedRuntimeFunction('getInheritedInstance', false);\r\nunexportedRuntimeFunction('getInheritedInstanceCount', false);\r\nunexportedRuntimeFunction('getLiveInheritedInstances', false);\r\nunexportedRuntimeFunction('registeredTypes', false);\r\nunexportedRuntimeFunction('awaitingDependencies', false);\r\nunexportedRuntimeFunction('typeDependencies', false);\r\nunexportedRuntimeFunction('registeredPointers', false);\r\nunexportedRuntimeFunction('registerType', false);\r\nunexportedRuntimeFunction('whenDependentTypesAreResolved', false);\r\nunexportedRuntimeFunction('embind_charCodes', false);\r\nunexportedRuntimeFunction('embind_init_charCodes', false);\r\nunexportedRuntimeFunction('readLatin1String', false);\r\nunexportedRuntimeFunction('getTypeName', false);\r\nunexportedRuntimeFunction('heap32VectorToArray', false);\r\nunexportedRuntimeFunction('requireRegisteredType', false);\r\nunexportedRuntimeFunction('getShiftFromSize', false);\r\nunexportedRuntimeFunction('integerReadValueFromPointer', false);\r\nunexportedRuntimeFunction('enumReadValueFromPointer', false);\r\nunexportedRuntimeFunction('floatReadValueFromPointer', false);\r\nunexportedRuntimeFunction('simpleReadValueFromPointer', false);\r\nunexportedRuntimeFunction('runDestructors', false);\r\nunexportedRuntimeFunction('new_', false);\r\nunexportedRuntimeFunction('craftInvokerFunction', false);\r\nunexportedRuntimeFunction('embind__requireFunction', false);\r\nunexportedRuntimeFunction('tupleRegistrations', false);\r\nunexportedRuntimeFunction('structRegistrations', false);\r\nunexportedRuntimeFunction('genericPointerToWireType', false);\r\nunexportedRuntimeFunction('constNoSmartPtrRawPointerToWireType', false);\r\nunexportedRuntimeFunction('nonConstNoSmartPtrRawPointerToWireType', false);\r\nunexportedRuntimeFunction('init_RegisteredPointer', false);\r\nunexportedRuntimeFunction('RegisteredPointer', false);\r\nunexportedRuntimeFunction('RegisteredPointer_getPointee', false);\r\nunexportedRuntimeFunction('RegisteredPointer_destructor', false);\r\nunexportedRuntimeFunction('RegisteredPointer_deleteObject', false);\r\nunexportedRuntimeFunction('RegisteredPointer_fromWireType', false);\r\nunexportedRuntimeFunction('runDestructor', false);\r\nunexportedRuntimeFunction('releaseClassHandle', false);\r\nunexportedRuntimeFunction('finalizationRegistry', false);\r\nunexportedRuntimeFunction('detachFinalizer_deps', false);\r\nunexportedRuntimeFunction('detachFinalizer', false);\r\nunexportedRuntimeFunction('attachFinalizer', false);\r\nunexportedRuntimeFunction('makeClassHandle', false);\r\nunexportedRuntimeFunction('init_ClassHandle', false);\r\nunexportedRuntimeFunction('ClassHandle', false);\r\nunexportedRuntimeFunction('ClassHandle_isAliasOf', false);\r\nunexportedRuntimeFunction('throwInstanceAlreadyDeleted', false);\r\nunexportedRuntimeFunction('ClassHandle_clone', false);\r\nunexportedRuntimeFunction('ClassHandle_delete', false);\r\nunexportedRuntimeFunction('deletionQueue', false);\r\nunexportedRuntimeFunction('ClassHandle_isDeleted', false);\r\nunexportedRuntimeFunction('ClassHandle_deleteLater', false);\r\nunexportedRuntimeFunction('flushPendingDeletes', false);\r\nunexportedRuntimeFunction('delayFunction', false);\r\nunexportedRuntimeFunction('setDelayFunction', false);\r\nunexportedRuntimeFunction('RegisteredClass', false);\r\nunexportedRuntimeFunction('shallowCopyInternalPointer', false);\r\nunexportedRuntimeFunction('downcastPointer', false);\r\nunexportedRuntimeFunction('upcastPointer', false);\r\nunexportedRuntimeFunction('validateThis', false);\r\nunexportedRuntimeFunction('char_0', false);\r\nunexportedRuntimeFunction('char_9', false);\r\nunexportedRuntimeFunction('makeLegalFunctionName', false);\r\nunexportedRuntimeFunction('emval_handle_array', false);\r\nunexportedRuntimeFunction('emval_free_list', false);\r\nunexportedRuntimeFunction('emval_symbols', false);\r\nunexportedRuntimeFunction('init_emval', false);\r\nunexportedRuntimeFunction('count_emval_handles', false);\r\nunexportedRuntimeFunction('get_first_emval', false);\r\nunexportedRuntimeFunction('getStringOrSymbol', false);\r\nunexportedRuntimeFunction('Emval', false);\r\nunexportedRuntimeFunction('emval_newers', false);\r\nunexportedRuntimeFunction('craftEmvalAllocator', false);\r\nunexportedRuntimeFunction('emval_get_global', false);\r\nunexportedRuntimeFunction('emval_methodCallers', false);\r\nunexportedRuntimeFunction('emval_registeredMethods', false);\r\nunexportedRuntimeFunction('warnOnce', false);\r\nunexportedRuntimeFunction('stackSave', false);\r\nunexportedRuntimeFunction('stackRestore', false);\r\nunexportedRuntimeFunction('stackAlloc', false);\r\nunexportedRuntimeFunction('AsciiToString', false);\r\nunexportedRuntimeFunction('stringToAscii', false);\r\nunexportedRuntimeFunction('UTF16ToString', false);\r\nunexportedRuntimeFunction('stringToUTF16', false);\r\nunexportedRuntimeFunction('lengthBytesUTF16', false);\r\nunexportedRuntimeFunction('UTF32ToString', false);\r\nunexportedRuntimeFunction('stringToUTF32', false);\r\nunexportedRuntimeFunction('lengthBytesUTF32', false);\r\nunexportedRuntimeFunction('allocateUTF8', false);\r\nunexportedRuntimeFunction('allocateUTF8OnStack', false);\r\nModule[\"writeStackCookie\"] = writeStackCookie;\r\nModule[\"checkStackCookie\"] = checkStackCookie;\r\nunexportedRuntimeSymbol('ALLOC_NORMAL', false);\r\nunexportedRuntimeSymbol('ALLOC_STACK', false);\r\n\r\nvar calledRun;\r\n\r\n/**\r\n * @constructor\r\n * @this {ExitStatus}\r\n */\r\nfunction ExitStatus(status) {\r\n  this.name = \"ExitStatus\";\r\n  this.message = \"Program terminated with exit(\" + status + \")\";\r\n  this.status = status;\r\n}\r\n\r\nvar calledMain = false;\r\n\r\ndependenciesFulfilled = function runCaller() {\r\n  // If run has never been called, and we should call run (INVOKE_RUN is true, and Module.noInitialRun is not false)\r\n  if (!calledRun) run();\r\n  if (!calledRun) dependenciesFulfilled = runCaller; // try this again later, after new deps are fulfilled\r\n};\r\n\r\nfunction stackCheckInit() {\r\n  // This is normally called automatically during __wasm_call_ctors but need to\r\n  // get these values before even running any of the ctors so we call it redundantly\r\n  // here.\r\n  // TODO(sbc): Move writeStackCookie to native to to avoid this.\r\n  _emscripten_stack_init();\r\n  writeStackCookie();\r\n}\r\n\r\n/** @type {function(Array=)} */\r\nfunction run(args) {\r\n  args = args || arguments_;\r\n\r\n  if (runDependencies > 0) {\r\n    return;\r\n  }\r\n\r\n  stackCheckInit();\r\n\r\n  preRun();\r\n\r\n  // a preRun added a dependency, run will be called later\r\n  if (runDependencies > 0) {\r\n    return;\r\n  }\r\n\r\n  function doRun() {\r\n    // run may have just been called through dependencies being fulfilled just in this very frame,\r\n    // or while the async setStatus time below was happening\r\n    if (calledRun) return;\r\n    calledRun = true;\r\n    Module['calledRun'] = true;\r\n\r\n    if (ABORT) return;\r\n\r\n    initRuntime();\r\n\r\n    if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\r\n\r\n    assert(!Module['_main'], 'compiled without a main, but one is present. if you added it from JS, use Module[\"onRuntimeInitialized\"]');\r\n\r\n    postRun();\r\n  }\r\n\r\n  if (Module['setStatus']) {\r\n    Module['setStatus']('Running...');\r\n    setTimeout(function() {\r\n      setTimeout(function() {\r\n        Module['setStatus']('');\r\n      }, 1);\r\n      doRun();\r\n    }, 1);\r\n  } else\r\n  {\r\n    doRun();\r\n  }\r\n  checkStackCookie();\r\n}\r\nModule['run'] = run;\r\n\r\nfunction checkUnflushedContent() {\r\n  // Compiler settings do not allow exiting the runtime, so flushing\r\n  // the streams is not possible. but in ASSERTIONS mode we check\r\n  // if there was something to flush, and if so tell the user they\r\n  // should request that the runtime be exitable.\r\n  // Normally we would not even include flush() at all, but in ASSERTIONS\r\n  // builds we do so just for this check, and here we see if there is any\r\n  // content to flush, that is, we check if there would have been\r\n  // something a non-ASSERTIONS build would have not seen.\r\n  // How we flush the streams depends on whether we are in SYSCALLS_REQUIRE_FILESYSTEM=0\r\n  // mode (which has its own special function for this; otherwise, all\r\n  // the code is inside libc)\r\n  var oldOut = out;\r\n  var oldErr = err;\r\n  var has = false;\r\n  out = err = (x) => {\r\n    has = true;\r\n  }\r\n  try { // it doesn't matter if it fails\r\n    ___stdio_exit();\r\n    // also flush in the JS FS layer\r\n    ['stdout', 'stderr'].forEach(function(name) {\r\n      var info = FS.analyzePath('/dev/' + name);\r\n      if (!info) return;\r\n      var stream = info.object;\r\n      var rdev = stream.rdev;\r\n      var tty = TTY.ttys[rdev];\r\n      if (tty && tty.output && tty.output.length) {\r\n        has = true;\r\n      }\r\n    });\r\n  } catch(e) {}\r\n  out = oldOut;\r\n  err = oldErr;\r\n  if (has) {\r\n    warnOnce('stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.');\r\n  }\r\n}\r\n\r\n/** @param {boolean|number=} implicit */\r\nfunction exit(status, implicit) {\r\n  EXITSTATUS = status;\r\n\r\n  checkUnflushedContent();\r\n\r\n  // if exit() was called explicitly, warn the user if the runtime isn't actually being shut down\r\n  if (keepRuntimeAlive() && !implicit) {\r\n    var msg = 'program exited (with status: ' + status + '), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)';\r\n    err(msg);\r\n  }\r\n\r\n  procExit(status);\r\n}\r\n\r\nfunction procExit(code) {\r\n  EXITSTATUS = code;\r\n  if (!keepRuntimeAlive()) {\r\n    if (Module['onExit']) Module['onExit'](code);\r\n    ABORT = true;\r\n  }\r\n  quit_(code, new ExitStatus(code));\r\n}\r\n\r\nif (Module['preInit']) {\r\n  if (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\r\n  while (Module['preInit'].length > 0) {\r\n    Module['preInit'].pop()();\r\n  }\r\n}\r\n\r\nrun();\r\n\r\n\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from './services/user.service';\r\nimport { SchemeService } from './services/scheme.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n    constructor(public _schemeService: SchemeService, public _userService: UserService) { }\r\n   \r\n    ngOnInit() { }\r\n}\r\n","<div style=\"height: 100%; width: 100%;\">\r\n  <div *ngIf=\"!_userService.accessToken\">\r\n    <app-login></app-login>\r\n  </div>\r\n  <div *ngIf=\"_userService.accessToken\" style=\"height: 100%; width: 100%;\">\r\n    <app-dashboard></app-dashboard>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { AppComponent } from './app.component';\r\n\r\nimport { HttpClientModule, HttpClientXsrfModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrModule } from 'ngx-toastr';\r\n\r\nimport { UserService } from './services/user.service';\r\nimport { SchemeService } from './services/scheme.service';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { PointComponent } from './dashboard/shapes-creator/buttons/point.component';\r\nimport { LineComponent } from './dashboard/shapes-creator/buttons/line.component';\r\nimport { SegmentComponent } from './dashboard/shapes-creator/buttons/segment.component';\r\nimport { CircleComponent } from './dashboard/shapes-creator/buttons/circle.component';\r\nimport { SemilineComponent } from './dashboard/shapes-creator/buttons/semiline.component';\r\nimport { PerpendicularityComponent } from './dashboard/shapes-creator/buttons/perpendicularity.component';\r\nimport { ParallelismComponent } from './dashboard/shapes-creator/buttons/parallelism.component';\r\nimport { BisectorComponent } from './dashboard/shapes-creator/buttons/bisector.component';\r\nimport { MidPerpendicularComponent } from './dashboard/shapes-creator/buttons/mid-perpendicular.component';\r\nimport { TangentCircleComponent } from './dashboard/shapes-creator/buttons/tangent-circle.component';\r\nimport { ProcessDataComponent } from './dashboard/shapes-creator/buttons/process-data.component';\r\nimport { ClearCanvasComponent } from './dashboard/shapes-creator/buttons/clear-canvas.component';\r\nimport { SetLengthComponent } from './dashboard/shapes-creator/buttons/set-length.component';\r\nimport { SetAngleValueComponent } from './dashboard/shapes-creator/buttons/set-angle-value.component';\r\nimport { EqualSegmentsComponent } from './dashboard/shapes-creator/buttons/equal-segments';\r\nimport { EqualAnglesComponent } from './dashboard/shapes-creator/buttons/equal-angles';\r\nimport { EscribedCircleComponent } from './dashboard/shapes-creator/buttons/escribed-circle.component';\r\nimport { InscribedCircleComponent } from './dashboard/shapes-creator/buttons/inscribed-circle.component';\r\nimport { CircumscribedCircleComponent } from './dashboard/shapes-creator/buttons/circumscribed-circle';\r\nimport { PolygonComponent } from './dashboard/shapes-creator/buttons/polygon.component';\r\nimport { SquareComponent } from './dashboard/shapes-creator/buttons/square.component';\r\nimport { RectangleComponent } from './dashboard/shapes-creator/buttons/rectangle.component';\r\nimport { TriangleComponent } from './dashboard/shapes-creator/buttons/triangle.component';\r\nimport { ParallelogramComponent } from './dashboard/shapes-creator/buttons/parallelogram.component';\r\nimport { KiteComponent } from './dashboard/shapes-creator/buttons/kite.component';\r\nimport { RhombusComponent } from './dashboard/shapes-creator/buttons/rhombus.component';\r\nimport { TrapezoidComponent } from './dashboard/shapes-creator/buttons/trapezoid.component';\r\nimport { DivideSegmentComponent } from './dashboard/shapes-creator/buttons/divide-segment.component';\r\nimport { DivideAngleComponent } from './dashboard/shapes-creator/buttons/divide-angle.component';\r\nimport { AltitudeComponent } from './dashboard/shapes-creator/buttons/altitude.component';\r\nimport { MedianComponent } from './dashboard/shapes-creator/buttons/median.component';\r\nimport { MidSegmentComponent } from './dashboard/shapes-creator/buttons/mid-segment.component';\r\nimport { DependenciesPresenterComponent } from './dashboard/dependencies-presenter/dependencies-presenter.component';\r\nimport { ComplexShapeCreatorComponent } from './dashboard/shapes-creator/complex-shape-creator/complex-shape-creator.component';\r\nimport { ShapesCreatorComponent } from './dashboard/shapes-creator/shapes-creator.component';\r\nimport { SaveSchemeComponent } from './dashboard/shapes-creator/buttons/save-scheme.component';\r\nimport { LoadSchemeComponent } from './dashboard/shapes-creator/buttons/load-scheme.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    DashboardComponent,\r\n    PointComponent,\r\n    LineComponent,\r\n    SegmentComponent,\r\n    CircleComponent,\r\n    SemilineComponent,\r\n    PerpendicularityComponent,\r\n    ParallelismComponent,\r\n    BisectorComponent,\r\n    MidPerpendicularComponent,\r\n    TangentCircleComponent,\r\n    ProcessDataComponent,\r\n    ClearCanvasComponent,\r\n    SetLengthComponent,\r\n    SetAngleValueComponent,\r\n    EqualSegmentsComponent,\r\n    EqualAnglesComponent,\r\n    EscribedCircleComponent,\r\n    InscribedCircleComponent,\r\n    CircumscribedCircleComponent,\r\n    PolygonComponent,\r\n    SquareComponent,\r\n    RectangleComponent,\r\n    TriangleComponent,\r\n    ParallelogramComponent,\r\n    KiteComponent,\r\n    RhombusComponent,\r\n    TrapezoidComponent,\r\n    DivideSegmentComponent,\r\n    DivideAngleComponent,\r\n    AltitudeComponent,\r\n    MedianComponent,\r\n    MidSegmentComponent,\r\n    DependenciesPresenterComponent,\r\n    ComplexShapeCreatorComponent,\r\n    ShapesCreatorComponent,\r\n    SaveSchemeComponent,\r\n    LoadSchemeComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule, FormsModule, HttpClientModule,\r\n    HttpClientXsrfModule.withOptions({\r\n      cookieName: 'csrftoken',\r\n      headerName: 'X-CSRFToken',\r\n    }), \r\n    NgbModule, BrowserAnimationsModule, ToastrModule.forRoot()\r\n  ],\r\n  providers: [UserService, SchemeService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\r\n","export class Appearance {\r\n    /** Constant variable representing color in HEX of drawn shapes. */\r\n    public static basicShapesColor = \"#2C3C5B\";\r\n\r\n    /** Constant variable representing shape color in HEX after mouseover on shape. */\r\n    public static mouseoverShapesColor = \"#0AC5A8\";\r\n\r\n    /** Constant variable representing color in HEX of prompting shapes. */\r\n    public static promptingShapesColor = \"#ADADAD\";\r\n\r\n    /** Constant variable representing color in HEX of acivated shape. Shape is activated when was chosen in {@link ComplexShapeCreator}. */\r\n    public static activatedShapesColor = \"#0AC5A8\";\r\n\r\n    /** Constant variable representing color in HEX of guide lines. */\r\n    public static guideLinesColor = \"#ADADAD\";\r\n\r\n    /** Constant variable representing radius of point. */\r\n    public static pointRadius = 3;\r\n\r\n    /** Constant variable representing point radius after mouseover on point. */\r\n    public static mouseoverPointRadius = 5;\r\n\r\n    /** Constant variable representing hit stroke width of point. */\r\n    public static pointHitStrokeWidth = 6;\r\n\r\n    /** Constant variable representing radius of activated point. */\r\n    public static activatedPointRadius = 4;\r\n\r\n    /** Constant variable representing stroke width of line. */\r\n    public static linesStrokeWidth = 2;\r\n\r\n    /** Constant variable representing line stroke width after mouseover on line. */\r\n    public static mouseoverLinesStrokeWidth = 5;\r\n\r\n    /** Constant variable representing hit stroke width of line. */\r\n    public static linesHitStrokeWidth = 6;\r\n\r\n    /** Constant variable representing stroke width of activated line. */\r\n    public static activatedLinesStrokeWidth = 4;\r\n\r\n    /** Constant variable representing stroke width of guide line. */\r\n    public static guideLinesStrokeWidth = 2;\r\n\r\n    /** Constant variable representing type of line cap. */\r\n    public static linesCap = \"round\";\r\n\r\n    /** Constant variable representing type of line join. */\r\n    public static linesJoin = \"round\";\r\n\r\n    /** Constant variable representing alphabet used in points naming. */\r\n    public static capitalLetters = \"ABCDEFGHIJKLMNOPQRSTUWVXYZ\";\r\n\r\n    /** Constant variable specifying whether the name of the point should appear next to the created points. */\r\n    public static showPointLabels = true;\r\n\r\n    /** Constant variable representing text font. */\r\n    public static textFont = \"Cambria Math\";\r\n\r\n    /** Constant variable representing text font style. */\r\n    public static textFontStyle = \"normal\";\r\n\r\n    /** Constant variable representing text color. */\r\n    public static textColor = \"#000000\";\r\n\r\n    /** Constant variable representing text size. */\r\n    public static textSize = 15;\r\n\r\n    /** Constant variable representing offset used in finding guide lines. */\r\n    public static guideLineOffset: number = 2;\r\n\r\n    public static highlightColors: string[] = [ \"#006588\", \"#00909F\", \"#00B99A\", \"#8ADE83\", \"#F9F871\" ];\r\n}","import { Module } from '../canvasManager';\r\n\r\nexport enum ShapeToCreateEnum {\r\n    NONE,\r\n    POINT,\r\n    SEGMENT,\r\n    LINE,\r\n    SEMILINE,\r\n    CIRCLE,\r\n    COMPLEX_SHAPE\r\n}\r\n\r\nfunction ShapeToCreateEnumToRaw(key: ShapeToCreateEnum) {\r\n    switch (key) {\r\n        case ShapeToCreateEnum.NONE:\r\n            return Module.ShapeToCreate.NONE;\r\n        case ShapeToCreateEnum.POINT:\r\n            return Module.ShapeToCreate.POINT;\r\n        case ShapeToCreateEnum.SEGMENT:\r\n            return Module.ShapeToCreate.SEGMENT;\r\n        case ShapeToCreateEnum.LINE:\r\n            return Module.ShapeToCreate.LINE;\r\n        case ShapeToCreateEnum.SEMILINE:\r\n            return Module.ShapeToCreate.SEMILINE;\r\n        case ShapeToCreateEnum.CIRCLE:\r\n            return Module.ShapeToCreate.CIRCLE;\r\n        case ShapeToCreateEnum.COMPLEX_SHAPE:\r\n            return Module.ShapeToCreate.COMPLEX_SHAPE;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport enum AngleTypeEnum {\r\n    UNKNOWN,\r\n    CONVEX,\r\n    CONCAVE\r\n}\r\n\r\nfunction AngleTypeEnumToRaw(key: AngleTypeEnum) {\r\n    switch (key) {\r\n        case AngleTypeEnum.UNKNOWN:\r\n            return Module.AngleType.UNKNOWN;\r\n        case AngleTypeEnum.CONVEX:\r\n            return Module.AngleType.CONVEX;\r\n        case AngleTypeEnum.CONCAVE:\r\n            return Module.AngleType.CONCAVE;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport enum PolygonTypeEnum {\r\n    UNKNOWN,\r\n    ISOSCELES_ACUTE_TRIANGLE,\r\n    EQUILATERAL_TRIANGLE,\r\n    SCALENE_RIGHT_TRIANGLE,\r\n    ISOSCELES_RIGHT_TRIANGLE,\r\n    OBTUSE_ISOSCELES_TRIANGLE,\r\n    SQUARE,\r\n    RECTANGLE,\r\n    REGULAR_POLYGON,\r\n    PARALLELOGRAM,\r\n    KITE,\r\n    RHOMBUS,\r\n    SCALENE_TRAPEZOID,\r\n    ISOSCELES_TRAPEZOID,\r\n    RIGHT_TRAPEZOID\r\n}\r\n\r\nfunction PolygonTypeEnumToRaw(key: PolygonTypeEnum) {\r\n    switch (key) {\r\n        case PolygonTypeEnum.UNKNOWN:\r\n            return Module.PolygonType.UNKNOWN;\r\n        case PolygonTypeEnum.ISOSCELES_ACUTE_TRIANGLE:\r\n            return Module.PolygonType.ISOSCELES_ACUTE_TRIANGLE;\r\n        case PolygonTypeEnum.EQUILATERAL_TRIANGLE:\r\n            return Module.PolygonType.EQUILATERAL_TRIANGLE;\r\n        case PolygonTypeEnum.SCALENE_RIGHT_TRIANGLE:\r\n            return Module.PolygonType.SCALENE_RIGHT_TRIANGLE;\r\n        case PolygonTypeEnum.ISOSCELES_RIGHT_TRIANGLE:\r\n            return Module.PolygonType.ISOSCELES_RIGHT_TRIANGLE;\r\n        case PolygonTypeEnum.OBTUSE_ISOSCELES_TRIANGLE:\r\n            return Module.PolygonType.OBTUSE_ISOSCELES_TRIANGLE;\r\n        case PolygonTypeEnum.SQUARE:\r\n            return Module.PolygonType.SQUARE;\r\n        case PolygonTypeEnum.RECTANGLE:\r\n            return Module.PolygonType.RECTANGLE;\r\n        case PolygonTypeEnum.REGULAR_POLYGON:\r\n            return Module.PolygonType.REGULAR_POLYGON;\r\n        case PolygonTypeEnum.PARALLELOGRAM:\r\n            return Module.PolygonType.PARALLELOGRAM;\r\n        case PolygonTypeEnum.KITE:\r\n            return Module.PolygonType.KITE;\r\n        case PolygonTypeEnum.RHOMBUS:\r\n            return Module.PolygonType.RHOMBUS;\r\n        case PolygonTypeEnum.SCALENE_TRAPEZOID:\r\n            return Module.PolygonType.SCALENE_TRAPEZOID;\r\n        case PolygonTypeEnum.ISOSCELES_TRAPEZOID:\r\n            return Module.PolygonType.ISOSCELES_TRAPEZOID;\r\n        case PolygonTypeEnum.RIGHT_TRAPEZOID:\r\n            return Module.PolygonType.RIGHT_TRAPEZOID;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport class CanvasManagerInterface {\r\n    private static manager: any;\r\n\r\n    private static lockUI: () => void;\r\n    private static unlockUI: () => void;\r\n\r\n    public static init(width: number, height: number, offset: number,\r\n        drawPoint: (id: number, x: number, y: number) => void,\r\n        drawSegment: (id: number, x1: number, y1: number, x2: number, y2: number) => void,\r\n        drawCircle: (id: number, x: number, y: number, radius: number) => void,\r\n        deleteShape: (id: number) => void,\r\n        setPromptingShapeStartPoint: (set: boolean, x: number, y: number) => void,\r\n        lockInterface: () => void,\r\n        unlockInterface: () => void,\r\n        alert: (id: number, content: string) => void) {\r\n\r\n        CanvasManagerInterface.lockUI = lockInterface;\r\n        CanvasManagerInterface.unlockUI = unlockInterface;\r\n\r\n        const alertParser = (type: number, contentAsInteger: number) => { alert(type, Module.UTF8ToString(contentAsInteger)); }\r\n\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        //Module.onRuntimeInitialized = async function () {\r\n        const referenceToDrawPointFunction = Module.addFunction(drawPoint, 'vidd');\r\n        const referenceToDrawSegmentFunction = Module.addFunction(drawSegment, 'vidddd');\r\n        const referenceToDrawCircleFunction = Module.addFunction(drawCircle, 'viddd');\r\n        const referenceToDeleteShapeFunction = Module.addFunction(deleteShape, 'vi');\r\n        const referenceToSetPromptingShapeStartPointFunction = Module.addFunction(setPromptingShapeStartPoint, 'vidd');\r\n        const referenceToUnlockInterfaceFunction = Module.addFunction(unlockInterface, 'v');\r\n        const referenceToAlertFunction = Module.addFunction(alertParser, 'vii');\r\n\r\n        CanvasManagerInterface.manager = new Module.CanvasManager(width, height, offset,\r\n            referenceToDrawPointFunction, referenceToDrawSegmentFunction, referenceToDrawCircleFunction,\r\n            referenceToDeleteShapeFunction, referenceToSetPromptingShapeStartPointFunction,\r\n            referenceToUnlockInterfaceFunction, referenceToAlertFunction);\r\n\r\n        CanvasManagerInterface.unlockUI();  \r\n        //}\r\n    };\r\n\r\n    public static clearCanvas() {\r\n        CanvasManagerInterface.lockUI();\r\n        CanvasManagerInterface.manager.clearCanvas();\r\n    }\r\n\r\n    public static setCurrentlyCreatedShape(shapeToCreate: ShapeToCreateEnum) {\r\n        CanvasManagerInterface.manager.setCurrentlyCreatedShape(ShapeToCreateEnumToRaw(shapeToCreate));\r\n    }\r\n\r\n    public static clickedOnCanvas(x: number, y: number): number {\r\n        CanvasManagerInterface.lockUI();\r\n        return CanvasManagerInterface.manager.clickedOnCanvas(x, y);\r\n    }\r\n\r\n    public static clickedOnPoint(id: number): number {\r\n        CanvasManagerInterface.lockUI();\r\n        return CanvasManagerInterface.manager.clickedOnPoint(id);\r\n    }\r\n\r\n    public static clickedOnSegment(id: number, x: number, y: number): number {\r\n        CanvasManagerInterface.lockUI();\r\n        return CanvasManagerInterface.manager.clickedOnSegment(id, x, y);\r\n    }\r\n\r\n    public static clickedOnCircle(id: number, x: number, y: number): number {\r\n        CanvasManagerInterface.lockUI();\r\n        return CanvasManagerInterface.manager.clickedOnCircle(id, x, y);\r\n    }\r\n\r\n    public static setPerpendicularityDependency(line1Id: number, line2Id: number) {\r\n        CanvasManagerInterface.manager.setPerpendicularityDependency(line1Id, line2Id);\r\n    }\r\n\r\n    public static setPerpendicularityDependencyBaseOnPoints(line1Point1Id: number, line1Point2Id: number, line2Point1Id: number, line2Point2Id: number) {\r\n        CanvasManagerInterface.manager.setPerpendicularityDependencyBaseOnPoints(line1Point1Id, line1Point2Id, line2Point1Id, line2Point2Id);\r\n    }\r\n\r\n    public static createPerpendicularLineToLine(lineId: number, pointId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createPerpendicularLineToLine(lineId, pointId);\r\n    }\r\n\r\n    public static setParallelismDependency(line1Id: number, line2Id: number) {\r\n        CanvasManagerInterface.manager.setParallelismDependency(line1Id, line2Id);\r\n    }\r\n\r\n    public static setParallelismDependencyBaseOnPoints(line1Point1Id: number, line1Point2Id: number, line2Point1Id: number, line2Point2Id: number) {\r\n        CanvasManagerInterface.manager.setParallelismDependencyBaseOnPoints(line1Point1Id, line1Point2Id, line2Point1Id, line2Point2Id);\r\n    }\r\n\r\n    public static createParallelLineToLine(lineId: number, pointId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createParallelLineToLine(lineId, pointId);\r\n    }\r\n\r\n    public static setEqualSegmentsDependencyWithEnds(segment1End1Id: number, segment1End2Id: number, segment2End1Id: number, segment2End2Id: number) {\r\n        CanvasManagerInterface.manager.setEqualSegmentsDependencyWithEnds(segment1End1Id, segment1End2Id, segment2End1Id, segment2End2Id);\r\n    }\r\n\r\n    public static setEqualSegmentsDependnecyWithIds(segment1Id: number, segment2Id: number) {\r\n        CanvasManagerInterface.manager.setEqualSegmentsDependnecyWithIds(segment1Id, segment2Id);\r\n    }\r\n\r\n    public static setEqualSegmentsDependencyWithMix(segment1Id: number, segment2End1Id: number, segment2End2Id: number) {\r\n        CanvasManagerInterface.manager.setEqualSegmentsDependencyWithMix(segment1Id, segment2End1Id, segment2End2Id);\r\n    }\r\n\r\n    public static setEqualAnglesDependency(angle1Point1Id: number, angle1VertexId: number, angle1Point2Id: number, angle2Point1Id: number, angle2VertexId: number, angle2Point2Id: number) {\r\n        CanvasManagerInterface.manager.setEqualAnglesDependency(angle1Point1Id, angle1VertexId, angle1Point2Id, angle2Point1Id, angle2VertexId, angle2Point2Id);\r\n    }\r\n\r\n    public static setLengthValue(end1Id: number, end2Id: number, value: string) {\r\n        CanvasManagerInterface.manager.setLengthValue(end1Id, end2Id, value);\r\n    }\r\n\r\n    public static setSegmentLengthValue(segmentId: number, value: string) {\r\n        CanvasManagerInterface.manager.setSegmentLengthValue(segmentId, value);\r\n    }\r\n\r\n    public static setAngleValue(end1Id: number, vertexId: number, end2Id: number, angleType: AngleTypeEnum, value: string) {\r\n        CanvasManagerInterface.manager.setAngleValue(end1Id, vertexId, end2Id, AngleTypeEnumToRaw(angleType), value);\r\n    }\r\n\r\n    public static divideSegmentWithId(segmentId: number, n: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.divideSegmentWithId(segmentId, n);\r\n    }\r\n\r\n    public static divideSegmentWithEnds(end1Id: number, end2Id: number, n: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.divideSegmentWithEnds(end1Id, end2Id, n);\r\n    }\r\n\r\n    public static divideAngle(end1Id: number, vertexId: number, end2Id: number, ofConvexAngle: boolean, n: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.divideAngle(end1Id, vertexId, end2Id, ofConvexAngle, n);\r\n    }\r\n\r\n    public static createSegmentMidPerpendicularWithId(segmentId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createSegmentMidPerpendicularWithId(segmentId);\r\n    }\r\n\r\n    public static createSegmentMidPerpendicularWithEnds(end1Id: number, end2Id: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createSegmentMidPerpendicularWithEnds(end1Id, end2Id);\r\n    }\r\n\r\n    public static createTangentLine(circleId: number, pointId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createTangentLine(pointId, circleId);\r\n    }\r\n\r\n    public static createTangentCircleToLine(pointId: number, segmentId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createTangentCircleToLine(pointId, segmentId);\r\n    }\r\n\r\n    public static createTangentCircleToCircle(circleId: number, newCircleCenterId: number, externally: boolean) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createTangentCircleToCircle(circleId, newCircleCenterId, externally);\r\n    }\r\n\r\n    public static createAltitudeWithBaseId(baseId: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createAltitudeWithBaseId(baseId, vertexId);\r\n    }\r\n\r\n    public static createAltitudeWithBaseEnds(end1Id: number, end2Id: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createAltitudeWithBaseEnds(end1Id, end2Id, vertexId);\r\n    }\r\n\r\n    public static createMedianWithBaseId(baseId: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createMedianWithBaseId(baseId, vertexId);\r\n    }\r\n\r\n    public static createMedianwithBaseEnds(end1Id: number, end2Id: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createMedianwithBaseEnds(end1Id, end2Id, vertexId);\r\n    }\r\n\r\n    public static createMidSegmentWithArmIds(arm1Id: number, arm2Id: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createMidSegmentWithArmIds(arm1Id, arm2Id);\r\n    }\r\n\r\n    public static createMidSegmentWithArmEnds(arm1End1Id: number, arm1End2Id: number, arm2End1Id: number, arm2End2Id: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createMidSegmentWithArmEnds(arm1End1Id, arm1End2Id, arm2End1Id, arm2End2Id);\r\n    }\r\n\r\n    public static createMidSegmentWithMix(arm1Id: number, arm2End1Id: number, arm2End2Id: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createMidSegmentWithMix(arm1Id, arm2End1Id, arm2End2Id)\r\n    }\r\n\r\n    public static createBisectorLine(point1Id: number, vertexId: number, point2Id: number, ofConvexAngle: boolean) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createBisectorLine(point1Id, vertexId, point2Id, ofConvexAngle);\r\n    }\r\n\r\n    public static createInscribedCircle(ids: number[]) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        ids.forEach(id => { vertexVector.push_back(id); });\r\n        CanvasManagerInterface.manager.createInscribedCircle(vertexVector);\r\n    }\r\n\r\n    public static createCircumscribedCircle(ids: number[]) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        ids.forEach(id => { vertexVector.push_back(id); });\r\n        CanvasManagerInterface.manager.createCircumscribedCircle(vertexVector);\r\n    }\r\n\r\n    public static createEscribedCircleWithSideId(sideId: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createEscribedCircleWithSideId(sideId, vertexId);\r\n    }\r\n\r\n    public static createEscribedCircleWithSideEnds(end1Id: number, end2Id: number, vertexId: number) {\r\n        CanvasManagerInterface.lockUI();\r\n\r\n        CanvasManagerInterface.manager.createEscribedCircleWithSideEnds(end1Id, end2Id, vertexId);\r\n    }\r\n\r\n    public static setPolygonType(polygon: number[], type: PolygonTypeEnum) {\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        polygon.forEach(id => { vertexVector.push_back(id); });\r\n\r\n        CanvasManagerInterface.manager.setPolygonType(vertexVector, PolygonTypeEnumToRaw(type));\r\n    }\r\n\r\n    public static setPerpendicularLines(line1: number, line2: number) {\r\n        CanvasManagerInterface.manager.setPerpendicularLines(line1, line2);\r\n    }\r\n\r\n    public static setParallelLines(line1: number, line2: number) {\r\n        CanvasManagerInterface.manager.setParallelLines(line1, line2);\r\n    }\r\n\r\n    public static setEscribedCircle(circleId: number, polygon: number[]) {\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        polygon.forEach(id => { vertexVector.push_back(id); });\r\n\r\n        CanvasManagerInterface.manager.setEscribedCircle(circleId, vertexVector);\r\n    }\r\n\r\n    public static setInscribedCircle(circleId: number, polygon: number[]) {\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        polygon.forEach(id => { vertexVector.push_back(id); });\r\n\r\n        CanvasManagerInterface.manager.setInscribedCircle(circleId, vertexVector);\r\n    }\r\n\r\n    public static setCircumscribedCircle(circleId: number, polygon: number[]) {\r\n        var vertexVector = new Module.vectorOfUnsignedInts();\r\n        polygon.forEach(id => { vertexVector.push_back(id); });\r\n\r\n        CanvasManagerInterface.manager.setCircumscribedCircle(circleId, vertexVector);\r\n    }\r\n\r\n    public static setTangentLineToCircle(lineId: number, circleId: number) {\r\n        CanvasManagerInterface.manager.setTangentLineToCircle(lineId, circleId);\r\n    }\r\n\r\n    public static setTangentCircles(circle1Id: number, circle2Id: number) {\r\n        CanvasManagerInterface.manager.setTangentCircles(circle1Id, circle2Id);\r\n    }\r\n\r\n    public static setAltitude(end1Id: number, end2Id: number, lineId: number) {\r\n        CanvasManagerInterface.manager.setAltitude(end1Id, end2Id, lineId);\r\n    }\r\n\r\n    public static setMedian(s1End1Id: number, s1End2Id: number, s2End1Id: number, s2End2Id: number) {\r\n        CanvasManagerInterface.manager.setMedian(s1End1Id, s1End2Id, s2End1Id, s2End2Id);\r\n    }\r\n\r\n    public static setMidSegment(a1End1Id: number, a1End2Id: number, a2End1Id: number, a2End2Id: number, sEnd1: number, sEnd2: number) {\r\n        CanvasManagerInterface.manager.setMidSegment(a1End1Id, a1End2Id, a2End1Id, a2End2Id, sEnd1, sEnd2);\r\n    }\r\n\r\n    public static getJsonData(): JSON {\r\n        const JsonAsString: string = CanvasManagerInterface.manager.getJsonData();\r\n\r\n        return JSON.parse(JsonAsString);\r\n    }\r\n}\r\n","/**\r\n * Module contains a static class Canvas for representating Konva.Stage - HTML Canvas - with some extentions,\r\n * managing functions, events and an enum ShapesEnum for selecting type of shapes to create.\r\n * \r\n * @module Canvas\r\n */\r\n\r\nimport Konva from \"konva\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { Appearance } from \"./appearance\";\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from \"./canvas-manager-interface\";\r\nimport { DependenciesPresenter } from \"./dependencies-presenter/dependencies-presenter\";\r\nimport { ComplexShapeCreator } from \"./shapes-creator/complex-shape-creator/complex-shapes-creator\";\r\nimport { ShapesCreatorComponent } from \"./shapes-creator/shapes-creator.component\";\r\n\r\n/**\r\n * Enum holds special types of complex shapes.\r\n */\r\nexport enum ComplexShapeEnum {\r\n    NONE,\r\n    PERPENDICULAR_LINE,\r\n    PARALLEL_LINE,\r\n}\r\n\r\n/**\r\n * Static class for representation of Konva.Stage - HTML5 Canvas. It extends Konva library objects by functions to easy draw basic geometry shapes,\r\n * to resolve clicks on created shapes, to prompt during creating new shapes and to make created shapes interactive. \r\n * Class contains many constant variables with shapes properties which are used in creating all shapes.\r\n */\r\nexport class Canvas {\r\n    private static screenWidth: number;\r\n    private static screenHeight: number;\r\n\r\n    /** Width of created HTML5 Canvas. */\r\n    private static width: number;\r\n\r\n    /** Height of created HTML5 Canvas. */\r\n    private static height: number;\r\n\r\n    /** Container ID where were created HTML5 Canvas. */\r\n    private static containerID: string;\r\n\r\n    /** Counter of created points. */\r\n    private static pointIdCounter: number;\r\n\r\n    /** Counter of created shapes. */\r\n    private static shapeIdCounter: number;\r\n\r\n    /** HTML Canvas object. */\r\n    private static stage: Konva.Stage;\r\n\r\n    /** Layer for points, segments, lines, semilines, circles drawing and textes */\r\n    private static shapesLayer: Konva.Layer;\r\n\r\n    /** Layer for segments, lines, semilines, circles prompting. */\r\n    private static batchLayer: Konva.Layer;\r\n\r\n    /** Layer for guide lines drawing. */\r\n    private static guideLayer: Konva.Layer;\r\n\r\n    private static highlightLayer: Konva.Layer;\r\n\r\n    /** Type of currently created shape. */\r\n    private static currentlyCreatedShape: ShapeToCreateEnum;\r\n\r\n    /** Complex shape currently created. */\r\n    private static currentlyComplexShape: ComplexShapeEnum;\r\n\r\n    /** First variable indicating whether to draw a prompting shape. */\r\n    private static drawPromptingShapes: boolean;\r\n\r\n    /** Second variable indicating whether to draw a prompting shape. \r\n     * If it is not null then array elements are X and Y coordinates of first point of prompting shape. */\r\n    private static promptingShapeStartPoint: [number, number] | null;\r\n\r\n    /** Variable with properties of base on which prompting line is creating.\r\n     * x = b: [null, b]\r\n     * y = b: [0, b]\r\n     * y = ax + b: [a, b] */\r\n    private static baseToPromptingLine: [number | null, number] | null;\r\n\r\n    /** Array of IDs of currently activated shapes. */\r\n    private static activatedShapes: string[];\r\n\r\n    /** Array with point names. n-th element is name of point with id=n */\r\n    public static pointNames: string[];\r\n\r\n    /** Object of moving prompting point. */\r\n    private static movingPromptingPoint: any;\r\n\r\n    /** Array with X coordinates using in finding vertical guide line. */\r\n    private static guideLineX: number[];\r\n\r\n    /** Array with Y coordinates using in finding horizontal guide line. */\r\n    private static guideLineY: number[];\r\n\r\n    /** Currently vertical guide line. */\r\n    private static currentGuideLineX: number | null;\r\n\r\n    /** Currently horizontal guide line. */\r\n    private static currentGuideLineY: number | null;\r\n\r\n    /** Variable indicating whether to draw guide lines. */\r\n    private static drawGuideLines: boolean;\r\n\r\n    private static toastrService: ToastrService;\r\n\r\n    public static blockInterface$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\r\n\r\n    private static lastCreatedPointId: number;\r\n    private static lastCreatedSegmentId: number;\r\n    private static lastCreatedCircleId: number;\r\n\r\n    private static POINT_Z_INDEX: number = 3;\r\n    private static LINE_Z_INDEX: number = 2;\r\n    private static CIRCLE_Z_INDEX: number = 1;\r\n    private static TEXT_Z_INDEX: number = 4;\r\n\r\n    private static DIMENSION_MULTIPIER = 3;\r\n    private static SCALING_INCREASE = 0.01;\r\n    private static currentScale: number;\r\n    private static maximalScale: number;\r\n    private static minimalScale: number;\r\n\r\n    /** Empty function: static class has no constructor. */\r\n    constructor() { }\r\n\r\n    /**\r\n     * Canvas initialization to drawing. This has to be called before using this class.\r\n     * @param width width of the creating canvas \r\n     * @param height height of the creating canvas \r\n     * @param container ID of the container in DOM where canva is to appear\r\n     */\r\n    public static init(screenWidth: number, screenHeight: number, container: string, toastr: ToastrService): void {\r\n        Canvas.screenWidth = screenWidth;\r\n        Canvas.screenHeight = screenHeight;\r\n        Canvas.width = screenWidth * Canvas.DIMENSION_MULTIPIER;\r\n        Canvas.height = screenHeight * Canvas.DIMENSION_MULTIPIER;\r\n        Canvas.containerID = container;\r\n        Canvas.toastrService = toastr;\r\n\r\n        Canvas.currentlyCreatedShape = ShapeToCreateEnum.NONE;\r\n        Canvas.currentlyComplexShape = ComplexShapeEnum.NONE\r\n        Canvas.pointIdCounter = 0;\r\n        Canvas.shapeIdCounter = 1;\r\n        Canvas.drawPromptingShapes = true;\r\n        Canvas.promptingShapeStartPoint = null;\r\n        Canvas.baseToPromptingLine = null;\r\n        Canvas.activatedShapes = [];\r\n        Canvas.pointNames = [];\r\n\r\n        Canvas.guideLineX = [];\r\n        Canvas.guideLineY = [];\r\n        Canvas.currentGuideLineX = null;\r\n        Canvas.currentGuideLineY = null;\r\n        Canvas.drawGuideLines = true;\r\n\r\n        Canvas.blockInterface$.next(true);\r\n\r\n        Canvas.lastCreatedPointId = 0;\r\n        Canvas.lastCreatedSegmentId = 0;\r\n        Canvas.lastCreatedCircleId = 0;\r\n\r\n        ShapesCreatorComponent.displayShapesCreator$.next(true);\r\n        ComplexShapeCreator.displayComplexShapeCreator$.next(false);\r\n        DependenciesPresenter.displayDependenciesPresenter$.next(false);\r\n\r\n        Canvas.currentScale = 1.0;\r\n        Canvas.maximalScale = 2;\r\n        Canvas.minimalScale = 1 / Canvas.DIMENSION_MULTIPIER;\r\n\r\n        // stage creating\r\n        Canvas.stage = new Konva.Stage({\r\n            container: container,\r\n            x: -((Canvas.DIMENSION_MULTIPIER - 1) / 2) * screenWidth,\r\n            y: -((Canvas.DIMENSION_MULTIPIER - 1) / 2) * screenHeight,\r\n            width: screenWidth,\r\n            height: screenWidth,\r\n            draggable: true,\r\n            centeredScaling: true,\r\n            scale: { x: Canvas.currentScale, y: Canvas.currentScale }\r\n        });\r\n\r\n        // layers creating\r\n        Canvas.shapesLayer = new Konva.Layer();\r\n        Canvas.batchLayer = new Konva.Layer();\r\n        Canvas.guideLayer = new Konva.Layer();\r\n        Canvas.highlightLayer = new Konva.Layer();\r\n\r\n        // adding layers to stage\r\n        Canvas.stage.add(Canvas.shapesLayer);\r\n        Canvas.stage.add(Canvas.batchLayer);\r\n        Canvas.stage.add(Canvas.guideLayer);\r\n        Canvas.stage.add(Canvas.highlightLayer);\r\n\r\n        // setting layers indexes - layer positions during drawing\r\n        Canvas.highlightLayer.zIndex(0);\r\n        Canvas.guideLayer.zIndex(0);\r\n        Canvas.batchLayer.zIndex(1);\r\n        Canvas.shapesLayer.zIndex(2);\r\n\r\n        // start drawing layers\r\n        Canvas.shapesLayer.draw();\r\n        Canvas.batchLayer.batchDraw();\r\n        Canvas.guideLayer.draw();\r\n        Canvas.highlightLayer.draw();\r\n\r\n        // bind function for dragmoves for canvas\r\n        Canvas.stage.on('dragmove', () => {\r\n            let boundX = Canvas.screenWidth - Canvas.width * Canvas.currentScale;\r\n            let boundY = Canvas.screenHeight - Canvas.height * Canvas.currentScale;\r\n\r\n            if (Canvas.stage.x() > 0) {\r\n                Canvas.stage.x(0);\r\n            }\r\n            else if (Canvas.stage.x() < boundX) {\r\n                Canvas.stage.x(boundX);\r\n            }\r\n\r\n            if (Canvas.stage.y() > 0) {\r\n                Canvas.stage.y(0);\r\n            }\r\n            else if (Canvas.stage.y() < boundY) {\r\n                Canvas.stage.y(boundY);\r\n            }\r\n        });\r\n\r\n        // bind function for clicks on canvas\r\n        Canvas.stage.on(\"click\", () => {\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.NONE) {\r\n                return;\r\n            }\r\n\r\n            let clickPosition = Canvas.shapesLayer.getRelativePointerPosition();\r\n            let clickX: number;\r\n            let clickY: number;\r\n\r\n            if (Canvas.currentGuideLineX) { clickX = Canvas.currentGuideLineX; }\r\n            else { clickX = clickPosition.x; }\r\n\r\n            if (Canvas.currentGuideLineY) { clickY = Canvas.currentGuideLineY; }\r\n            else { clickY = clickPosition.y; }\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.COMPLEX_SHAPE) {\r\n                ComplexShapeCreator.clickedOnCanvas(clickX, clickY, Canvas.shapeIdCounter);\r\n            }\r\n            else {\r\n                CanvasManagerInterface.clickedOnCanvas(clickX, clickY);\r\n            }\r\n        });\r\n\r\n        // bind function for mouse move on canvas\r\n        Canvas.stage.on(\"mousemove\", () => {\r\n            let click = Canvas.batchLayer.getRelativePointerPosition();\r\n\r\n            Canvas.findGuideLines(click.x, click.y);\r\n\r\n            if (Canvas.drawPromptingShapes) {\r\n                if (Canvas.promptingShapeStartPoint !== null || Canvas.currentlyComplexShape == ComplexShapeEnum.PERPENDICULAR_LINE || Canvas.currentlyComplexShape == ComplexShapeEnum.PARALLEL_LINE) {\r\n                    Canvas.drawPromptingShape(click.x, click.y);\r\n                }\r\n            }\r\n        });\r\n\r\n        Canvas.stage.on('wheel', (e) => {\r\n            e.evt.preventDefault();\r\n\r\n            let direction = e.evt.deltaY > 0 ? 1 : -1;\r\n            if (e.evt.ctrlKey) {\r\n                direction = -direction;\r\n            }\r\n\r\n            let oldScale = Canvas.stage.scaleX();\r\n            let newScale = Canvas.currentScale + Canvas.SCALING_INCREASE * direction;\r\n\r\n            if (newScale < Canvas.minimalScale) {\r\n                newScale = Canvas.minimalScale;\r\n            }\r\n            else if (newScale > Canvas.maximalScale) {\r\n                newScale = Canvas.maximalScale;\r\n            }\r\n\r\n            Canvas.stage.scale({ x: newScale, y: newScale });\r\n            Canvas.currentScale = newScale;\r\n\r\n            let newPos = {\r\n                x: Canvas.stage.x() + (oldScale - newScale) * Canvas.width * 0.5,\r\n                y: Canvas.stage.y() + (oldScale - newScale) * Canvas.height * 0.5\r\n            }\r\n\r\n            let boundX = Canvas.screenWidth - Canvas.width * newScale;\r\n            let boundY = Canvas.screenHeight - Canvas.height * newScale;\r\n\r\n            if (newPos.x > 0) {\r\n                newPos.x = 0;\r\n            }\r\n            else if (newPos.x < boundX) {\r\n                newPos.x = boundX;\r\n            }\r\n\r\n            if (newPos.y > 0) {\r\n                newPos.y = 0;\r\n            }\r\n            else if (newPos.y < boundY) {\r\n                newPos.y = boundY;\r\n            }\r\n\r\n            Canvas.stage.position(newPos);\r\n        });\r\n\r\n        // clearing guiding lines when mouse leave the canvas\r\n        let canvaObject = document.getElementById(Canvas.containerID);\r\n        canvaObject!.addEventListener(\"mouseleave\", function (event) {\r\n            Canvas.guideLayer.destroyChildren();\r\n            if(!ComplexShapeCreator.displayPolygonMovement$.value) {\r\n                Canvas.batchLayer.destroyChildren();\r\n            }\r\n        }, false);\r\n\r\n        // initializing new canvas\r\n        CanvasManagerInterface.init(screenWidth * Canvas.DIMENSION_MULTIPIER, screenHeight * Canvas.DIMENSION_MULTIPIER, 7,\r\n            this.drawPoint, this.drawLine, this.drawCircle, this.deleteShape, this.setPromptingShapeStartPoint, this.lockUI, this.unlockUI, this.resolveAlert);\r\n\r\n        let greenLine = new Konva.Line({\r\n            points: [0, 0,\r\n                Canvas.DIMENSION_MULTIPIER * screenWidth, 0,\r\n                Canvas.DIMENSION_MULTIPIER * screenWidth, Canvas.DIMENSION_MULTIPIER * screenHeight,\r\n                0, Canvas.DIMENSION_MULTIPIER * screenHeight],\r\n            stroke: '#EBEBEB',\r\n            strokeWidth: 2,\r\n            lineJoin: 'round',\r\n            closed: true\r\n        });\r\n\r\n        Canvas.shapesLayer.add(greenLine);\r\n        greenLine.zIndex(Canvas.POINT_Z_INDEX);\r\n    }\r\n\r\n    private static lockTime = 0;\r\n\r\n    public static lockUI(): void {\r\n        Canvas.blockInterface$.next(true);\r\n        Canvas.lockTime = new Date().getTime();\r\n\r\n        //document.getElementById('block-ui')!.style.display = 'block';\r\n\r\n        console.log(\"LOCKED...\");\r\n    }\r\n\r\n    public static unlockUI(): void {\r\n        Canvas.blockInterface$.next(false);\r\n\r\n        console.log(\"UNLOCKED...\" + (new Date().getTime() - Canvas.lockTime));\r\n    }\r\n\r\n    public static getLastCreatedPointId(): number {\r\n        return Canvas.lastCreatedPointId;\r\n    }\r\n\r\n    public static getLastCreatedSegmentId(): number {\r\n        return Canvas.lastCreatedSegmentId;\r\n    }\r\n\r\n    public static getLastCreatedCircleId(): number {\r\n        return Canvas.lastCreatedCircleId;\r\n    }\r\n\r\n    public static waitForCalculationsProcessed() {\r\n        (function loopSearch() {\r\n            if (Canvas.blockInterface$.value) {\r\n                setTimeout(function () {\r\n                    loopSearch();\r\n                }, 10);\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        })();\r\n    }\r\n\r\n    public static async resolveAlert(alertType: number, content: string) {\r\n        switch (alertType) {\r\n            case 1:\r\n                Canvas.toastrService.success(content, \"\", { timeOut: 3000, progressBar: false });\r\n                break;\r\n            case 2:\r\n                Canvas.toastrService.error(content, \"\", { timeOut: 3000, progressBar: false });\r\n                break;\r\n            case 3:\r\n                Canvas.toastrService.info(content, \"\", { timeOut: 3000, progressBar: false });\r\n                break;\r\n            case 4:\r\n                Canvas.reinit();\r\n                alert(content);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reinitialization of canva. All data are lost.\r\n     */\r\n    public static reinit(): void {\r\n        Canvas.init(Canvas.screenWidth, Canvas.screenHeight, Canvas.containerID, Canvas.toastrService);\r\n        CanvasManagerInterface.clearCanvas();\r\n    }\r\n\r\n    /**\r\n     * Getting width of canvas.\r\n     * @returns width of canvas\r\n     */\r\n    public static getWidth(): number {\r\n        return Canvas.width;\r\n    }\r\n\r\n    public static getScreenWidth(): number {\r\n        return Canvas.screenWidth;\r\n    }\r\n\r\n    /**\r\n     * Getting height of canvas.\r\n     * @returns height of canvas\r\n     */\r\n    public static getHeight(): number {\r\n        return Canvas.height;\r\n    }\r\n\r\n    public static getScreenHeight(): number {\r\n        return Canvas.screenHeight;\r\n    }\r\n\r\n    /**\r\n     * Setting type of currently created shape.\r\n     * @param shape - shape type to set\r\n     */\r\n    public static setCurrentyCreatedShape(shape: ShapeToCreateEnum): void {\r\n        Canvas.currentlyCreatedShape = shape;\r\n        CanvasManagerInterface.setCurrentlyCreatedShape(shape);\r\n    }\r\n\r\n    /**\r\n     * Getting type of currently created shape.\r\n     * @returns type of currently created shape\r\n     */\r\n    public static getCurrentyCreatedShape(): ShapeToCreateEnum {\r\n        return Canvas.currentlyCreatedShape;\r\n    }\r\n\r\n    /**\r\n     * Setting type of currently created complex shape.\r\n     * @param shape - shape type to set\r\n     */\r\n    public static setCurrentlyComplexShape(shape: ComplexShapeEnum): void {\r\n        Canvas.currentlyComplexShape = shape;\r\n    }\r\n\r\n    /**\r\n     * Getting type of currently created complex shape.\r\n     * @returns type of currently created complex shape\r\n     */\r\n    public static getCurrentlyComplexShape(): ComplexShapeEnum {\r\n        return Canvas.currentlyComplexShape;\r\n    }\r\n\r\n    /**\r\n     * Getting currently shape ID counter.\r\n     * @returns currently shape ID counter\r\n     */\r\n    public static getShapeIdCounter(): number {\r\n        return Canvas.shapeIdCounter;\r\n    }\r\n\r\n    /**\r\n     * Getting currently point ID counter.\r\n     * @returns currently point ID counter\r\n     */\r\n    public static getPointIdCounter(): number {\r\n        return Canvas.pointIdCounter;\r\n    }\r\n\r\n    /**\r\n     * Setting start point of prompting shape.\r\n     * @param x X coordinate of start point of prompting shape\r\n     * @param y Y coordinate of start point of prompting shape\r\n     */\r\n    public static setPromptingShapeStartPoint(set: boolean, x: number, y: number): void {\r\n        if (set) {\r\n            Canvas.promptingShapeStartPoint = [x, y];\r\n        }\r\n        else {\r\n            Canvas.promptingShapeStartPoint = null;\r\n            Canvas.batchLayer.destroyChildren();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset of prompting shape start point. It set value of Canvas.promptingShapeStartPoint to null.\r\n     */\r\n    public static resetPromptingStartPoint(): void {\r\n        Canvas.promptingShapeStartPoint = null;\r\n        Canvas.batchLayer.destroyChildren();\r\n    }\r\n\r\n    /**\r\n     * Setting base of prompting line.\r\n     * @param equation array with cooeficients of line equation\r\n     */\r\n    public static setBaseToPromptingLine(equation: [number | null, number] | null): void {\r\n        Canvas.baseToPromptingLine = equation;\r\n    }\r\n\r\n    /**\r\n     * Getting shape by ID\r\n     * @param id ID of shape to get\r\n     * @returns shape with given ID\r\n     */\r\n    public static getShape(id: number): any {\r\n        return Canvas.stage.find('#id' + id)[0];\r\n    }\r\n\r\n    /**\r\n     * Deletion of shape.\r\n     * @param id ID of shape to delete\r\n     */\r\n    public static deleteShape(id: number): void {\r\n        Canvas.shapesLayer.find('#id' + id)[0].destroy();\r\n    }\r\n\r\n    /**\r\n     * Clearing batch layer.\r\n     */\r\n    public static clearBatchLayer(): void {\r\n        Canvas.batchLayer.destroyChildren();\r\n        Canvas.promptingShapeStartPoint = null;\r\n    }\r\n\r\n    public static getSegmentEnds(id: number): [number, number] {\r\n        let segment = Canvas.getShape(id);\r\n        let endCoords = segment.getAttr('points');\r\n        let end1 = [endCoords[0], endCoords[1]];\r\n        let end2 = [endCoords[2], endCoords[3]];\r\n\r\n        let result: [number, number] = [0, 0];\r\n\r\n        for (let i = 1; i < Canvas.shapeIdCounter; i++) {\r\n            try {\r\n                let shape = Canvas.getShape(i);\r\n                if (Math.abs(shape.getAttr('x') - end1[0]) < 1 && Math.abs(shape.getAttr('y') - end1[1]) < 1) {\r\n                    result[0] = i;\r\n                }\r\n                else if (Math.abs(shape.getAttr('x') - end2[0]) < 1 && Math.abs(shape.getAttr('y') - end2[1]) < 1) {\r\n                    result[1] = i;\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Drawing point on canvas.\r\n     * @param x_coordinate X coordinate of creating point\r\n     * @param y_coordinate Y coordinate of creating point\r\n     * @param id shape ID to set\r\n     */\r\n    public static drawPoint(id: number, x_coordinate: number, y_coordinate: number): void {\r\n        let shape = new Konva.Circle({\r\n            id: \"id\" + id,\r\n            x: x_coordinate,\r\n            y: y_coordinate,\r\n            fill: Appearance.basicShapesColor,\r\n            radius: Appearance.pointRadius,\r\n            hitStrokeWidth: Appearance.pointHitStrokeWidth,\r\n        })\r\n\r\n        // bind function for mouse over a point\r\n        shape.on(\"mouseover\", function () {\r\n            Canvas.drawGuideLines = false;\r\n\r\n            shape.radius(Appearance.mouseoverPointRadius);\r\n            shape.fill(Appearance.mouseoverShapesColor);\r\n\r\n            Canvas.drawPromptingShapes = false;\r\n            if (!(Canvas.promptingShapeStartPoint === null)) {\r\n                Canvas.drawPromptingShape(shape.getAttr('x'), shape.getAttr('y'));\r\n            }\r\n            else if (Canvas.currentlyComplexShape == ComplexShapeEnum.PERPENDICULAR_LINE) {\r\n                Canvas.drawPromptingShape(shape.getAttr('x'), shape.getAttr('y'));\r\n            }\r\n            else if (Canvas.currentlyComplexShape == ComplexShapeEnum.PARALLEL_LINE) {\r\n                Canvas.drawPromptingShape(shape.getAttr('x'), shape.getAttr('y'));\r\n            }\r\n        });\r\n\r\n        // bind function for mouse out a point\r\n        shape.on(\"mouseout\", function () {\r\n            Canvas.drawGuideLines = true;\r\n\r\n            if (!(Canvas.activatedShapes.includes(shape.getAttr('id')))) {\r\n                shape.radius(Appearance.pointRadius);\r\n                shape.fill(Appearance.basicShapesColor);\r\n            }\r\n            else {\r\n                shape.radius(Appearance.activatedPointRadius);\r\n                shape.fill(Appearance.activatedShapesColor);\r\n            }\r\n\r\n            Canvas.drawPromptingShapes = true;\r\n        });\r\n\r\n        // bind function for mouse click on point\r\n        shape.on(\"click\", function (evt) {\r\n            evt.cancelBubble = true;\r\n\r\n            Canvas.drawPromptingShapes = true;\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.NONE) {\r\n                return;\r\n            }\r\n            else if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.COMPLEX_SHAPE) {\r\n                //ComplexShapeCreator.clickedOnPoint(shape.getAttr('id'));\r\n                ComplexShapeCreator.clickedOnPoint(parseInt(shape.getAttr('id').substr(2)));\r\n            }\r\n            else {\r\n                CanvasManagerInterface.clickedOnPoint(parseInt(shape.getAttr('id').substr(2)));\r\n            }\r\n\r\n        });\r\n\r\n        // creating point name text if variable showPointLabels is true\r\n        if (Appearance.showPointLabels) {\r\n            let pointName = Canvas.createPointName();\r\n            let nameText = new Konva.Text({\r\n                id: \"txt\" + id,\r\n                x: x_coordinate + 5,\r\n                y: y_coordinate + 5,\r\n                text: pointName,\r\n                fontSize: Appearance.textSize,\r\n                fontFamily: Appearance.textFont,\r\n                fontStyle: Appearance.textFontStyle,\r\n                fill: Appearance.textColor,\r\n                draggable: true,\r\n            });\r\n\r\n            // bind funtion for mouse over a text\r\n            nameText.on(\"mouseover\", function () {\r\n                nameText.fill(Appearance.mouseoverShapesColor);\r\n                nameText.fontStyle(\"bold\");\r\n            });\r\n\r\n            // bind function for mouse out a text\r\n            nameText.on(\"mouseout\", function () {\r\n                nameText.fill(Appearance.textColor);\r\n                nameText.fontStyle(Appearance.textFontStyle);\r\n            });\r\n\r\n            // add text to layer\r\n\r\n            Canvas.shapesLayer.add(nameText);\r\n            nameText.zIndex(Canvas.TEXT_Z_INDEX);\r\n\r\n            // save point name in pointNames array\r\n            Canvas.pointNames[id] = pointName;\r\n        }\r\n\r\n        if (x_coordinate >= 0 && x_coordinate <= Canvas.getWidth() && y_coordinate >= 0 && y_coordinate <= Canvas.getHeight()) {\r\n            Canvas.guideLineX.push(x_coordinate);\r\n            Canvas.guideLineY.push(y_coordinate);\r\n        }\r\n\r\n        // add shape to layer\r\n\r\n        Canvas.shapesLayer.add(shape);\r\n        shape.setAttr('objectType', 'POINT');\r\n        shape.zIndex(Canvas.POINT_Z_INDEX);\r\n        Canvas.pointIdCounter += 1;\r\n        Canvas.shapeIdCounter += 1;\r\n\r\n        Canvas.lastCreatedPointId = id;\r\n\r\n        Canvas.shapesLayer.draw();\r\n    }\r\n\r\n    /**\r\n     * Drawing segment on canvas.\r\n     * @param x1_coordinate X coordinate of first segment end\r\n     * @param y1_coordinate Y coordinate of first segment end\r\n     * @param x2_coordinate X coordinate of second segment end\r\n     * @param y2_coordinate Y coordinate of second segment end\r\n     * @param id shape ID to set\r\n     */\r\n    public static drawLine(id: number, x1_coordinate: number, y1_coordinate: number, x2_coordinate: number, y2_coordinate: number): void {\r\n        let shape = new Konva.Line({\r\n            id: \"id\" + id,\r\n            points: [x1_coordinate, y1_coordinate, x2_coordinate, y2_coordinate],\r\n            stroke: Appearance.basicShapesColor,\r\n            strokeWidth: Appearance.linesStrokeWidth,\r\n            hitStrokeWidth: Appearance.linesHitStrokeWidth,\r\n            lineCap: (Appearance.linesCap as CanvasLineCap),\r\n            lineJoin: (Appearance.linesJoin as CanvasLineJoin),\r\n        });\r\n\r\n        // bind funtion for mouse over a line\r\n        shape.on(\"mouseover\", function () {\r\n            shape.strokeWidth(Appearance.mouseoverLinesStrokeWidth);\r\n            shape.stroke(Appearance.mouseoverShapesColor);\r\n\r\n            let clickPosition = Canvas.shapesLayer.getRelativePointerPosition();\r\n            let clickX: number;\r\n            let clickY: number;\r\n\r\n            if (Canvas.currentGuideLineX) { clickX = Canvas.currentGuideLineX; }\r\n            else { clickX = clickPosition.x; }\r\n\r\n            if (Canvas.currentGuideLineY) { clickY = Canvas.currentGuideLineY; }\r\n            else { clickY = clickPosition.y; }\r\n\r\n            if (!(Canvas.promptingShapeStartPoint === null)) {\r\n                Canvas.drawPromptingShape(clickX, clickY);\r\n            }\r\n        });\r\n\r\n        // bind funtion for mouse out a line\r\n        shape.on(\"mouseout\", function () {\r\n            if (!(Canvas.activatedShapes.includes(shape.getAttr('id')))) {\r\n                shape.strokeWidth(Appearance.linesStrokeWidth);\r\n                shape.stroke(Appearance.basicShapesColor);\r\n            }\r\n            else {\r\n                shape.strokeWidth(Appearance.activatedLinesStrokeWidth);\r\n                shape.stroke(Appearance.activatedShapesColor);\r\n            }\r\n        });\r\n\r\n        // bind function for mouse click on line\r\n        shape.on(\"click\", function (evt) {\r\n            evt.cancelBubble = true;\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.NONE)\r\n                return;\r\n\r\n            let clickPosition = Canvas.shapesLayer.getRelativePointerPosition();\r\n            let clickX: number;\r\n            let clickY: number;\r\n\r\n            if (Canvas.currentGuideLineX) { clickX = Canvas.currentGuideLineX; }\r\n            else { clickX = clickPosition.x; }\r\n\r\n            if (Canvas.currentGuideLineY) { clickY = Canvas.currentGuideLineY; }\r\n            else { clickY = clickPosition.y; }\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.COMPLEX_SHAPE) {\r\n                ComplexShapeCreator.clickedOnLine(parseInt(shape.getAttr('id').substr(2)), clickX, clickY, Canvas.shapeIdCounter);\r\n            }\r\n            else {\r\n                CanvasManagerInterface.clickedOnSegment(parseInt(shape.getAttr('id').substr(2)), clickX, clickY);\r\n            }\r\n        });\r\n\r\n        // add shape to layer\r\n\r\n        Canvas.shapesLayer.add(shape);\r\n        shape.setAttr('objectType', 'SEGMENT');\r\n        shape.zIndex(Canvas.LINE_Z_INDEX);\r\n        Canvas.shapeIdCounter += 1;\r\n\r\n        Canvas.lastCreatedSegmentId = id;\r\n\r\n        Canvas.shapesLayer.draw();\r\n    }\r\n\r\n    /**\r\n     * Drawing circle on canvas.\r\n     * @param x_coordinate X coordinate of circle center\r\n     * @param y_coordinate Y coordinate of circle center\r\n     * @param radius circle radius length\r\n     * @param id shape ID to set\r\n     */\r\n    public static drawCircle(id: number, x_coordinate: number, y_coordinate: number, radius: number): void {\r\n        let shape = new Konva.Arc({\r\n            id: \"id\" + id,\r\n            x: x_coordinate,\r\n            y: y_coordinate,\r\n            radius: radius,\r\n            innerRadius: radius,\r\n            outerRadius: radius,\r\n            angle: 360,\r\n            rotation: 0,\r\n            strokeWidth: Appearance.linesStrokeWidth,\r\n            stroke: Appearance.basicShapesColor,\r\n            fillEnabled: false,\r\n        });\r\n\r\n        // bind funtion for mouse over a circle\r\n        shape.on(\"mouseover\", function () {\r\n            shape.strokeWidth(4);\r\n            shape.stroke(Appearance.mouseoverShapesColor);\r\n\r\n            let clickPosition = Canvas.shapesLayer.getRelativePointerPosition();\r\n            let clickX: number;\r\n            let clickY: number;\r\n\r\n            if (Canvas.currentGuideLineX) { clickX = Canvas.currentGuideLineX; }\r\n            else { clickX = clickPosition.x; }\r\n\r\n            if (Canvas.currentGuideLineY) { clickY = Canvas.currentGuideLineY; }\r\n            else { clickY = clickPosition.y; }\r\n\r\n            if (!(Canvas.promptingShapeStartPoint === null)) {\r\n                Canvas.drawPromptingShape(clickX, clickY);\r\n            }\r\n        });\r\n\r\n        // bind funtion for mouse out a line\r\n        shape.on(\"mouseout\", function () {\r\n            if (!(Canvas.activatedShapes.includes(shape.getAttr('id')))) {\r\n                shape.strokeWidth(Appearance.linesStrokeWidth);\r\n                shape.stroke(Appearance.basicShapesColor);\r\n            }\r\n            else {\r\n                shape.strokeWidth(Appearance.activatedLinesStrokeWidth);\r\n                shape.stroke(Appearance.activatedShapesColor);\r\n            }\r\n        });\r\n\r\n        // bind funtion for mouse click on circle\r\n        shape.on(\"click\", function (evt) {\r\n            evt.cancelBubble = true;\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.NONE)\r\n                return;\r\n\r\n            let clickPosition = Canvas.shapesLayer.getRelativePointerPosition();\r\n            let clickX: number;\r\n            let clickY: number;\r\n\r\n            if (Canvas.currentGuideLineX) { clickX = Canvas.currentGuideLineX; }\r\n            else { clickX = clickPosition.x; }\r\n\r\n            if (Canvas.currentGuideLineY) { clickY = Canvas.currentGuideLineY; }\r\n            else { clickY = clickPosition.y; }\r\n\r\n            if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.COMPLEX_SHAPE) {\r\n                ComplexShapeCreator.clickedOnCircle(parseInt(shape.getAttr('id').substr(2)), clickX, clickY, Canvas.shapeIdCounter);\r\n            }\r\n            else {\r\n                CanvasManagerInterface.clickedOnCircle(parseInt(shape.getAttr('id').substr(2)), clickX, clickY);\r\n            }\r\n        });\r\n\r\n\r\n        Canvas.shapesLayer.add(shape);\r\n        shape.setAttr('objectType', 'CIRCLE');\r\n        shape.zIndex(Canvas.CIRCLE_Z_INDEX);\r\n        Canvas.shapeIdCounter += 1;\r\n\r\n        Canvas.lastCreatedCircleId = id;\r\n\r\n        Canvas.shapesLayer.draw();\r\n    }\r\n\r\n    /**\r\n     * Creating instance of moving point.\r\n     * @param x_coordinate X coordinate of mpving point\r\n     * @param y_coordinate Y coordinate of moving point\r\n     * @param function_on_move function to apply when moving point is dragged\r\n     */\r\n    public static createMovingPromptingPoint(x_coordinate: number, y_coordinate: number, function_on_move: (x: number, y: number) => [number, number]): void {\r\n        let shape = new Konva.Circle({\r\n            id: 'mp',\r\n            x: x_coordinate,\r\n            y: y_coordinate,\r\n            fill: Appearance.promptingShapesColor,\r\n            radius: Appearance.pointRadius,\r\n            hitStrokeWidth: Appearance.pointHitStrokeWidth,\r\n            draggable: true,\r\n        });\r\n\r\n        shape.on(\"mouseover\", function () {\r\n            shape.radius(Appearance.mouseoverPointRadius);\r\n            shape.fill(Appearance.mouseoverShapesColor);\r\n        });\r\n\r\n        shape.on(\"mouseout\", function () {\r\n            shape.radius(Appearance.pointRadius);\r\n            shape.fill(Appearance.promptingShapesColor);\r\n        });\r\n\r\n        shape.on('dragstart', function () {\r\n            this.moveToTop();\r\n        });\r\n\r\n        shape.on('dragmove', () => {\r\n            let new_coord = function_on_move(shape.getAttr('x'), shape.getAttr('y'));\r\n\r\n            shape.x(new_coord[0]);\r\n            shape.y(new_coord[1]);\r\n\r\n            Canvas.findGuideLines(new_coord[0], new_coord[1]);\r\n        });\r\n\r\n        shape.on('dragend', function () {\r\n            Canvas.findGuideLines(shape.getAttr('x'), shape.getAttr('y'));\r\n            Canvas.guideLayer.destroyChildren();\r\n            if (Canvas.currentGuideLineX) { shape.x(Canvas.currentGuideLineX); }\r\n            if (Canvas.currentGuideLineY) { shape.y(Canvas.currentGuideLineY); }\r\n\r\n            ComplexShapeCreator.setMovingPointCoordinate(shape.getAttr('x'), shape.getAttr('y'));\r\n        });\r\n\r\n\r\n        Canvas.shapesLayer.add(shape);\r\n        shape.zIndex(Canvas.POINT_Z_INDEX);\r\n        Canvas.movingPromptingPoint = shape;\r\n    }\r\n\r\n    /**\r\n     * Deleting created instance of moving point.\r\n     */\r\n    public static deleteMovingPromptingPoint(): void {\r\n        try {\r\n            Canvas.movingPromptingPoint.destroy();\r\n        } catch { }\r\n    }\r\n\r\n    /**\r\n     * Non-blocking waiting for the shape to appear .\r\n     * @param id ID of shape to appear\r\n     */\r\n    public static waitForShapeAppear(id: number): void {\r\n        (function loopSearch() {\r\n            if (Canvas.stage.find('#id' + id)[0]) {\r\n                return;\r\n            }\r\n            else {\r\n                setTimeout(function () {\r\n                    loopSearch();\r\n                }, 10);\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * Activate shapes.\r\n     * @param shape_ids array with shape IDs to activate\r\n     */\r\n    public static activateShapes(shape_ids: number[]): void {\r\n        Canvas.activatedShapes.forEach(element => {\r\n            if (Canvas.shapesLayer.find('#' + element)[0].getAttr('objectType') == 'POINT') {\r\n                Canvas.shapesLayer.find('#' + element)[0].setAttr('fill', Appearance.basicShapesColor);\r\n                Canvas.shapesLayer.find('#' + element)[0].setAttr('radius', Appearance.pointRadius);\r\n            }\r\n            else {\r\n                Canvas.shapesLayer.find('#' + element)[0].setAttr('stroke', Appearance.basicShapesColor);\r\n                Canvas.shapesLayer.find('#' + element)[0].setAttr('strokeWidth', Appearance.linesStrokeWidth);\r\n            }\r\n        });\r\n        shape_ids.forEach(element => {\r\n            if (Canvas.shapesLayer.find('#id' + element)[0].getAttr('objectType') == 'POINT') {\r\n                Canvas.shapesLayer.find('#id' + element)[0].setAttr('fill', Appearance.activatedShapesColor);\r\n                Canvas.shapesLayer.find('#id' + element)[0].setAttr('radius', Appearance.activatedPointRadius);\r\n            }\r\n            else {\r\n                Canvas.shapesLayer.find('#id' + element)[0].setAttr('stroke', Appearance.activatedShapesColor);\r\n                Canvas.shapesLayer.find('#id' + element)[0].setAttr('strokeWidth', Appearance.activatedLinesStrokeWidth);\r\n            }\r\n        });\r\n\r\n        Canvas.activatedShapes = shape_ids.map((element) => { return 'id' + element; });\r\n\r\n    }\r\n\r\n    /**\r\n     * Drawing prompting segment.\r\n     * @param point1_x X coordinate of first segment end\r\n     * @param point1_y Y coordinate of first segment end\r\n     * @param point2_x X coordinate of second segment end\r\n     * @param point2_y Y coordinate of second segment end\r\n     */\r\n    private static drawPromptingSegment(point1_x: number, point1_y: number, point2_x: number, point2_y: number): void {\r\n        Canvas.batchLayer.destroyChildren();\r\n        let shape = new Konva.Line({\r\n            points: [point1_x, point1_y, point2_x, point2_y],\r\n            stroke: Appearance.promptingShapesColor,\r\n            strokeWidth: Appearance.linesStrokeWidth,\r\n            lineCap: (Appearance.linesCap as CanvasLineCap),\r\n            lineJoin: (Appearance.linesJoin as CanvasLineJoin),\r\n        });\r\n\r\n        Canvas.batchLayer.add(shape);\r\n    }\r\n\r\n    /**\r\n     * Drawing prompting shape on base currently mouse position.\r\n     * @param mouse_x_position X coordinate of mouse position\r\n     * @param mouse_y_position Y coordinate of mouse position\r\n     */\r\n    private static drawPromptingShape(mouse_x_position: number, mouse_y_position: number): void {\r\n        if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.SEGMENT) {\r\n            if (Canvas.currentGuideLineX) {\r\n                Canvas.drawPromptingSegment(Canvas.promptingShapeStartPoint![0], Canvas.promptingShapeStartPoint![1],\r\n                    Canvas.currentGuideLineX, mouse_y_position);\r\n            }\r\n            else if (Canvas.currentGuideLineY) {\r\n                Canvas.drawPromptingSegment(Canvas.promptingShapeStartPoint![0], Canvas.promptingShapeStartPoint![1],\r\n                    mouse_x_position, Canvas.currentGuideLineY);\r\n            }\r\n            else {\r\n                Canvas.drawPromptingSegment(Canvas.promptingShapeStartPoint![0], Canvas.promptingShapeStartPoint![1],\r\n                    mouse_x_position, mouse_y_position);\r\n            }\r\n        }\r\n        else if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.LINE) {\r\n            if (Canvas.compareNumbers(Canvas.promptingShapeStartPoint![0], mouse_x_position, 0.1) && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![1], mouse_y_position, 0.1)) {\r\n                return;\r\n            }\r\n\r\n            if (Canvas.currentGuideLineX && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![0], Canvas.currentGuideLineX, 0.1)) {\r\n                Canvas.drawPromptingSegment(Canvas.currentGuideLineX, Canvas.height, Canvas.currentGuideLineX, 0);\r\n            }\r\n            else if (Canvas.currentGuideLineY && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![1], Canvas.currentGuideLineY, 0.1)) {\r\n                Canvas.drawPromptingSegment(Canvas.width, Canvas.currentGuideLineY, 0, Canvas.currentGuideLineY);\r\n            }\r\n            else {\r\n                let x1, x2, y1, y2: number;\r\n                if (Canvas.promptingShapeStartPoint![0] < mouse_x_position) {\r\n                    x1 = Canvas.promptingShapeStartPoint![0];\r\n                    y1 = Canvas.promptingShapeStartPoint![1];\r\n                    x2 = mouse_x_position;\r\n                    y2 = mouse_y_position;\r\n                }\r\n                else {\r\n                    x2 = Canvas.promptingShapeStartPoint![0];\r\n                    y2 = Canvas.promptingShapeStartPoint![1];\r\n                    x1 = mouse_x_position;\r\n                    y1 = mouse_y_position;\r\n                }\r\n\r\n                let a = (y1 - y2) / (x1 - x2);\r\n                let b = y1 - a * x1;\r\n\r\n                x1 = (Canvas.height - b) / a;\r\n                x2 = (-b) / a;\r\n\r\n                if (a > 0) {\r\n                    if (x1 < 0)\r\n                        x1 = 0;\r\n                    if (x2 > Canvas.width)\r\n                        x2 = Canvas.width\r\n                }\r\n                else {\r\n                    if (x2 < 0)\r\n                        x2 = 0;\r\n                    if (x1 > Canvas.width)\r\n                        x1 = Canvas.width\r\n                }\r\n\r\n                Canvas.drawPromptingSegment(x1, a * x1 + b, x2, a * x2 + b);\r\n            }\r\n        }\r\n        else if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.SEMILINE) {\r\n            if (Canvas.compareNumbers(Canvas.promptingShapeStartPoint![0], mouse_x_position, 0.1) && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![1], mouse_y_position, 0.1)) {\r\n                return;\r\n            }\r\n\r\n            if (Canvas.currentGuideLineX && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![0], Canvas.currentGuideLineX, 0.1)) {\r\n                if (Canvas.promptingShapeStartPoint![1] < mouse_y_position)\r\n                    Canvas.drawPromptingSegment(Canvas.currentGuideLineX, Canvas.height, Canvas.currentGuideLineX, Canvas.promptingShapeStartPoint![1]);\r\n                else\r\n                    Canvas.drawPromptingSegment(Canvas.currentGuideLineX, Canvas.promptingShapeStartPoint![1], Canvas.currentGuideLineX, 0);\r\n            }\r\n            else if (Canvas.currentGuideLineY && Canvas.compareNumbers(Canvas.promptingShapeStartPoint![1], Canvas.currentGuideLineY, 0.1)) {\r\n                if (Canvas.promptingShapeStartPoint![0] < mouse_x_position)\r\n                    Canvas.drawPromptingSegment(Canvas.width, Canvas.currentGuideLineY, Canvas.promptingShapeStartPoint![0], Canvas.currentGuideLineY);\r\n                else\r\n                    Canvas.drawPromptingSegment(Canvas.promptingShapeStartPoint![0], Canvas.currentGuideLineY, 0, Canvas.currentGuideLineY);\r\n            }\r\n            else {\r\n                let x1, x2, y1, y2: number;\r\n                if (Canvas.promptingShapeStartPoint![0] < mouse_x_position) {\r\n                    x1 = Canvas.promptingShapeStartPoint![0];\r\n                    y1 = Canvas.promptingShapeStartPoint![1];\r\n                    x2 = mouse_x_position;\r\n                    y2 = mouse_y_position;\r\n                }\r\n                else {\r\n                    x2 = Canvas.promptingShapeStartPoint![0];\r\n                    y2 = Canvas.promptingShapeStartPoint![1];\r\n                    x1 = mouse_x_position;\r\n                    y1 = mouse_y_position;\r\n                }\r\n\r\n                let a = (y1 - y2) / (x1 - x2);\r\n                let b = y1 - a * x1;\r\n\r\n                x1 = (Canvas.height - b) / a;\r\n                x2 = (-b) / a;\r\n\r\n                if (a > 0) {\r\n                    if (x1 < 0)\r\n                        x1 = 0;\r\n                    if (x2 > Canvas.width)\r\n                        x2 = Canvas.width\r\n\r\n                    if (Canvas.promptingShapeStartPoint![0] > mouse_x_position)\r\n                        x1 = Canvas.promptingShapeStartPoint![0]\r\n                    else\r\n                        x2 = Canvas.promptingShapeStartPoint![0]\r\n                }\r\n                else {\r\n                    if (x2 < 0)\r\n                        x2 = 0;\r\n                    if (x1 > Canvas.width)\r\n                        x1 = Canvas.width\r\n\r\n                    if (Canvas.promptingShapeStartPoint![0] > mouse_x_position)\r\n                        x2 = Canvas.promptingShapeStartPoint![0]\r\n                    else\r\n                        x1 = Canvas.promptingShapeStartPoint![0]\r\n                }\r\n\r\n                Canvas.drawPromptingSegment(x1, a * x1 + b, x2, a * x2 + b);\r\n            }\r\n        }\r\n        else if (Canvas.currentlyCreatedShape == ShapeToCreateEnum.CIRCLE) {\r\n            Canvas.batchLayer.destroyChildren();\r\n            let xs = Canvas.promptingShapeStartPoint![0] - mouse_x_position;\r\n            let ys = Canvas.promptingShapeStartPoint![1] - mouse_y_position;\r\n            let r = Math.sqrt(xs * xs + ys * ys)\r\n\r\n            let shape = new Konva.Arc({\r\n                x: Canvas.promptingShapeStartPoint![0],\r\n                y: Canvas.promptingShapeStartPoint![1],\r\n                innerRadius: r,\r\n                outerRadius: r,\r\n                angle: 360,\r\n                strokeWidth: Appearance.linesStrokeWidth,\r\n                stroke: Appearance.promptingShapesColor,\r\n                fillEnabled: false,\r\n            });\r\n\r\n            Canvas.batchLayer.add(shape);\r\n        }\r\n        else if (Canvas.currentlyComplexShape == ComplexShapeEnum.PERPENDICULAR_LINE) {\r\n            Canvas.batchLayer.destroyChildren();\r\n            if (Canvas.baseToPromptingLine) {\r\n                if (Canvas.baseToPromptingLine[0] === null) { // x = b\r\n                    Canvas.drawPromptingSegment(0, mouse_y_position, Canvas.getWidth(), mouse_y_position);\r\n                }\r\n                else if (Canvas.compareNumbers(Canvas.baseToPromptingLine[0], 0, 0.01)) { // y = b\r\n                    Canvas.drawPromptingSegment(mouse_x_position, 0, mouse_x_position, Canvas.getHeight());\r\n                }\r\n                else { // y = ax+b\r\n                    let a = -1 / Canvas.baseToPromptingLine[0];\r\n                    let b = mouse_y_position - a * mouse_x_position;\r\n                    Canvas.drawPromptingSegment(0, b, Canvas.getWidth(), a * Canvas.getWidth() + b);\r\n                }\r\n            }\r\n        }\r\n        else if (Canvas.currentlyComplexShape == ComplexShapeEnum.PARALLEL_LINE) {\r\n            Canvas.batchLayer.destroyChildren();\r\n            if (Canvas.baseToPromptingLine) {\r\n                if (Canvas.baseToPromptingLine[0] === null) { // x = b\r\n\r\n                    Canvas.drawPromptingSegment(mouse_x_position, 0, mouse_x_position, Canvas.getHeight());\r\n                }\r\n                else { // y = ax+b\r\n                    let a = Canvas.baseToPromptingLine[0];\r\n                    let b = mouse_y_position - a * mouse_x_position;\r\n                    Canvas.drawPromptingSegment(0, b, Canvas.getWidth(), a * Canvas.getWidth() + b);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Drawing prompting polygon.\r\n     * @param points array with arrays representing polygon vertices\r\n     */\r\n    public static drawPromptingPolygon(points: [number, number][]): void {\r\n        Canvas.batchLayer.destroyChildren();\r\n\r\n        let polygonPoints = [];\r\n        for (let i = 0; i < points.length; i++) {\r\n            polygonPoints.push(points[i][0]);\r\n            polygonPoints.push(points[i][1]);\r\n        }\r\n\r\n        let shape = new Konva.Line({\r\n            points: polygonPoints,\r\n            stroke: Appearance.promptingShapesColor,\r\n            strokeWidth: 2,\r\n            lineCap: \"round\",\r\n            lineJoin: \"round\",\r\n            closed: true\r\n        });\r\n\r\n        Canvas.batchLayer.add(shape);\r\n    }\r\n\r\n    /**\r\n     * Comparison of numbers in a certain predetermined accuracy \r\n     * @param a first number to compare\r\n     * @param b second number to compare\r\n     * @param epsilon accuracy of comparation\r\n     * @returns true if a is equal b with accuracy epsilon, otherwise false\r\n     */\r\n    public static compareNumbers(a: number, b: number, epsilon: number): boolean {\r\n        return Math.abs(a - b) <= epsilon;\r\n    }\r\n\r\n    public static highlightPoint(x: number, y: number, fillColor: string): void {\r\n        let shape = new Konva.Circle({\r\n            x: x,\r\n            y: y,\r\n            fill: fillColor,\r\n            radius: Appearance.pointRadius,\r\n        });\r\n\r\n        Canvas.highlightLayer.add(shape);\r\n    }\r\n\r\n    public static highlightPolyLine(vertices: [number, number][], closed: boolean, outlineColor: string, fillColor: string | null): void {\r\n        let coordinates: number[] = [];\r\n        vertices.forEach(element => {\r\n            coordinates.push(element[0]);\r\n            coordinates.push(element[1]);\r\n        });\r\n\r\n        var shape = new Konva.Line({\r\n            points: coordinates,\r\n            stroke: outlineColor,\r\n            strokeWidth: Appearance.linesStrokeWidth,\r\n            lineCap: (Appearance.linesCap as CanvasLineCap),\r\n            lineJoin: (Appearance.linesJoin as CanvasLineJoin),\r\n            closed: closed,\r\n        });\r\n\r\n        if (fillColor) {\r\n            shape.fill(fillColor);\r\n        }\r\n\r\n        Canvas.highlightLayer.add(shape);\r\n    }\r\n\r\n    public static highlightAngle(arm1Point: [number, number], vertexPoint: [number, number], arm2Point: [number, number], isConvex: boolean, fillColor: string, ratio: [number, number]): void {\r\n        Canvas.highlightPolyLine([arm1Point, vertexPoint, arm2Point], false, fillColor, null);\r\n        if (arm1Point[0] == arm2Point[0] && arm1Point[1] == arm2Point[1] && arm1Point[0] == vertexPoint[0] && arm1Point[1] == vertexPoint[1]) {\r\n            if (!isConvex) {\r\n                Canvas.highlightCircle(vertexPoint[0], vertexPoint[1], 25, fillColor, null)\r\n            }\r\n        }\r\n        else if (arm1Point[0] != arm2Point[0] || arm1Point[1] != arm2Point[1]) {\r\n            let ratioSum = ratio[0] + ratio[1];\r\n\r\n            let end1X = (ratio[1] * arm1Point[0] + ratio[0] * vertexPoint[0]) / ratioSum;\r\n            let end1Y = (ratio[1] * arm1Point[1] + ratio[0] * vertexPoint[1]) / ratioSum;\r\n            let end2X = (ratio[1] * arm2Point[0] + ratio[0] * vertexPoint[0]) / ratioSum;\r\n            let end2Y = (ratio[1] * arm2Point[1] + ratio[0] * vertexPoint[1]) / ratioSum;\r\n            let controlX: number, controlY: number;\r\n            if (isConvex) {\r\n                controlX = (arm1Point[0] + arm2Point[0]) / 2;\r\n                controlY = (arm1Point[1] + arm2Point[1]) / 2;\r\n            }\r\n            else {\r\n                controlX = 2 * vertexPoint[0] - ((arm1Point[0] + arm2Point[0]) / 2);\r\n                controlY = 2 * vertexPoint[1] - ((arm1Point[1] + arm2Point[1]) / 2);\r\n            }\r\n\r\n            var shape = new Konva.Shape({\r\n                stroke: fillColor,\r\n                strokeWidth: Appearance.linesStrokeWidth,\r\n                sceneFunc: (ctx, s) => {\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(end1X, end1Y);\r\n                    ctx.quadraticCurveTo(\r\n                        controlX, controlY,\r\n                        end2X, end2Y\r\n                    );\r\n                    ctx.fillStrokeShape(s);\r\n                },\r\n            });\r\n\r\n            Canvas.highlightLayer.add(shape);\r\n        }\r\n        else if (!isConvex) {\r\n            let distance = Math.sqrt(Math.pow(arm1Point[0] - vertexPoint[0], 2) + Math.pow(arm1Point[1] - vertexPoint[1], 2));\r\n            let distancePart = distance / (ratio[0] + ratio[1]);\r\n            Canvas.highlightCircle(vertexPoint[0], vertexPoint[1], distancePart * ratio[0], fillColor, null)\r\n        }\r\n    }\r\n\r\n    public static highlightCircle(x: number, y: number, radius: number, outlineColor: string, fillColor: string | null): void {\r\n        let shape = new Konva.Circle({\r\n            x: x,\r\n            y: y,\r\n            radius: radius,\r\n            stroke: outlineColor,\r\n        });\r\n\r\n        if (fillColor) {\r\n            shape.fill(fillColor);\r\n        }\r\n\r\n        Canvas.highlightLayer.add(shape);\r\n    }\r\n\r\n    public static clearHighlightedShapes(): void {\r\n        Canvas.highlightLayer.destroyChildren();\r\n    }\r\n\r\n    /**\r\n     * Creating point name on base current point id counter.\r\n     * @returns point name of currently created point\r\n     */\r\n    private static createPointName(): string {\r\n        let n = Canvas.pointIdCounter;\r\n        let name = Appearance.capitalLetters.charAt(n % Appearance.capitalLetters.length);\r\n\r\n        // if there are more points than letters of the alphabet, add apostrophes \r\n        while (n > (Appearance.capitalLetters.length - 1)) {\r\n            name += \"'\";\r\n            n -= Appearance.capitalLetters.length;\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * Finding and creating guide lines for specific mouse position\r\n     * @param x X coordinate of mouse position\r\n     * @param y Y coordinate of mouse position\r\n     */\r\n    private static findGuideLines(x: number, y: number): void {\r\n        let minimalXdistance = Number.POSITIVE_INFINITY;\r\n        let theBestX = 0;\r\n        let minimalYdistance = Number.POSITIVE_INFINITY;\r\n        let theBestY = 0;\r\n\r\n        Canvas.guideLineX.forEach((val) => {\r\n            let distance = Math.abs(val - x);\r\n            if (distance < minimalXdistance) {\r\n                minimalXdistance = distance;\r\n                theBestX = val;\r\n            }\r\n        });\r\n\r\n        Canvas.guideLineY.forEach((val) => {\r\n            let distance = Math.abs(val - y);\r\n            if (distance < minimalYdistance) {\r\n                minimalYdistance = distance;\r\n                theBestY = val;\r\n            }\r\n        });\r\n\r\n        Canvas.guideLayer.destroyChildren();\r\n\r\n        if (minimalXdistance > Appearance.guideLineOffset) {\r\n            Canvas.currentGuideLineX = null;\r\n        }\r\n        else if (Canvas.drawGuideLines) {\r\n            Canvas.currentGuideLineX = theBestX;\r\n\r\n            let line = new Konva.Line({\r\n                points: [theBestX, 0, theBestX, Canvas.getHeight()],\r\n                stroke: Appearance.guideLinesColor,\r\n                strokeWidth: Appearance.guideLinesStrokeWidth,\r\n                dash: [4, 6],\r\n                lineCap: (Appearance.linesCap as CanvasLineCap),\r\n                lineJoin: (Appearance.linesJoin as CanvasLineJoin),\r\n            });\r\n            Canvas.guideLayer.add(line);\r\n        }\r\n\r\n        if (minimalYdistance > Appearance.guideLineOffset) {\r\n            Canvas.currentGuideLineY = null;\r\n        }\r\n        else if (Canvas.drawGuideLines) {\r\n            Canvas.currentGuideLineY = theBestY;\r\n\r\n            let line = new Konva.Line({\r\n                points: [0, theBestY, Canvas.getWidth(), theBestY],\r\n                stroke: Appearance.guideLinesColor,\r\n                strokeWidth: Appearance.guideLinesStrokeWidth,\r\n                dash: [4, 6],\r\n                lineCap: (Appearance.linesCap as CanvasLineCap),\r\n                lineJoin: (Appearance.linesJoin as CanvasLineJoin),\r\n            });\r\n            Canvas.guideLayer.add(line);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Module contains implementation of DashboardComponent. This is the main component of the application.\r\n * \r\n * @module Dashboard Component\r\n */\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Canvas } from './canvas';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ShapesCreatorComponent } from './shapes-creator/shapes-creator.component';\r\nimport { DependenciesPresenter } from './dependencies-presenter/dependencies-presenter';\r\nimport { SchemeService } from '../services/scheme.service';\r\nimport { UserService } from '../services/user.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  displayShapesCreator = true;\r\n  displayDependenciesPresenter = false;\r\n  uiIsBlocked = true;\r\n\r\n  /**\r\n   * Subscribing BehaviorSubjects from {@link ComplexShapeCreator}.\r\n   * Adding listeners for messages from backend and linking them to functions from {@link Canvas}.\r\n   * Binding ToastrService to alert-messages(alert types: positive, neutral, negative) from backend.\r\n   * @param toastr instance of ToastrService \r\n   */\r\n  constructor(private toastr: ToastrService, public _schemeService: SchemeService, public _userService: UserService) {\r\n    ShapesCreatorComponent.displayShapesCreator$.subscribe(value => {\r\n      this.displayShapesCreator = value;\r\n    });\r\n\r\n    DependenciesPresenter.displayDependenciesPresenter$.subscribe(value => {\r\n      this.displayDependenciesPresenter = value;\r\n    });\r\n\r\n    Canvas.blockInterface$.subscribe(value => {\r\n      this.uiIsBlocked = value;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializng Canvas.\r\n   * Adding window event listener to resize window event - reinitialization of Canvas.\r\n   */\r\n  ngOnInit(): void {\r\n    // initializing canvas\r\n    Canvas.init(\r\n      document.getElementById('canvas')!.clientWidth,\r\n      document.getElementById('canvas')!.clientHeight,\r\n      'canvas', this.toastr);\r\n\r\n    ShapesCreatorComponent.displayShapesCreator$.next(true);\r\n\r\n    // avoid resizing the window to avoid problems with canva \r\n    // when the window size is changed, the new canva is loaded - current data are lost\r\n    window.addEventListener('resize', () => Canvas.reinit(), true);\r\n  }\r\n\r\n  logout() {\r\n    this._userService.logout();\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"uiIsBlocked\" class=\"ui-blocker\"> </div>\r\n<div class=\"d-flex flex-row\" style=\"height: 100%; width: 100%;\">\r\n    <div class=\"d-flex flex-column justify-content-center\" style=\"height: 100%; width: 25%; background-color: #EBEBEB;\">\r\n        <div style=\"height: 15%; margin-top: 5%; margin-bottom: 5%; width: 100%;\">\r\n            <div class=\"d-flex flex-row\" style=\"height: 100%;\">\r\n                <div class=\"d-flex flex-column\" style=\"height: 100%; width: 50%;\">\r\n                    <img style=\"height: 100%; margin-left: 7%; margin-right: 7%;\" src=\"/static/imgs/MeetKundeLogoGray.svg\"\r\n                        alt=\"MeetKunde Logo\" height=\"100%\" width=\"100%\">\r\n                </div>\r\n                <div class=\"container h-100\" style=\"width: 50%;\">\r\n                    <div class=\"d-flex flex-row h-100 justify-content-center align-items-center\">\r\n                        You are logged in as {{_userService.username}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"displayShapesCreator\" style=\"height: 75%; width: 100%;\">\r\n            <app-shapes-creator></app-shapes-creator>\r\n        </div>\r\n        <div *ngIf=\"displayDependenciesPresenter\" style=\"height: 75%; width: 100%;\">\r\n            <app-dependencies-presenter></app-dependencies-presenter>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\"height: 10%;\">\r\n            <button (click)=\"logout()\" class=\"btn my-btn\" style=\"width: 50%; margin-bottom: 10%;\">Log Out</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"d-flex flex-column\" id=\"canvas\"></div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { DependenciesPresenter } from './dependencies-presenter';\r\n\r\n@Component({\r\n  selector: 'app-dependencies-presenter',\r\n  templateUrl: './dependencies-presenter.component.html',\r\n  styleUrls: ['./../dashboard.component.css']\r\n})\r\nexport class DependenciesPresenterComponent implements OnInit {\r\n  dependencyTitle = \"\";\r\n  dependencyDescription = \"\";\r\n  dependenciesReason = \"\";\r\n  choosingTypes = false;\r\n\r\n  dependencyTypes: string[] = DependenciesPresenter.dependencyTypes;\r\n  selectedDependencyTypes: string[] = [... this.dependencyTypes];\r\n\r\n  toggle() {\r\n    this.choosingTypes = !this.choosingTypes;\r\n  }\r\n\r\n  checked(item: string) {\r\n    if (this.selectedDependencyTypes.indexOf(item) != -1) { return true; }\r\n    else { return false; }\r\n  }\r\n\r\n  onChange(target: EventTarget | null, item: string) {\r\n    if ((target as any).checked) { this.selectedDependencyTypes.push(item); }\r\n    else { this.selectedDependencyTypes.splice(this.selectedDependencyTypes.indexOf(item), 1); }\r\n\r\n    DependenciesPresenter.selectedTypes$.next(this.selectedDependencyTypes);\r\n  }\r\n\r\n  constructor() {    \r\n    DependenciesPresenter.selectedTypes$.next(this.selectedDependencyTypes);\r\n\r\n    DependenciesPresenter.dependencyTitle$.subscribe(value => {\r\n      this.dependencyTitle = value;\r\n    });\r\n\r\n    DependenciesPresenter.dependencyDescription$.subscribe(value => {\r\n      this.dependencyDescription = value;\r\n    });\r\n\r\n    DependenciesPresenter.dependencyReason$.subscribe(value => {\r\n      this.dependenciesReason = value;\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  public nextDependency(): void {\r\n    DependenciesPresenter.nextDependency();\r\n  }\r\n\r\n  public cancelPresenting(): void {\r\n    DependenciesPresenter.cancelPresenting();\r\n  }\r\n}\r\n","<div class=\"d-flex justify-content-center\" style=\"height: 100%; width: 100%;\">\r\n    <div class=\"d-flex flex-column justify-content-center\" style=\"text-align: left; height: 100%; width: 100%;\">\r\n        <div class=\"d-flex justify-content-center\">\r\n            <h5>Dependencies Presenter</h5>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div *ngIf=\"choosingTypes\" style=\"overflow-y: scroll;\">\r\n            <div *ngFor=\"let item of dependencyTypes\">\r\n                <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" (change)=\"onChange($event.target, item)\"\r\n                        [checked]=\"checked(item)\">\r\n                    <label style=\"font-size: 75%;\" class=\"form-check-label\">\r\n                        {{item}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"choosingTypes\" class=\"spacer\"></div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <h6 *ngIf=\"!choosingTypes\">{{dependencyTitle}}</h6>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <p *ngIf=\"!choosingTypes\">{{dependencyDescription}}</p>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <p *ngIf=\"!choosingTypes\">{{dependenciesReason}}</p>\r\n        </div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"spacer\"></div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"d-flex justify-content-center\">\r\n            <button (click)=\"nextDependency()\" class=\"btn my-btn\" style=\"width: 50%;\">Next</button>\r\n        </div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"spacer\"></div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"d-flex justify-content-center\">\r\n            <button (click)=\"toggle()\" class=\"btn my-btn\" style=\"width: 50%;\">Choose Types</button>\r\n        </div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"spacer\"></div>\r\n        <div *ngIf=\"choosingTypes\" class=\"d-flex justify-content-center\">\r\n            <button (click)=\"toggle()\" class=\"btn my-btn\" style=\"width: 50%;\">Close Types</button>\r\n        </div>\r\n        <div *ngIf=\"choosingTypes\" class=\"spacer\"></div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"d-flex justify-content-center\">\r\n            <button (click)=\"cancelPresenting()\" class=\"btn my-btn\" style=\"width: 50%;\">Cancel</button>\r\n        </div>\r\n        <div *ngIf=\"!choosingTypes\" class=\"spacer\"></div>\r\n    </div>\r\n</div>","import { Canvas } from \"../canvas\"\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { ShapesCreatorComponent } from \"../shapes-creator/shapes-creator.component\";\r\nimport { Appearance } from \"../appearance\";\r\n\r\n/**\r\n * Enum defined in: compute-service/brain/models.py\r\n */\r\n export enum AngleTypeEnum {\r\n    UNKNOWN,\r\n    CONVEX,\r\n    CONCAVE,\r\n}\r\n\r\nexport enum LineTypeEnum {\r\n    VERTICAL,\r\n    HORIZONTAL,\r\n    SLANTED\r\n}\r\n\r\nexport enum PolygonTypeEnum {\r\n    UNKNOWN,\r\n    ISOSCELES_ACUTE_TRIANGLE,\r\n    EQUILATERAL_TRIANGLE,\r\n    SCALENE_RIGHT_TRIANGLE,\r\n    ISOSCELES_RIGHT_TRIANGLE,\r\n    OBTUSE_ISOSCELES_TRIANGLE,\r\n    SQUARE,\r\n    RECTANGLE,\r\n    REGULAR_POLYGON,\r\n    PARALLELOGRAM,\r\n    KITE,\r\n    RHOMBUS,\r\n    SCALENE_TRAPEZOID,\r\n    ISOSCELES_TRAPEZOID,\r\n    RIGHT_TRAPEZOID\r\n}\r\n\r\n/**\r\n * Enum defined in: compute-service/brain/models.py\r\n */\r\nexport enum DependencyCategoryEnum {\r\n    FORMULA,\r\n    POLYGON_TYPE,\r\n    OF_POINTS_PAIRS,\r\n    OF_LINES,\r\n    OF_CIRCLES,\r\n    OF_ANGLES,\r\n    OF_LINE_AND_ANGLE,\r\n    OF_LINE_AND_CIRCLE,\r\n    OF_LINE_AND_POINTS_PAIR,\r\n    OF_CIRCLE_AND_POLYGON,\r\n    OF_POINTS_PAIRS_PAIR_AND_POINTS_PAIR,\r\n    OF_POLYGONS\r\n}\r\n\r\nexport enum DependencyTypeEnum {\r\n    SEGMENT_LENGTH,\r\n    ANGLE_VALUE,\r\n    EQUATION,\r\n    POLYGON_TYPE,\r\n    EQUAL_SEGMENTS,\r\n    EQUAL_ANGLES,\r\n    PERPENDICULAR_LINES,\r\n    PARALLEL_LINES,\r\n    TANGENT_LINE_TO_CIRCLE,\r\n    TANGENT_CIRCLE_TO_CIRCLE,\r\n    BISECTOR_LINE,\r\n    MID_PERPENDICULAR_LINE,\r\n    INSCRIBED_CIRCLE,\r\n    CIRCUMSCRIBED_CIRCLE,\r\n    ESCRIBED_CIRCLE,\r\n    MEDIAN,\r\n    ALTITUDE,\r\n    MID_SEGMENT,\r\n    SIMILAR_TRIANGLES,\r\n    CONGRUENT_TRIANGLES\r\n}\r\n\r\n/**\r\n * Enum defined in: compute-service/brain/models.py\r\n */\r\n export enum DependencyReasonEnum {\r\n    NONE,\r\n    USER_DEFINED,\r\n    DIVIDED_SEGMENT,\r\n    MID_PERPENDICULAR,\r\n    TANGENT_TO_CIRCLE,\r\n    TANGENT_TO_LINE,\r\n    ALTITUDE,\r\n    MEDIAN,\r\n    MID_SEGMENT,\r\n    BISECTOR,\r\n    INSCRIBED_CIRCLE,\r\n    CIRCUMSCRIBED_CIRCLE,\r\n    ESCRIBED_CIRCLE,\r\n    SQUARE,\r\n    SQUARE_DIAGONAL,\r\n    RECTANGLE,\r\n    RECTANGLE_DIAGONAL,\r\n    REGULAR_POLYGON,\r\n    PARALLELOGRAM,\r\n    PARALLELOGRAM_DIAGONAL,\r\n    KITE,\r\n    KITE_DIAGONAL,\r\n    RHOMBUS,\r\n    RHOMBUS_DIAGONAL,\r\n    ISOSCELES_ACUTE_TRIANGLE,\r\n    EQUILATERAL_TRIANGLE,\r\n    SCALENE_RIGHT_TRIANGLE,\r\n    ISOSCELES_RIGHT_TRIANGLE,\r\n    OBTUSE_ISOSCELES_TRIANGLE,\r\n    SCALENE_TRAPEZOID,\r\n    ISOSCELES_TRAPEZOID,\r\n    ISOSCELES_TRAPEZOID_DIAGONAL,\r\n    RIGHT_TRAPEZOID,\r\n    POINTS_ARE_THE_SAME,\r\n    ARMS_ARE_THE_SAME,\r\n    VERTICAL_ANGLES,\r\n    SUPPLEMENTARY_ANGLES,\r\n    ALTERNATE_ANGLES,\r\n    CORRESPONDING_ANGLES,\r\n    PERPENDICULAR_LINES,\r\n    PARALLEL_LINES,\r\n    PARALLELISM_TRANSITIVITY,\r\n    PERPENDICULARITIES_COMPOSITION,\r\n    PERPENDICULARITY_AND_PARALLELISM_COMPOSITION,\r\n    RIGHT_ANGLE,\r\n    SUM_OF_ANGLES_IN_TRIANGLE,\r\n    SIMILAR_TRIANGLES,\r\n    SIDE_SIDE_SIDE,\r\n    ANGLE_ANGLE_ANGLE,\r\n    CONGRUENT_TRIANGLES,\r\n    SIDE_ANGLE_SIDE,\r\n    ANGLE_SIDE_ANGLE,\r\n    SAME_ARMS,\r\n\tFUNDAMENTAL_THEORY_OF_GEOMETRY\r\n}\r\n\r\nexport enum UsefullnessLevel {\r\n    LOW,\r\n    MEDIUM,\r\n    HIGH\r\n}\r\n\r\nexport interface IdHolder {\r\n    id: number;\r\n}\r\n\r\n/**\r\n * PointModel defined in web-app/canvas-manager/canvas/main_canvas.py in function process_data\r\n */\r\nexport interface PointModel {\r\n    id: number;\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport interface PointModelRecord {\r\n    ID: number;\r\n    object: PointModel;\r\n}\r\n\r\n/**\r\n * LineModel defined in web-app/canvas-manager/canvas/main_canvas.py in function process_data\r\n */\r\nexport interface LineModel {\r\n    id: number;\r\n    a: number;\r\n    b: number;\r\n    end1ID: number;\r\n    end2ID: number;\r\n    type: LineTypeEnum;\r\n    pointsOn: number[];\r\n}\r\n\r\nexport interface LineModelRecord {\r\n    ID: number;\r\n    object: LineModel;\r\n}\r\n\r\n/**\r\n * CircleModel defined in web-app/canvas-manager/canvas/main_canvas.py in function process_data\r\n */\r\nexport interface CircleModel {\r\n    id: number;\r\n    centerId: number;\r\n    centerX: number;\r\n    centerY: number;\r\n    radius: number;\r\n    pointsOn: number[];\r\n}\r\n\r\nexport interface CircleModelRecord {\r\n    ID: number;\r\n    object: CircleModel;\r\n}\r\n\r\nexport interface AngleModel {\r\n    point1Id: number;\r\n    vertexId: number;\r\n    point2Id: number;\r\n    type: AngleTypeEnum;\r\n}\r\n\r\nexport interface PointsPairModel {\r\n    end1Id: number;\r\n    end2Id: number;\r\n}\r\n\r\nexport interface Formula {\r\n    value: string;\r\n    variables: string[];\r\n}\r\n\r\nexport interface PolygonModel {\r\n    verticesIds: number[];\r\n}\r\n\r\nexport interface ModelsPairModel<Type> {\r\n    first: Type;\r\n    second: Type;\r\n}\r\n\r\nexport interface DependencyRecord<Type1, Type2> {\r\n    object1: Type1;\r\n    object2: Type2;\r\n    id: number;\r\n    category: DependencyCategoryEnum;\r\n    type: DependencyTypeEnum;\r\n    reason: DependencyReasonEnum;\r\n    basedOn: number[];\r\n    usefullness: UsefullnessLevel;\r\n}\r\n\r\nexport interface Intersections {\r\n    line_line: number[][][];\r\n    circle_circle: number[][][];\r\n    line_circle: number[][][];\r\n    points_on_line_line: [number, number][][];\r\n    points_on_circle_circle: [number, number][][];\r\n    points_on_line_circle: [number, number][][];\r\n}\r\n\r\nexport interface Dependencies {\r\n    type: DependencyTypeEnum;\r\n    dependencies: (\r\n        DependencyRecord<Formula, Formula> |\r\n        DependencyRecord<PolygonModel, PolygonTypeEnum> |\r\n        DependencyRecord<IdHolder, IdHolder> |\r\n        DependencyRecord<PointsPairModel, PointsPairModel> |\r\n        DependencyRecord<AngleModel, AngleModel> |\r\n        DependencyRecord<IdHolder, AngleModel> |\r\n        DependencyRecord<IdHolder, PolygonModel> |\r\n        DependencyRecord<IdHolder, PointsPairModel> |\r\n        DependencyRecord<PolygonModel, PolygonModel> |\r\n        DependencyRecord<ModelsPairModel<PointsPairModel>, PointsPairModel>\r\n    )[];\r\n}\r\n\r\nexport interface VariableIndexes {\r\n    name: string;\r\n    ids: [number, number] | [number, number, number, number];\r\n}\r\n\r\n/**\r\n * ProcessedDataModel represents result data model defined in web-app/canvas-manager/canvas/main_canvas.py in function process_data\r\n */\r\nexport interface ProcessedDataModel {\r\n    points: PointModelRecord[];\r\n    lines: LineModelRecord[];\r\n    circles: CircleModelRecord[];\r\n    intersections: Intersections;\r\n    dependencies: Dependencies[];\r\n    indexes_of_variables: VariableIndexes[];\r\n}\r\n\r\nexport function createPointName(id: number): string {\r\n    let letters = \"ABCDEFGHIJKLMNOPQRSTUWVXYZ\";\r\n    let name = letters.charAt(id % letters.length);\r\n\r\n    // if there are more points than letters of the alphabet, add apostrophes \r\n    while (id > (letters.length - 1)) {\r\n        name += \"'\";\r\n        id -= letters.length;\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\nexport function createLineName(id: number): string {\r\n    let letters = \"abcdefghijklmnopqrstuwvxyz\";\r\n    let name = letters.charAt(id % letters.length);\r\n\r\n    // if there are more points than letters of the alphabet, add apostrophes \r\n    while (id > (letters.length - 1)) {\r\n        name += \"'\";\r\n        id -= letters.length;\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\nexport function createCircleName(id: number): string {\r\n    return \"circle with id = \" + id;\r\n} \r\n\r\nexport function createSegmentName(end1Id: number, end2Id:  number): string {\r\n    return createPointName(end1Id) + createPointName(end2Id);\r\n}\r\n\r\nexport function createAngleName(point1Id: number, vertexId: number, point2Id: number, type: AngleTypeEnum): string {\r\n    return createPointName(point1Id) + createPointName(vertexId) + createPointName(point2Id) + \"[\" + AngleTypeEnum[type] + \"]\";\r\n}\r\n\r\nexport function createPolygonName(polygon: number[]): string {\r\n    let name = \"\";\r\n    for(let i = 0; i < polygon.length; i++) {\r\n        name += createPointName(polygon[i]);\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\nexport class DependenciesPresenter {\r\n    public static displayDependenciesPresenter$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    public static dependencyTitle$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n    public static dependencyDescription$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n    public static dependencyReason$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n\r\n    public static dependencyTypes: string[] = Object.keys(DependencyTypeEnum).filter((v) => isNaN(Number(v)));\r\n    public static selectedTypes$: BehaviorSubject<string[]> = new BehaviorSubject<string[]>(DependenciesPresenter.dependencyTypes);\r\n\r\n    private static dataModel: ProcessedDataModel;\r\n\r\n    private static points: PointModelRecord[];\r\n    private static lines: LineModelRecord[];\r\n    private static circles: CircleModelRecord[];\r\n\r\n    private static dependenciesArray: (\r\n        DependencyRecord<Formula, Formula> |\r\n        DependencyRecord<PolygonModel, PolygonTypeEnum> |\r\n        DependencyRecord<IdHolder, IdHolder> |\r\n        DependencyRecord<PointsPairModel, PointsPairModel> |\r\n        DependencyRecord<AngleModel, AngleModel> |\r\n        DependencyRecord<IdHolder, AngleModel> |\r\n        DependencyRecord<IdHolder, PolygonModel> |\r\n        DependencyRecord<IdHolder, PointsPairModel> |\r\n        DependencyRecord<PolygonModel, PolygonModel> |\r\n        DependencyRecord<ModelsPairModel<PointsPairModel>, PointsPairModel>\r\n    )[];\r\n            \r\n    private static dependenciesArrayLength: number;\r\n    private static currentIndex: number;\r\n\r\n    private static highlightColors: string[];\r\n\r\n    private static targetUsefullness: UsefullnessLevel[];\r\n\r\n    private static variableToIndexes: { [key: string] : [number, number] | [number, number, number, number]; }\r\n\r\n    private static getRandomInt(min: number, max: number): number {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n\r\n    private static getRandomColors(colorsNumber: number): string[] {\r\n        let variousIndexes: number[] = [];\r\n        let result: string[] = [];\r\n        let index: number;\r\n        let n = DependenciesPresenter.highlightColors.length - 1;\r\n\r\n        for(let i = 0; i < colorsNumber; i++) {\r\n            do {\r\n                index = DependenciesPresenter.getRandomInt(0, n);\r\n            } while (variousIndexes.includes(index));\r\n\r\n            variousIndexes.push(index);\r\n        }\r\n\r\n        for(let i = 0; i < colorsNumber; i++) {\r\n            result.push(DependenciesPresenter.highlightColors[variousIndexes[i]]);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static presentDependencies(data: ProcessedDataModel): void {\r\n        DependenciesPresenter.dataModel = data;\r\n        DependenciesPresenter.points = data.points;\r\n        DependenciesPresenter.lines = data.lines;\r\n        DependenciesPresenter.circles = data.circles;\r\n\r\n        DependenciesPresenter.selectedTypes$.next(DependenciesPresenter.dependencyTypes);\r\n        ShapesCreatorComponent.displayShapesCreator$.next(false);\r\n        DependenciesPresenter.displayDependenciesPresenter$.next(true);\r\n        DependenciesPresenter.dependencyTitle$.next(\"\");\r\n        DependenciesPresenter.dependencyDescription$.next(\"\");\r\n        DependenciesPresenter.dependencyReason$.next(\"\");\r\n\r\n        DependenciesPresenter.highlightColors = Appearance.highlightColors;\r\n        DependenciesPresenter.targetUsefullness = [/*UsefullnessLevel.LOW,*/ UsefullnessLevel.MEDIUM, UsefullnessLevel.HIGH];\r\n\r\n        DependenciesPresenter.variableToIndexes = { };\r\n        \r\n        if(data.indexes_of_variables != null) {\r\n            data.indexes_of_variables.forEach(el => {\r\n                DependenciesPresenter.variableToIndexes[el.name] = el.ids;\r\n            });\r\n        }\r\n\r\n        DependenciesPresenter.selectedTypes$.subscribe(newSelectedTypes => {\r\n            let dependencies = DependenciesPresenter.dataModel.dependencies;\r\n            DependenciesPresenter.dependenciesArray = [];\r\n\r\n            dependencies.forEach(e1 => {\r\n                let d = e1.dependencies;\r\n                if(d != null) {\r\n                    d.forEach(e2 => {\r\n                        if(newSelectedTypes.includes(DependencyTypeEnum[e2.type])) {\r\n                            if(DependenciesPresenter.targetUsefullness.includes(e2.usefullness)) {\r\n                                DependenciesPresenter.dependenciesArray.push(e2);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            DependenciesPresenter.dependenciesArrayLength = DependenciesPresenter.dependenciesArray.length;\r\n            DependenciesPresenter.currentIndex = 0;\r\n\r\n            DependenciesPresenter.nextDependency();\r\n        });\r\n    }\r\n\r\n    public static highlightVariables(variables: string[]): void {\r\n        variables.forEach(v => {\r\n            let obj = DependenciesPresenter.variableToIndexes[v]; \r\n            if(obj.length == 2) {\r\n                let lineend1 = DependenciesPresenter.points[obj[0]].object;\r\n                let lineend2 = DependenciesPresenter.points[obj[1]].object;\r\n\r\n                Canvas.highlightPolyLine([[lineend1.x, lineend1.y], [lineend2.x, lineend2.y]], false, DependenciesPresenter.getRandomColors(1)[0], null);\r\n            }\r\n            else { // obj.length == 4\r\n                let angleend1 = DependenciesPresenter.points[obj[0]].object;\r\n                let anglevertex = DependenciesPresenter.points[obj[1]].object;\r\n                let angleend2 = DependenciesPresenter.points[obj[2]].object;\r\n                let angleisConvex = (obj[3] == 0);\r\n\r\n                Canvas.highlightAngle([angleend1.x, angleend1.y], [anglevertex.x, anglevertex.y], [angleend2.x, angleend2.y], angleisConvex, DependenciesPresenter.getRandomColors(1)[0], [1, 2]);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static nextDependency(): void {\r\n        if(DependenciesPresenter.dependenciesArray.length == 0) {\r\n            DependenciesPresenter.dependencyTitle$.next(\"\");\r\n            DependenciesPresenter.dependencyDescription$.next(\"\");\r\n            DependenciesPresenter.dependencyReason$.next(\"\");\r\n        }\r\n        else {\r\n            let dependency = DependenciesPresenter.dependenciesArray[DependenciesPresenter.currentIndex];\r\n\r\n            let line1end1 : PointModel, line1end2 : PointModel, line2end1 : PointModel, line2end2 : PointModel, line3end1 : PointModel, line3end2 : PointModel;\r\n            let angle1end1 : PointModel, angle1vertex : PointModel, angle1end2 : PointModel, angle1isConvex : boolean;\r\n            let angle2end1 : PointModel, angle2vertex : PointModel, angle2end2 : PointModel, angle2isConvex : boolean;\r\n            let polygon1: [number, number][], polygon2 : [number, number][], circle1 : CircleModel, circle2 : CircleModel;\r\n            let colors: string[];\r\n\r\n            if(dependency != null) {\r\n                Canvas.clearHighlightedShapes();\r\n\r\n                DependenciesPresenter.dependencyTitle$.next(DependencyTypeEnum[dependency.type]);\r\n                DependenciesPresenter.dependencyReason$.next('because ' + DependencyReasonEnum[dependency.reason]);\r\n\r\n                switch(dependency.category) {\r\n                    case DependencyCategoryEnum.FORMULA:\r\n                        switch(dependency.type) {\r\n                            case DependencyTypeEnum.SEGMENT_LENGTH:\r\n                                dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                                DependenciesPresenter.highlightVariables(dependency.object1.variables);\r\n                                DependenciesPresenter.highlightVariables(dependency.object2.variables);\r\n                                \r\n                                DependenciesPresenter.dependencyDescription$.next(dependency.object1.value + \" = \" + dependency.object2.value);\r\n                                break;\r\n                            case DependencyTypeEnum.ANGLE_VALUE:\r\n                                dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                                DependenciesPresenter.highlightVariables(dependency.object1.variables);\r\n                                DependenciesPresenter.highlightVariables(dependency.object2.variables);\r\n                                \r\n                                DependenciesPresenter.dependencyDescription$.next(dependency.object1.value + \" = \" + dependency.object2.value);\r\n                                break;\r\n                            case DependencyTypeEnum.EQUATION:\r\n                                dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                                DependenciesPresenter.highlightVariables(dependency.object1.variables);\r\n                                DependenciesPresenter.highlightVariables(dependency.object2.variables);\r\n\r\n                                DependenciesPresenter.dependencyDescription$.next(dependency.object1.value + \" = \" + dependency.object2.value);\r\n                                break;\r\n                            default:\r\n                                alert(\"NIEUWZGLEDNIONA MOZLIWOSC!\");\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case DependencyCategoryEnum.POLYGON_TYPE:\r\n                        dependency = <DependencyRecord<IdHolder, PolygonModel>> dependency;\r\n                        polygon1 = dependency.object2.verticesIds.map((id) => [DependenciesPresenter.points[id].object.x, DependenciesPresenter.points[id].object.y]);\r\n                        colors = DependenciesPresenter.getRandomColors(1);\r\n\r\n                        Canvas.highlightPolyLine(polygon1, true, colors[0], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createPolygonName(dependency.object2.verticesIds) + ' is ' + PolygonTypeEnum[dependency.object1.id]);\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_POINTS_PAIRS:\r\n                        dependency = <DependencyRecord<PointsPairModel, PointsPairModel>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[dependency.object1.end1Id].object;\r\n                        line1end2 = DependenciesPresenter.points[dependency.object1.end2Id].object;\r\n                        line2end1 = DependenciesPresenter.points[dependency.object2.end1Id].object;\r\n                        line2end2 = DependenciesPresenter.points[dependency.object2.end2Id].object;\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightPolyLine([[line2end1.x, line2end1.y], [line2end2.x, line2end2.y]], false, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createSegmentName(dependency.object1.end1Id, dependency.object1.end2Id) + ' and ' + createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_LINES:\r\n                        dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end1ID].object;\r\n                        line1end2 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end2ID].object;\r\n                        line2end1 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object2.id].object.end1ID].object;\r\n                        line2end2 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object2.id].object.end2ID].object;\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightPolyLine([[line2end1.x, line2end1.y], [line2end2.x, line2end2.y]], false, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createLineName(dependency.object1.id) + ' and ' + createLineName(dependency.object2.id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_CIRCLES:\r\n                        dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                        circle1 = DependenciesPresenter.circles[dependency.object1.id].object;\r\n                        circle2 = DependenciesPresenter.circles[dependency.object2.id].object;\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightCircle(circle1.centerX, circle1.centerY, circle1.radius, colors[0], null);\r\n                        Canvas.highlightCircle(circle2.centerX, circle2.centerY, circle2.radius, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createCircleName(dependency.object1.id) + ' and ' + createCircleName(dependency.object2.id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_ANGLES:\r\n                        dependency = <DependencyRecord<AngleModel, AngleModel>> dependency;\r\n                        angle1end1 = DependenciesPresenter.points[dependency.object1.point1Id].object;\r\n                        angle1vertex = DependenciesPresenter.points[dependency.object1.vertexId].object;\r\n                        angle1end2 = DependenciesPresenter.points[dependency.object1.point2Id].object;\r\n                        angle1isConvex = (dependency.object1.type == AngleTypeEnum.CONVEX);\r\n                        angle2end1 = DependenciesPresenter.points[dependency.object2.point1Id].object;\r\n                        angle2vertex = DependenciesPresenter.points[dependency.object2.vertexId].object;\r\n                        angle2end2 = DependenciesPresenter.points[dependency.object2.point2Id].object;\r\n                        angle2isConvex = (dependency.object2.type == AngleTypeEnum.CONVEX);\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightAngle([angle1end1.x, angle1end1.y], [angle1vertex.x, angle1vertex.y], [angle1end2.x, angle1end2.y], angle1isConvex, colors[0], [1, 2]);\r\n                        Canvas.highlightAngle([angle2end1.x, angle2end1.y], [angle2vertex.x, angle2vertex.y], [angle2end2.x, angle2end2.y], angle2isConvex, colors[1], [2, 3]);\r\n                        DependenciesPresenter.dependencyDescription$.next(createAngleName(dependency.object1.point1Id, dependency.object1.vertexId, dependency.object1.point2Id, dependency.object1.type) + ' and ' + createAngleName(dependency.object2.point1Id, dependency.object2.vertexId, dependency.object2.point2Id, dependency.object2.type));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_LINE_AND_ANGLE:\r\n                        dependency = <DependencyRecord<IdHolder, AngleModel>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end1ID].object;\r\n                        line1end2 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end2ID].object;\r\n                        angle2end1 = DependenciesPresenter.points[dependency.object2.point1Id].object;\r\n                        angle2vertex = DependenciesPresenter.points[dependency.object2.vertexId].object;\r\n                        angle2end2 = DependenciesPresenter.points[dependency.object2.point2Id].object;\r\n                        angle2isConvex = (dependency.object2.type == AngleTypeEnum.CONVEX);\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightAngle([angle2end1.x, angle2end1.y], [angle2vertex.x, angle2vertex.y], [angle2end2.x, angle2end2.y], angle2isConvex, colors[1], [2, 3]);\r\n                        DependenciesPresenter.dependencyDescription$.next(createLineName(dependency.object1.id) + ' and ' + createAngleName(dependency.object2.point1Id, dependency.object2.vertexId, dependency.object2.point2Id, dependency.object2.type));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_LINE_AND_CIRCLE:\r\n                        dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end1ID].object;\r\n                        line1end2 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end2ID].object;\r\n                        circle2 = DependenciesPresenter.circles[dependency.object2.id].object;\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightCircle(circle2.centerX, circle2.centerY, circle2.radius, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createLineName(dependency.object1.id) + ' and ' + createCircleName(dependency.object2.id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_LINE_AND_POINTS_PAIR:\r\n                        dependency = <DependencyRecord<IdHolder, PointsPairModel>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end1ID].object;\r\n                        line1end2 = DependenciesPresenter.points[DependenciesPresenter.lines[dependency.object1.id].object.end2ID].object;\r\n                        line2end1 = DependenciesPresenter.points[dependency.object2.end1Id].object;\r\n                        line2end2 = DependenciesPresenter.points[dependency.object2.end2Id].object;\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightPolyLine([[line2end1.x, line2end1.y], [line2end2.x, line2end2.y]], false, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createLineName(dependency.object1.id) + ' and ' + createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_CIRCLE_AND_POLYGON:\r\n                        dependency = <DependencyRecord<IdHolder, PolygonModel>> dependency;\r\n                        circle1 = DependenciesPresenter.circles[dependency.object1.id].object;\r\n                        polygon2 = dependency.object2.verticesIds.map((id) => [DependenciesPresenter.points[id].object.x, DependenciesPresenter.points[id].object.y]);\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightCircle(circle1.centerX, circle1.centerY, circle1.radius, colors[0], null);\r\n                        Canvas.highlightPolyLine(polygon2, true, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createCircleName(dependency.object1.id) + ' and ' + createPolygonName(dependency.object2.verticesIds));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_POINTS_PAIRS_PAIR_AND_POINTS_PAIR:\r\n                        dependency = <DependencyRecord<ModelsPairModel<PointsPairModel>, PointsPairModel>> dependency;\r\n                        line1end1 = DependenciesPresenter.points[dependency.object1.first.end1Id].object\r\n                        line1end2 = DependenciesPresenter.points[dependency.object1.first.end2Id].object\r\n                        line2end1 = DependenciesPresenter.points[dependency.object1.second.end1Id].object\r\n                        line2end2 = DependenciesPresenter.points[dependency.object1.second.end2Id].object\r\n                        line3end1 = DependenciesPresenter.points[dependency.object2.end1Id].object\r\n                        line3end2 = DependenciesPresenter.points[dependency.object2.end2Id].object\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine([[line1end1.x, line1end1.y], [line1end2.x, line1end2.y]], false, colors[0], null);\r\n                        Canvas.highlightPolyLine([[line2end1.x, line2end1.y], [line2end2.x, line2end2.y]], false, colors[0], null);\r\n                        Canvas.highlightPolyLine([[line3end1.x, line3end1.y], [line3end2.x, line3end2.y]], false, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createSegmentName(dependency.object1.first.end1Id, dependency.object1.first.end2Id) + ' with ' + createSegmentName(dependency.object1.second.end1Id, dependency.object1.second.end2Id) + ' and ' + createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id));\r\n                        break;\r\n                    case DependencyCategoryEnum.OF_POLYGONS:\r\n                        dependency = <DependencyRecord<PolygonModel, PolygonModel>> dependency;\r\n                        polygon1 = dependency.object1.verticesIds.map((id) => [DependenciesPresenter.points[id].object.x, DependenciesPresenter.points[id].object.y]);\r\n                        polygon2 = dependency.object2.verticesIds.map((id) => [DependenciesPresenter.points[id].object.x, DependenciesPresenter.points[id].object.y]);\r\n                        colors = DependenciesPresenter.getRandomColors(2);\r\n\r\n                        Canvas.highlightPolyLine(polygon1, true, colors[0], null);\r\n                        Canvas.highlightPolyLine(polygon2, true, colors[1], null);\r\n                        DependenciesPresenter.dependencyDescription$.next(createPolygonName(dependency.object1.verticesIds) + ' and ' + createPolygonName(dependency.object2.verticesIds));\r\n                        break;\r\n                    default:\r\n                        alert(\"NIEUWZGLEDNIONA MOZLIWOSC!!!\");\r\n                        break;\r\n                }\r\n            }\r\n\r\n            DependenciesPresenter.currentIndex = (DependenciesPresenter.currentIndex + 1) % DependenciesPresenter.dependenciesArrayLength;\r\n    \r\n        }\r\n    }\r\n\r\n    public static cancelPresenting(): void {\r\n        Canvas.clearHighlightedShapes();\r\n        DependenciesPresenter.displayDependenciesPresenter$.next(false);\r\n        ShapesCreatorComponent.displayShapesCreator$.next(true);\r\n    }\r\n}","/**\r\n * Module contains a function to display raw data from compute-service as a basic HTML page.\r\n * \r\n * @module Display Processed Data\r\n */\r\n\r\n\r\nimport { AngleTypeEnum, ProcessedDataModel, PointsPairModel, LineTypeEnum, DependencyRecord, DependencyCategoryEnum, DependencyTypeEnum, DependencyReasonEnum, createLineName, createSegmentName, createAngleName, Formula, AngleModel, PolygonModel, PolygonTypeEnum, createPolygonName, IdHolder, createCircleName, ModelsPairModel, UsefullnessLevel } from \"./dependencies-presenter\";\r\n\r\n/**\r\n * Creating HTML page with raw data from compute-service\r\n * @param data information from compute-service\r\n * @param pointNames array representing names of points: pointNames[i] is name of point with \"i\" ID\r\n * @returns HTML code representing created page\r\n */\r\nexport function display_processed_data(data: ProcessedDataModel, pointNames: string[]): string {\r\n    let newPointNames: { [id: number]: number; } = {};\r\n\r\n    let points_html_string = \"\";\r\n    if (data['points'] != null) {\r\n        for (var point of data['points']) {\r\n            newPointNames[point['ID']] = point.object['id'];\r\n\r\n            points_html_string += `\r\n                <h4>ID ${point['ID']} = ${pointNames[point.object['id']]}:</h4> \r\n                <p>id = ${point.object['id']}</p>\r\n                <p>(${point.object['x']}, ${point.object['y']})</p><br>`\r\n        }\r\n    }\r\n\r\n    let lines_html_string = \"\";\r\n    if (data['lines'] != null) {\r\n        for (var line of data['lines']) {\r\n            lines_html_string += `\r\n                <h4>ID ${line['ID']} = ${createLineName(line.object['id'])}:</h4>\r\n                <p>id = ${line.object['id']}</p>`\r\n            if (line.object['type'] == LineTypeEnum.VERTICAL) {\r\n                lines_html_string += `<p>x = ${line.object['b']}</p>`\r\n            }\r\n            else if (line.object['type'] == LineTypeEnum.HORIZONTAL) {\r\n                lines_html_string += `<p>y = ${line.object['b']}</p>`\r\n            }\r\n            else if (line.object['type'] == LineTypeEnum.SLANTED) {\r\n                lines_html_string += `<p>y = ${line.object['a']}x + ${line.object['b']}</p>`\r\n            }\r\n            lines_html_string += `<p>included points = {${line.object['pointsOn'].map((id) => pointNames[newPointNames[id]])}}</p><br>`;\r\n        }\r\n    }\r\n\r\n    let circles_html_string = \"\";\r\n    if (data['circles'] != null) {\r\n        for (var circle of data['circles']) {\r\n            circles_html_string += `\r\n                <h4>ID = ${circle['ID']}:</h4> \r\n                <p>id = ${circle.object['id']}</p>\r\n                <p>center id = ${circle.object['centerId']}(${pointNames[newPointNames[circle.object['centerId']]]})<p>\r\n                <p>equation (x - ${circle.object['centerX']})^2 + (y - ${circle.object['centerY']})^2 = ${circle.object['radius']}^2\r\n                </p> <p>included points = {${circle.object['pointsOn'].map((id) => pointNames[newPointNames[id]])}}</p><br>\r\n                `\r\n        }\r\n    }\r\n\r\n    let basic_info = '<h2>P O I N T S</h2>' + points_html_string +\r\n        '<br> <h2>L I N E S</h2>' + lines_html_string +\r\n        '<br> <h2>C I R C L E S</h2>' + circles_html_string;\r\n    \r\n    let extended_info = `<h2>I N T E R S E C T I O N S<h2>`;\r\n\r\n    let intersection_points = data['intersections']\r\n    let line_line = intersection_points['line_line'];\r\n    let circle_cirlce = intersection_points['circle_circle'];\r\n    let line_circle = intersection_points['line_circle'];\r\n\r\n    let linesNumber = line_line.length;\r\n    let circlesNumber = circle_cirlce.length;\r\n\r\n    extended_info += '<h3>O F _ L I N E _ A N D _ L I N E</h3> <table class = \"ip\"><tr class = \"ipe\"> <th class = \"ipe\"></th>';\r\n    for (let i = 0; i < linesNumber; i++) {\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n    }\r\n    extended_info += '</tr>';\r\n\r\n    for (let i = 0; i < linesNumber; i++) {\r\n        extended_info += '<tr class = \"ipe\">';\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n        for (let j = 0; j < line_line[i].length; j++) {\r\n            extended_info += `<th class = \"ipe\">${line_line[i][j].map((id) => pointNames[newPointNames[id]])}</th>`;\r\n        }\r\n        extended_info += '</tr>';\r\n    }\r\n    extended_info += '</table> <br>';\r\n\r\n    extended_info += '<h3>O F _ C I R C L E _ A N D _ C I R C L E</h3> <table class = \"ip\"><tr class = \"ipe\"> <th class = \"ipe\"></th>';\r\n    for (let i = 0; i < circlesNumber; i++) {\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n    }\r\n    extended_info += '</tr>';\r\n\r\n    for (let i = 0; i < circlesNumber; i++) {\r\n        extended_info += '<tr class = \"ipe\">';\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n        for (let j = 0; j < circlesNumber; j++) {\r\n            extended_info += `<th class = \"ipe\">${circle_cirlce[i][j].map((id) => pointNames[newPointNames[id]])}</th>`;\r\n        }\r\n        extended_info += '</tr>';\r\n    }\r\n    extended_info += '</table> <br>';\r\n\r\n    extended_info += '<h3>O F _ L I N E _ A N D _ C I R C L E</h3> <table class = \"ip\"><tr class = \"ipe\"> <th class = \"ipe\"></th>';\r\n    for (let i = 0; i < linesNumber; i++) {\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n    }\r\n    extended_info += '</tr>';\r\n\r\n    for (let i = 0; i < circlesNumber; i++) {\r\n        extended_info += '<tr class = \"ipe\">';\r\n        extended_info += `<th class = \"ipe\">${i}</th>`;\r\n        for (let j = 0; j < linesNumber; j++) {\r\n            extended_info += `<th class = \"ipe\">${line_circle[j][i].map((id) => pointNames[newPointNames[id]])}</th>`;\r\n        }\r\n        extended_info += '</tr>';\r\n    }\r\n    extended_info += '</table> <br>';\r\n\r\n    extended_info += '<h2>S H A P E S _ O N _ W H I C H _ L I E S _ I N T E R S E C T I O N _ P O I N T S</h2>'\r\n    \r\n    let points_on_line_line = intersection_points['points_on_line_line']\r\n    let points_on_circle_circle = intersection_points['points_on_circle_circle']\r\n    let points_on_line_circle = intersection_points['points_on_line_circle']\r\n\r\n    let k = points_on_line_line.length;\r\n    \r\n    extended_info += '<table class = \"ip\"><tr class = \"ipe\"> <th class = \"ipe\"></th>'\r\n    extended_info += '<th class = \"ipe\">line - line</th><th class = \"ipe\">circle - circle</th><th class = \"ipe\">line - circle</th></tr>'\r\n\r\n    for(let i = 0; i<k; i++) {\r\n        extended_info += `<th class = \"ipe\">${i}(${pointNames[newPointNames[i]]})</th>\r\n                          <th class = \"ipe\">${points_on_line_line[i].map((pair) => \"<\" + pair + \">\")}</th>\r\n                          <th class = \"ipe\">${points_on_circle_circle[i].map((pair) => \"<\" + pair + \">\")}</th>\r\n                          <th class = \"ipe\">${points_on_line_circle[i].map((pair) => \"<\" + pair + \">\")}</th></tr>`\r\n    }\r\n\r\n    extended_info += '</table> <br>';\r\n    \r\n    extended_info += '<h2>D E P E N D E N C I E S</h2>';\r\n\r\n    for (var group of data['dependencies']) {\r\n        if (group['dependencies'] == null) {\r\n            continue;\r\n        }\r\n        \r\n        extended_info += `<h3>${DependencyTypeEnum[group.type]}</h3>`;\r\n\r\n        for (var dependency of group.dependencies) {\r\n            extended_info += `<p>dependency ID = ${dependency.id}: `\r\n\r\n            switch(dependency.category) {\r\n                case DependencyCategoryEnum.FORMULA:\r\n                    switch(dependency.type) {\r\n                        case DependencyTypeEnum.SEGMENT_LENGTH:\r\n                            dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                            //extended_info += `${createSegmentName(dependency.object1.end1Id, dependency.object1.end2Id)} and ${dependency.object2.variableName} = ${dependency.object2.value}`\r\n                            extended_info += `${dependency.object1.value} = ${dependency.object2.value}`;\r\n                            break;\r\n                        case DependencyTypeEnum.ANGLE_VALUE:\r\n                            dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                            //extended_info += `${createAngleName(dependency.object1.point1Id, dependency.object1.vertexId, dependency.object1.point2Id, dependency.object1.type)} and ${dependency.object2.variableName} = ${dependency.object2.value}`\r\n                            extended_info += `${dependency.object1.value.replace(\"<\", \"&lt\")} = ${dependency.object2.value.replace(\"<\", \"&lt\")}`;\r\n                            break;\r\n                        case DependencyTypeEnum.EQUATION:\r\n                            dependency = <DependencyRecord<Formula, Formula>> dependency;\r\n                            extended_info += `${dependency.object1.value.replace(\"<\", \"&lt\")} = ${dependency.object2.value.replace(\"<\", \"&lt\")}`;\r\n                            break;\r\n                    default:\r\n                            alert(\"NIEUWZGLEDNIONA MOZLIWOSC!\");\r\n                            break;\r\n                    }\r\n                    break;\r\n                case DependencyCategoryEnum.POLYGON_TYPE:\r\n                    dependency = <DependencyRecord<IdHolder, PolygonModel>> dependency;\r\n                    extended_info += `${createPolygonName(dependency.object2.verticesIds)} is ${PolygonTypeEnum[dependency.object1.id]}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_POINTS_PAIRS:\r\n                    dependency = <DependencyRecord<PointsPairModel, PointsPairModel>> dependency;\r\n                    extended_info += `${createSegmentName(dependency.object1.end1Id, dependency.object1.end2Id)} and ${createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_LINES:\r\n                    dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                    extended_info += `${createLineName(dependency.object1.id)} and ${createLineName(dependency.object2.id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_CIRCLES:\r\n                    dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                    extended_info += `${createCircleName(dependency.object1.id)} and ${createCircleName(dependency.object2.id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_ANGLES:\r\n                    dependency = <DependencyRecord<AngleModel, AngleModel>> dependency;\r\n                    extended_info += `${createAngleName(dependency.object1.point1Id, dependency.object1.vertexId, dependency.object1.point2Id, dependency.object1.type)} and ${createAngleName(dependency.object2.point1Id, dependency.object2.vertexId, dependency.object2.point2Id, dependency.object2.type)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_LINE_AND_ANGLE:\r\n                    dependency = <DependencyRecord<IdHolder, AngleModel>> dependency;\r\n                    extended_info += `${createLineName(dependency.object1.id)} and ${createAngleName(dependency.object2.point1Id, dependency.object2.vertexId, dependency.object2.point2Id, dependency.object2.type)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_LINE_AND_CIRCLE:\r\n                    dependency = <DependencyRecord<IdHolder, IdHolder>> dependency;\r\n                    extended_info += `${createLineName(dependency.object1.id)} and ${createCircleName(dependency.object2.id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_LINE_AND_POINTS_PAIR:\r\n                    dependency = <DependencyRecord<IdHolder, PointsPairModel>> dependency;\r\n                    extended_info += `${createLineName(dependency.object1.id)} and ${createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_CIRCLE_AND_POLYGON:\r\n                    dependency = <DependencyRecord<IdHolder, PolygonModel>> dependency;\r\n                    extended_info += `${createCircleName(dependency.object1.id)} and ${createPolygonName(dependency.object2.verticesIds)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_POINTS_PAIRS_PAIR_AND_POINTS_PAIR:\r\n                    dependency = <DependencyRecord<ModelsPairModel<PointsPairModel>, PointsPairModel>> dependency;\r\n                    extended_info += `${createSegmentName(dependency.object1.first.end1Id, dependency.object1.first.end2Id)} with ${createSegmentName(dependency.object1.second.end1Id, dependency.object1.second.end2Id)} and ${createSegmentName(dependency.object2.end1Id, dependency.object2.end2Id)}`\r\n                    break;\r\n                case DependencyCategoryEnum.OF_POLYGONS:\r\n                    dependency = <DependencyRecord<PolygonModel, PolygonModel>> dependency;\r\n                    extended_info += `${createPolygonName(dependency.object1.verticesIds)} and ${createPolygonName(dependency.object2.verticesIds)}`\r\n                    break;\r\n                default:\r\n                    alert(\"NIEUWZGLEDNIONA MOZLIWOSC!!!\");\r\n                    break;\r\n            }\r\n\r\n            extended_info += `, because ${DependencyReasonEnum[dependency.reason]} and based on {${dependency.basedOn}}; usefullness = ${UsefullnessLevel[dependency.usefullness]}</p>`\r\n        }\r\n\r\n        extended_info += `<br>`\r\n    }\r\n\r\n    let result_html = `\r\n        <html>\r\n        <head>\r\n            <style>\r\n                table { width: 100%; }\r\n                th { text-align: left; font-weight: normal;}\r\n                tr { vertical-align: top; font-weight: normal; }\r\n\r\n                .ip { width:100% table-layout:fixed; overflow: hidden; border: 1px solid black; border-collapse: collapse;}\r\n                .ipe { border: 1px solid black; border-collapse: collapse; text-align: center;}\r\n\r\n            </style>\r\n        </head>\r\n        <body>\r\n            <table>\r\n                <tr>\r\n                    <th>` + basic_info + `</th>\r\n                    <th>` + extended_info + `</th>\r\n                </tr>\r\n            </table>\r\n        </body>\r\n        </html>\r\n    `;\r\n\r\n    return result_html;\r\n}","/**\r\n * Module contains implementation of AltitudeComponent. This button is used to create altitude.\r\n * \r\n * @module Altitude Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-altitude',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/AltitudeIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Altitude Creating\">\r\n   `,\r\n   styleUrls: ['./../../dashboard.component.css']\r\n  })\r\nexport class AltitudeComponent {\r\n  /** \r\n   * Function used in altitude.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment or segment ends.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Creating Altitude\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if (ids[0].length == 2) {\r\n          let ends = ids[0];\r\n          CanvasManagerInterface.createAltitudeWithBaseEnds(ends[0], ends[1], ids[1][0]);\r\n        }\r\n        else {\r\n          CanvasManagerInterface.createAltitudeWithBaseId(ids[0][0], ids[1][0]);\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of BisectorComponent. This button is used to create bisector of an angle.\r\n * \r\n * @module Bisector Component\r\n */\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-bisector',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/BisectorIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Bisector Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Bisector Of Convex Angle</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Bisector Of Concave Angle</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class BisectorComponent {\r\n  /** \r\n   * Variable used in bisector.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /** \r\n   * Array with point IDs get from ComplexShapeCreator after done selection.\r\n   * @ignore */\r\n  private points!: ([number] | [number, number])[];\r\n\r\n  /** \r\n   * Function used in bisector.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select 3 points.\r\n   */\r\n  onClick() {\r\n    //let pointTypes = [ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE]\r\n    let pointTypes = [ShapeToSelect.EXISTING_POINT];\r\n    ComplexShapeCreator.chooseShapes(\"Creatig Bisector Line\", [pointTypes, pointTypes, pointTypes],\r\n      () => {\r\n        this.points = ComplexShapeCreator.getChosenShapes();\r\n        this.triggerModal(this.content);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Function called after selecting given shapes.\r\n   * Question about the type of bisector created: bisector of a convex angle or bisector of a concave angle.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if (res == \"dec1\") {\r\n          CanvasManagerInterface.createBisectorLine(ids[0][0], ids[1][0], ids[2][0], true);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          CanvasManagerInterface.createBisectorLine(ids[0][0], ids[1][0], ids[2][0], false);\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of CircleComponent. This button is used to create circle.\r\n * \r\n * @module Circle Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-circle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/CircleIcon.svg\" (click)=\"onClick();\" [ngClass]=\"{'icon-button-clicked': toggle}\" alt=\"Circle Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class CircleComponent {\r\n  /** \r\n   * Variable used to save state of this button.\r\n   * @ignore */\r\n  public toggle: boolean = false;\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Enable or disable drawing circles on {@link Canvas}.\r\n   */\r\n  onClick(): void {\r\n    if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.CIRCLE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n    else if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.CIRCLE) {\r\n      Canvas.clearBatchLayer();\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n  }\r\n}","/**\r\n * Module contains implementation of InscribedCircleComponent. This button is used to create inscribed circle in polygon.\r\n * \r\n * @module Circumscribed Circle Component\r\n */\r\n\r\n import { Component } from '@angular/core';\r\n import { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n import { Canvas } from '../../canvas';\r\n import { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n import { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n \r\n @Component({\r\n   selector: 'app-circumscribed-circle',\r\n   template: `\r\n   <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/CircumscribedCircleIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Circumscribed Circle Creating\">\r\n\r\n   <ng-template #modalData let-modal>\r\n   <div class=\"modal-header modal-title\">Enter Number Of Polygon Vertices</div>\r\n   <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n     <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n        <input [(ngModel)]=\"vertices\" type=\"number\" class=\"form-control\" id=\"vertices-number\" placeholder=\"Enter Vertices Number\">\r\n        <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Circumscribed Circle</button>\r\n     </div>\r\n   </div>\r\n   </ng-template>\r\n  `,\r\n   styleUrls: ['./../../dashboard.component.css']\r\n  })\r\n export class CircumscribedCircleComponent {\r\n   /**\r\n    * Variable used to get information from modal.\r\n    * @ignore */\r\n   vertices: string = \"\";\r\n \r\n   /** \r\n    * Function used in inscribed-circle.component template.\r\n    * Check if it is currently not possible drawing some shape.\r\n    * @ignore */\r\n   public isTrue() {\r\n     return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n   }\r\n \r\n   /**\r\n    * Initializing ModalService.\r\n    * @param modalService instance of ModalService\r\n    */\r\n   constructor(private modalService: NgbModal) { }\r\n \r\n   /**\r\n    * Function called after clicked on this component(button).\r\n    * Question about number of polygon vertices in which we inscribe a circle \r\n    * Start function {@link ComplexShapeCreator.chooseShapes} to select N points.\r\n    * @param content element with a question to display\r\n    */\r\n   triggerModal(content: any) {\r\n     this.modalService.open(content, { centered: true }).result.then(\r\n       (res) => { }, (res) => {\r\n         if (res == \"dec1\") {\r\n           let n = parseInt(this.vertices);\r\n           if (n > 2) {\r\n             let shapesToSelect: (ShapeToSelect[])[] = []\r\n             for (let i = 0; i < n; i++) {\r\n               shapesToSelect.push([ShapeToSelect.EXISTING_POINT])\r\n             }\r\n             ComplexShapeCreator.chooseShapes(\"Creating Circumscribed Circle on Polygon\", shapesToSelect,\r\n               () => {\r\n                 let ids = ComplexShapeCreator.getChosenShapes();\r\n                 CanvasManagerInterface.createCircumscribedCircle(ids.map((element) => { return element[0]; }));\r\n               });\r\n           }\r\n         }\r\n       });\r\n   }\r\n }\r\n ","/**\r\n * Module contains implementation of ClearCanvasComponent. This button is used to clear canvas and delete all data.\r\n * \r\n * @module Clear Canvas Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-clear-canvas',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/DeleteIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Clear Canvas\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Are You Sure To Remove All?</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Yes. Remove All</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">No</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class ClearCanvasComponent {\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function used in clear-canvas.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Requesting confirmation to remove everything from {@link Canvas} \r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          Canvas.reinit();\r\n        }\r\n        else if (res == \"dec2\") { }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of DivideAngleComponent. This button is used to divide angle.\r\n * \r\n * @module Divide Angle Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-divide-angle',\r\n  template: `\r\n   <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/DivideAngleIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Divide Angle\">\r\n \r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Number Of Parts</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <input [(ngModel)]=\"n\" type=\"number\" class=\"form-control\" id=\"parts-number\" placeholder=\"Enter Parts Number\">\r\n      <div class=\"form-check form-check-inline\">\r\n        <input class=\"form-check-input\" type=\"radio\" [(ngModel)]=\"angleType\" id=\"angleType1\" value=\"option1\" name=\"angleType\" checked>\r\n        <label class=\"form-check-label\" for=\"inlineCheckbox1\">Convex Angle</label>\r\n      </div>\r\n      <div class=\"form-check form-check-inline\">\r\n        <input class=\"form-check-input\" type=\"radio\" [(ngModel)]=\"angleType\" id=\"angleType2\" value=\"option2\" name=\"angleType\">\r\n        <label class=\"form-check-label\" for=\"inlineCheckbox2\">Concave Angle</label>\r\n      </div>\r\n     <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Divide Angle</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class DivideAngleComponent {\r\n  /** \r\n  * Variable used in divide-angle.component template.\r\n  * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) modalData: any;\r\n\r\n  /** \r\n   * Variable used in divide-angle.component template.\r\n   * @ignore */\r\n  public n: string = \"\";\r\n  angleType: string = \"option1\";\r\n\r\n  /** \r\n   * Function used in divide-angle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select angle points.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Dividing Angle\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        this.triggerModal(this.modalData);\r\n      });\r\n  }\r\n\r\n  /**\r\n    * Function called after selecting given shapes.\r\n    * Question about the number of parts to create.\r\n    * @param content element with a question to display\r\n    */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          let N = parseInt(this.n);\r\n          if (N > 1) {\r\n            let ids = ComplexShapeCreator.getChosenShapes();\r\n            CanvasManagerInterface.divideAngle(ids[0][0], ids[1][0], ids[2][0], this.angleType == \"option1\", N);\r\n          }\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of DivideSegmentComponent. This button is used to divide segment.\r\n * \r\n * @module Divide Segment Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-divide-segment',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/DivideSegmentIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Divide Segment\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Number Of Parts</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <input [(ngModel)]=\"n\" type=\"number\" class=\"form-control\" id=\"parts-number\" placeholder=\"Enter Parts Number\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Divide Segment</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class DivideSegmentComponent {\r\n  /** \r\n  * Variable used in divide-segment.component template.\r\n  * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) modalData: any;\r\n\r\n  /** \r\n   * Variable used in divide-segment.component template.\r\n   * @ignore */\r\n  public n: string = \"\";\r\n\r\n  /** \r\n   * Function used in divide-segment.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment or segment ends.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Dividing Segment\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n      () => {\r\n        this.triggerModal(this.modalData);\r\n      });\r\n  }\r\n\r\n  /**\r\n    * Function called after selecting given shapes.\r\n    * Question about the number of parts to create.\r\n    * @param content element with a question to display\r\n    */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          let N = parseInt(this.n);\r\n          if (N > 1) {\r\n            let ids = ComplexShapeCreator.getChosenShapes();\r\n            if (ids[0].length == 2) {\r\n              let ends = ids[0];\r\n              CanvasManagerInterface.divideSegmentWithEnds(ends[0], ends[1], N);\r\n            }\r\n            else {\r\n              CanvasManagerInterface.divideSegmentWithId(ids[0][0], N);\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of EqualAnglesComponent. This button is used to set equal angles.\r\n * \r\n * @module Equal Angles Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-equal-angles',\r\n  template: `\r\n   <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/EqualAnglesIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Equal Angles\">\r\n    `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class EqualAnglesComponent {\r\n  /** \r\n   * Function used in equal-angles.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select angle points.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Choose First Angle\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        let angle1 = ComplexShapeCreator.getChosenShapes();\r\n        ComplexShapeCreator.chooseShapes(\"Choose Second Angle\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n          () => {\r\n            let angle2 = ComplexShapeCreator.getChosenShapes();\r\n            CanvasManagerInterface.setEqualAnglesDependency(angle1[0][0], angle1[1][0], angle1[2][0], angle2[0][0], angle2[1][0], angle2[2][0]);\r\n          });\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of EqualSegmentsComponent. This button is used to set equal segments.\r\n * \r\n * @module Equal Segments Component\r\n */\r\n\r\n import { Component } from '@angular/core';\r\n import { Canvas } from '../../canvas';\r\n import { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n import { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n \r\n @Component({\r\n   selector: 'app-equal-segments',\r\n   template: `\r\n   <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/EqualLengthsIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Equal Segments\">\r\n    `,\r\n    styleUrls: ['./../../dashboard.component.css']\r\n  })\r\n export class EqualSegmentsComponent {\r\n   /** \r\n    * Function used in equal-segments.component template.\r\n    * Check if it is currently not possible drawing some shape.\r\n    * @ignore */\r\n   public isTrue() {\r\n     return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n   }\r\n \r\n   /** Empty function */\r\n   constructor() { }\r\n \r\n   /**\r\n    * Function called after clicked on this component(button).\r\n    * Start function {@link ComplexShapeCreator.chooseShapes} to select segments ends.\r\n    */\r\n   onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Setting Equal Segments\", [[ShapeToSelect.SEGMENT_ENDS, ShapeToSelect.SEGMENT], [ShapeToSelect.SEGMENT_ENDS, ShapeToSelect.SEGMENT]],\r\n       () => {\r\n          let ids = ComplexShapeCreator.getChosenShapes();\r\n          if(ids[0].length == 2 && ids[1].length == 2) {\r\n            let ends1 = ids[0];\r\n            let ends2 = ids[1];\r\n            CanvasManagerInterface.setEqualSegmentsDependencyWithEnds(ends1[0], ends1[1], ends2[0], ends2[1]);\r\n          }\r\n          else if(ids[0].length == 2) {\r\n            let ends = ids[0];\r\n            CanvasManagerInterface.setEqualSegmentsDependencyWithMix(ids[1][0], ends[0], ends[1]);\r\n          }\r\n          else if(ids[1].length == 2) {\r\n            let ends = ids[1];\r\n            CanvasManagerInterface.setEqualSegmentsDependencyWithMix(ids[0][0], ends[0], ends[1]);\r\n          }\r\n          else {\r\n            CanvasManagerInterface.setEqualSegmentsDependnecyWithIds(ids[0][0], ids[1][0]);\r\n          }\r\n       });\r\n   }\r\n }","/**\r\n * Module contains implementation of EscribedCircleComponent. This button is used to create escribed circle on polygon.\r\n * \r\n * @module Escribed Circle Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-escribed-circle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/EscribedCircleIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Escribed Circle Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class EscribedCircleComponent {\r\n  /** \r\n   * Function used in escribed-circle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment or segment ends.\r\n   */\r\n   onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Creating Escribed Circle\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if(ids[0].length == 2) {\r\n          CanvasManagerInterface.createEscribedCircleWithSideEnds(ids[0][0], ids[0][1], ids[1][0]);\r\n        }\r\n        else {\r\n          CanvasManagerInterface.createEscribedCircleWithSideId(ids[0][0], ids[1][0]);\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of InscribedCircleComponent. This button is used to create inscribed circle in polygon.\r\n * \r\n * @module Inscribed Circle Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-inscribed-circle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/InscribedCircleIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Inscribed Circle Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Number Of Polygon Vertices</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n       <input [(ngModel)]=\"vertices\" type=\"number\" class=\"form-control\" id=\"vertices-number\" placeholder=\"Enter Vertices Number\">\r\n       <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Inscribed Circle</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n  })\r\nexport class InscribedCircleComponent {\r\n  /**\r\n   * Variable used to get information from modal.\r\n   * @ignore */\r\n  vertices: string = \"\";\r\n\r\n  /** \r\n   * Function used in inscribed-circle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Question about number of polygon vertices in which we inscribe a circle \r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select N points.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          let n = parseInt(this.vertices);\r\n          if (n > 2) {\r\n            let shapesToSelect: (ShapeToSelect[])[] = []\r\n            for (let i = 0; i < n; i++) {\r\n              shapesToSelect.push([ShapeToSelect.EXISTING_POINT])\r\n            }\r\n            ComplexShapeCreator.chooseShapes(\"Creating Inscribed Circle on Polygon\", shapesToSelect,\r\n              () => {\r\n                let ids = ComplexShapeCreator.getChosenShapes();\r\n                CanvasManagerInterface.createInscribedCircle(ids.map((element) => { return element[0]; }));\r\n              });\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of KiteComponent. This button is used to create kite.\r\n * \r\n * @module Kite Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-kite',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/KiteIcon.svg\" (click)=\"isTrue() && triggerModal(modalData1);\" alt=\"Kite Creating\">\r\n  \r\n  <ng-template #modalData1 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Kite</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Kite</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n \r\n  <ng-template #modalData2 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Based On Segment</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec4')\">Based On 3 Points</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class KiteComponent {\r\n  /** \r\n  * Variable used in kite.component template.\r\n  * @ignore */\r\n  @ViewChild(\"modalData2\", { static: false }) modalData2: any;\r\n\r\n  /** \r\n   * Function used in kite.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * or to ask for a type of base shape\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.fullConfigurePolygon(\r\n            [[0, -6.342], [-3.2, 0], [0, 4.342], [3.2, 0]],\r\n            [],\r\n            [],\r\n            [1, 3],\r\n            [AvailableTransformation.ALL_BASIC],\r\n            [[1, 3, 2, 0]],\r\n            [null],\r\n            [DragRangeType.NONE],\r\n            DependeciesSetToSet.KITE);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec3\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing One Of Kite Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let fixedPointsIds: number[] = [];\r\n              let fixedSidePoints: ([number, number])[] = [];\r\n\r\n              if (point_ids[0].length == 2) {\r\n                let ends = point_ids[0];\r\n                let end1 = Canvas.getShape(ends[0]);\r\n                let end2 = Canvas.getShape(ends[1]);\r\n                fixedPointsIds = ends;\r\n                fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n              }\r\n              else {\r\n                let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n              }\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[0, -6.342], [-3.2, 0], [0, 4.342], [3.2, 0]],\r\n                fixedPointsIds,\r\n                fixedSidePoints,\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.KITE],\r\n                DependeciesSetToSet.KITE);\r\n            });\r\n        }\r\n        else if (res == \"dec4\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing Three Of Kite Vertices\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let p1 = Canvas.getShape(point_ids[0][0]);\r\n              p1 = ComplexShapeCreator.toUnit([p1.getAttr('x'), p1.getAttr('y')]);\r\n              let p2 = Canvas.getShape(point_ids[1][0]);\r\n              p2 = ComplexShapeCreator.toUnit([p2.getAttr('x'), p2.getAttr('y')]);\r\n              let p3 = Canvas.getShape(point_ids[2][0]);\r\n              p3 = ComplexShapeCreator.toUnit([p3.getAttr('x'), p3.getAttr('y')]);\r\n\r\n              if (ComplexShapeCreator.angleIsObtuse(p1, p2, p3)) {\r\n                let p4: [number, number];\r\n\r\n                if (Canvas.compareNumbers(p1[0] - p3[0], 0, 0.1)) {\r\n                  p4 = [2 * p1[0] - p2[0], p2[1]];\r\n                }\r\n                else if (Canvas.compareNumbers(p1[1] - p3[1], 0, 0.1)) {\r\n                  p4 = [p2[0], 2 * p1[1] - p2[1]];\r\n                }\r\n                else {\r\n                  let a1 = (p3[1] - p1[1]) / (p3[0] - p1[0]);\r\n                  let b1 = p3[1] - a1 * p3[0];\r\n                  let a2 = (p3[0] - p1[0]) / (p1[1] - p3[1]);\r\n                  let b2 = p2[1] - a2 * p2[0];\r\n\r\n                  let midx = (b2 - b1) / (a1 - a2);\r\n                  let midy = a1 * midx + b1;\r\n\r\n                  p4 = [2 * midx - p2[0], 2 * midy - p2[1]];\r\n                }\r\n                let fixedPointsIds: number[] = [point_ids[0][0], point_ids[1][0], point_ids[2][0]]\r\n                let fixedSidePoints: ([number, number])[] = [p1, p2, p3];\r\n                ComplexShapeCreator.fullConfigurePolygon(\r\n                  [p1, p2, p3, p4],\r\n                  //[p2, p3, p4, p1],\r\n                  [],\r\n                  [],\r\n                  //fixedPointsIds,\r\n                  //fixedSidePoints,\r\n                  [0, 1],\r\n                  [AvailableTransformation.NONE],\r\n                  [[0, 1, 2, 3]],\r\n                  [null],\r\n                  [DragRangeType.NONE],\r\n                  DependeciesSetToSet.KITE);\r\n              }\r\n              else {\r\n                alert(\"Bad Input! Points should represent obtuse angle of kite!\");\r\n              }\r\n            });\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of LineComponent. This button is used to create line.\r\n * \r\n * @module Line Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-line',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/LineIcon.svg\" (click)=\"onClick();\" [ngClass]=\"{'icon-button-clicked': toggle}\" alt=\"Line Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class LineComponent {\r\n  /** \r\n   * Variable used to save state of this button.\r\n   * @ignore */\r\n  public toggle: boolean = false;\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Enable or disable drawing lines on {@link Canvas}.\r\n   */\r\n  onClick(): void {\r\n    if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.LINE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n    else if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.LINE) {\r\n      Canvas.clearBatchLayer();\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n  }\r\n}","/**\r\n * Module contains implementation of LoadSchemeComponent. This button is used to load saved scheme.\r\n * \r\n * @module Load Scheme Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SchemeService } from 'src/app/services/scheme.service';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-load-scheme',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/LoadIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Load Scheme\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Loading Saved Scheme</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n\r\n      <div class=\"col\">\r\n        <p> Scheme Name </p>\r\n        <div *ngFor=\"let item of titles\">\r\n          <label class=\"form-check-label\">\r\n              <input class=\"form-check-input\" type=\"checkbox\" (change)=\"titlesOnChange($event.target, item)\" [checked]=\"isTitleChecked(item)\"> \r\n              {{item}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <p> Scheme Author </p>\r\n        <div *ngFor=\"let item of authors\">\r\n          <label class=\"form-check-label\">\r\n              <input class=\"form-check-input\" type=\"checkbox\" (change)=\"authorsOnChange($event.target, item)\" [checked]=\"isAuthorChecked(item)\"> \r\n              {{item}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <p> Matching Schemes </p>\r\n        <div *ngFor=\"let item of chosenSchemes\">\r\n          <label class=\"form-check-label\">\r\n            <input type=\"radio\" class=\"form-check-input\" name=\"optradio\" (change)=\"setScheme(item)\">\r\n            {{ item['title'] }} - {{ item['user'] }} - {{ item['date'].substring(0,10) }}\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Load Scheme</button>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class LoadSchemeComponent {\r\n  schemes: any[] = [];\r\n  chosenSchemes: any[] = [];\r\n  chosenScheme: any = null;\r\n  titles: string[] = [];\r\n  chosenTitles: string[] = [];\r\n  authors: string[] = [];\r\n  chosenAuthors: string[] = [];\r\n\r\n  /** \r\n   * Variable used in set-length.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /** \r\n   * Function used in save-scheme.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  constructor(private modalService: NgbModal, private toastrService: ToastrService, private schemeService: SchemeService) { }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  setChosenSchemes() {\r\n    this.chosenSchemes = [];\r\n    this.schemes.forEach(item => {\r\n      if (this.chosenAuthors.includes(item['user']) && this.chosenTitles.includes(item['title'])) {\r\n        this.chosenSchemes.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  isTitleChecked(item: string) {\r\n    if (this.chosenTitles.includes(item)) { return true; }\r\n    else { return false; }\r\n  }\r\n\r\n  titlesOnChange(target: EventTarget | null, item: string) {\r\n    if ((target as any).checked) { this.chosenTitles.push(item); }\r\n    else { this.chosenTitles.splice(this.chosenTitles.indexOf(item), 1); }\r\n    this.setChosenSchemes();\r\n  }\r\n\r\n  isAuthorChecked(item: string) {\r\n    if (this.chosenAuthors.includes(item)) { return true; }\r\n    else { return false; }\r\n  }\r\n\r\n  authorsOnChange(target: EventTarget | null, item: string) {\r\n    if ((target as any).checked) { this.chosenAuthors.push(item); }\r\n    else { this.chosenAuthors.splice(this.chosenAuthors.indexOf(item), 1); }\r\n    this.setChosenSchemes();\r\n  }\r\n\r\n  setScheme(scheme: any) {\r\n    this.chosenScheme = scheme;\r\n  }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   */\r\n  onClick(): void {\r\n    this.schemeService.list().subscribe(\r\n      data => {\r\n        this.toastrService.success(\"Successfully pulled the data!\", \"\", { timeOut: 3000, progressBar: false });\r\n\r\n        this.schemes = (data as any[]);\r\n        this.schemes.forEach(element => {\r\n          let t = element['title'];\r\n          if (!(this.titles.includes(t))) { this.titles.push(t); }\r\n\r\n          let a = element['user'];\r\n          if (!(this.authors.includes(a))) { this.authors.push(a); }\r\n        });\r\n\r\n        this.titles.sort();\r\n        this.authors.sort();\r\n\r\n        this.triggerModal(this.content);\r\n      },\r\n      error => {\r\n        this.toastrService.success(\"Failed to pull the data\", \"\", { timeOut: 3000, progressBar: false });\r\n      }\r\n    )\r\n  }\r\n\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          if (this.chosenScheme == null) { return; }\r\n\r\n          const body = JSON.parse(this.chosenScheme['body']);\r\n          const points = body['points'];\r\n          const segments = body['segments'];\r\n          const circles = body['circles'];\r\n          const lines = body['lines'];\r\n\r\n          const lengths = body['lengths'];\r\n          const angleValues = body['angleValues'];\r\n          const perpendicular = body['perpendicular'];\r\n          const parallel = body['parallel'];\r\n          const equalSegments = body['equalSegments'];\r\n          const equalAngles = body['equalAngles'];\r\n          const bisectorLines = body['bisectorLines'];\r\n          const escribedCircles = body['escribedCircles'];\r\n          const inscribedCircles = body['inscribedCircles'];\r\n          const circumscribedCircles = body['circumscribedCircles'];\r\n          const tangentCircles = body['tangentCircles'];\r\n          const tangentLines = body['tangentLines'];\r\n          const polygonTypes = body['polygonTypes'];\r\n          const altitudes = body['altitudes'];\r\n          const medians = body['medians'];\r\n          const midPerpendicularLines = body['midPerpendicularLines'];\r\n          const midSegments = body['midSegments'];\r\n\r\n          let idsConverter: Record<number, number> = {};\r\n          let lineIdsConverter: Record<number, number> = {};\r\n\r\n          Canvas.reinit();\r\n          Canvas.waitForCalculationsProcessed();\r\n\r\n          if (points != null) {\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.POINT);\r\n\r\n            points.forEach((point: { x: number, y: number, id: number }) => {\r\n              CanvasManagerInterface.clickedOnCanvas(point['x'], point['y']);\r\n              idsConverter[point['id']] = Canvas.getLastCreatedPointId();\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.NONE);\r\n          }\r\n\r\n          if (segments != null) {\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.SEGMENT);\r\n\r\n            segments.forEach((segment: { end1Id: number, end2Id: number, id: number }) => {\r\n              CanvasManagerInterface.clickedOnPoint(idsConverter[segment['end1Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n              CanvasManagerInterface.clickedOnPoint(idsConverter[segment['end2Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n              idsConverter[segment['id']] = Canvas.getLastCreatedSegmentId();\r\n            });\r\n\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.NONE);\r\n          }\r\n\r\n          if (circles != null) {\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.CIRCLE);\r\n\r\n            circles.forEach((circle: { centerId: number, pointsOn: number[], id: number }) => {\r\n              CanvasManagerInterface.clickedOnPoint(idsConverter[circle['centerId']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n              CanvasManagerInterface.clickedOnPoint(idsConverter[circle['pointsOn'][0]]);\r\n              Canvas.waitForCalculationsProcessed();\r\n              idsConverter[circle['id']] = Canvas.getLastCreatedCircleId();\r\n            });\r\n\r\n            CanvasManagerInterface.setCurrentlyCreatedShape(ShapeToCreateEnum.NONE);\r\n          }\r\n\r\n          const currentSchemeJson: any = CanvasManagerInterface.getJsonData();\r\n          const newLines: { id: number, string: string }[] = currentSchemeJson['lines'];\r\n\r\n          if (lines != null) {\r\n            lines.forEach((line: { id: number, string: string }) => {\r\n              lineIdsConverter[line['id']] = newLines.filter(item => { return item['string'] == line['string'] })[0]['id'];\r\n            });\r\n          }\r\n\r\n          if (lengths != null) {\r\n            lengths.forEach((length: { end1Id: number, end2Id: number, value: string }) => {\r\n              CanvasManagerInterface.setLengthValue(idsConverter[length['end1Id']], idsConverter[length['end2Id']], length['value']);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (angleValues != null) {\r\n            angleValues.forEach((angleValue: { end1Id: number, vertexId: number, end2Id: number, type: number, value: string }) => {\r\n              CanvasManagerInterface.setAngleValue(idsConverter[angleValue['end1Id']], idsConverter[angleValue['vertexId']], idsConverter[angleValue['end2Id']], angleValue['type'], angleValue['value']);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (perpendicular != null) {\r\n            perpendicular.forEach((dependency: { id1: number, id2: number }) => {\r\n              CanvasManagerInterface.setPerpendicularLines(lineIdsConverter[dependency['id1']], lineIdsConverter[dependency['id2']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (parallel != null) {\r\n            parallel.forEach((dependency: { id1: number, id2: number }) => {\r\n              CanvasManagerInterface.setParallelLines(lineIdsConverter[dependency['id1']], lineIdsConverter[dependency['id2']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (equalSegments != null) {\r\n            equalSegments.forEach((dependency: { s1End1Id: number, s1End2Id: number, s2End1Id: number, s2End2Id: number }) => {\r\n              CanvasManagerInterface.setEqualSegmentsDependencyWithEnds(idsConverter[dependency['s1End1Id']], idsConverter[dependency['s1End2Id']], idsConverter[dependency['s2End1Id']], idsConverter[dependency['s2End2Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (equalAngles != null) {\r\n            equalAngles.forEach((dependency: { a1End1Id: number, a1End2Id: number, a1VertexId: number, a1Type: number, a2End1Id: number, a2End2Id: number, a2VertexId: number, a2Type: number }) => {\r\n              CanvasManagerInterface.setEqualAnglesDependency(idsConverter[dependency['a1End1Id']], idsConverter[dependency['a1VertexId']], idsConverter[dependency['a1End2Id']], idsConverter[dependency['a2End1Id']], idsConverter[dependency['a2VertexId']], idsConverter[dependency['a2End2Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (midPerpendicularLines != null) {\r\n            midPerpendicularLines.forEach((dependency: { end1Id: number, end2Id: number, lineId: number }) => {\r\n              CanvasManagerInterface.createSegmentMidPerpendicularWithEnds(idsConverter[dependency['end1Id']], idsConverter[dependency['end2Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (bisectorLines != null) {\r\n            bisectorLines.forEach((dependency: { point1Id: number, vertexId: number, point2Id: number, angleType: number, lineId: number }) => {\r\n              CanvasManagerInterface.createBisectorLine(idsConverter[dependency['point1Id']], idsConverter[dependency['vertexId']], idsConverter[dependency['point2Id']], dependency['angleType'] == 1)\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (escribedCircles != null) {\r\n            escribedCircles.forEach((dependency: { circleId: number, polygon: number[] }) => {\r\n              CanvasManagerInterface.setEscribedCircle(idsConverter[dependency['circleId']], dependency['polygon'].map(id => idsConverter[id]));\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (inscribedCircles != null) {\r\n            inscribedCircles.forEach((dependency: { circleId: number, polygon: number[] }) => {\r\n              CanvasManagerInterface.setInscribedCircle(idsConverter[dependency['circleId']], dependency['polygon'].map(id => idsConverter[id]));\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (circumscribedCircles != null) {\r\n            circumscribedCircles.forEach((dependency: { circleId: number, polygon: number[] }) => {\r\n              CanvasManagerInterface.setCircumscribedCircle(idsConverter[dependency['circleId']], dependency['polygon'].map(id => idsConverter[id]));\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (tangentCircles != null) {\r\n            tangentCircles.forEach((dependency: { id1: number, id2: number }) => {\r\n              CanvasManagerInterface.setTangentCircles(idsConverter[dependency['id1']], idsConverter[dependency['id2']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (tangentLines != null) {\r\n            tangentLines.forEach((dependency: { circleId: number, lineId: number }) => {\r\n              CanvasManagerInterface.setTangentLineToCircle(lineIdsConverter[dependency['lineId']], idsConverter[dependency['circleId']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (polygonTypes != null) {\r\n            polygonTypes.forEach((dependency: { polygon: number[], type: number }) => {\r\n              CanvasManagerInterface.setPolygonType(dependency['polygon'].map(id => idsConverter[id]), dependency['type']);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (altitudes != null) {\r\n            altitudes.forEach((dependency: { end1Id: number, end2Id: number, lineId: number }) => {\r\n              CanvasManagerInterface.setAltitude(idsConverter[dependency['end1Id']], idsConverter[dependency['end2Id']], lineIdsConverter[dependency['lineId']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (medians != null) {\r\n            medians.forEach((dependency: { s1End1Id: number, s1End2Id: number, s2End1Id: number, s2End2Id: number }) => {\r\n              CanvasManagerInterface.setMedian(idsConverter[dependency['s1End1Id']], idsConverter[dependency['s1End2Id']], idsConverter[dependency['s2End1Id']], idsConverter[dependency['s2End2Id']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n\r\n          if (midSegments != null) {\r\n            midSegments.forEach((dependency: { a1End1Id: number, a1End2Id: number, a2End1Id: number, a2End2Id: number, sEnd1: number, sEnd2: number }) => {\r\n              CanvasManagerInterface.setMidSegment(idsConverter[dependency['a1End1Id']], idsConverter[dependency['a1End2Id']], idsConverter[dependency['a2End1Id']], idsConverter[dependency['a2End2Id']], idsConverter[dependency['sEnd1']], idsConverter[dependency['sEnd2']]);\r\n              Canvas.waitForCalculationsProcessed();\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n\r\n","/**\r\n * Module contains implementation of MedianComponent. This button is used to create median.\r\n * \r\n * @module Median Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-median',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/MedianIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Median Creating\">\r\n   `,\r\n   styleUrls: ['./../../dashboard.component.css']\r\n  })\r\nexport class MedianComponent {\r\n  /** \r\n   * Function used in median.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment or segment ends.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Creating Median\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if (ids[0].length == 2) {\r\n          let ends = ids[0];\r\n          CanvasManagerInterface.createMedianwithBaseEnds(ends[0], ends[1], ids[1][0]);\r\n        }\r\n        else {\r\n          CanvasManagerInterface.createMedianWithBaseId(ids[0][0], ids[1][0]);\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of MidPerpendicularComponent. This button is used to create mid-perpendicular.\r\n * \r\n * @module Mid-Perpendicular Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-mid-perpendicular',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/MidPerpendicularIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"MidPerpendicular Creating\">\r\n   `,\r\n   styleUrls: ['./../../dashboard.component.css']\r\n  })\r\nexport class MidPerpendicularComponent {\r\n  /** \r\n   * Function used in mid-perpendicular.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment or segment ends.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Creating Mid Perpendicular\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n      () => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if (ids[0].length == 2) {\r\n          let ends = ids[0];\r\n          CanvasManagerInterface.createSegmentMidPerpendicularWithEnds(ends[0], ends[1]);\r\n        }\r\n        else {\r\n          CanvasManagerInterface.createSegmentMidPerpendicularWithId(ids[0][0]);\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of MidSegmentComponent. This button is used to create mid-segment.\r\n * \r\n * @module Mid-Segment Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-mid-segment',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/MidSegmentIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Mid Segment Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class MidSegmentComponent {\r\n  /** \r\n   * Function used in mid-segment.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segments ends.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Creating Mid Segment\", [[ShapeToSelect.SEGMENT_ENDS, ShapeToSelect.SEGMENT], [ShapeToSelect.SEGMENT_ENDS, ShapeToSelect.SEGMENT]],\r\n      () => {\r\n        let ids = ComplexShapeCreator.getChosenShapes();\r\n        if(ids[0].length == 2 && ids[1].length == 2) {\r\n          let ends1 = ids[0];\r\n          let ends2 = ids[1];\r\n          CanvasManagerInterface.createMidSegmentWithArmEnds(ends1[0], ends1[1], ends2[0], ends2[1]);\r\n        } \r\n        else if(ids[0].length == 2) {\r\n          let ends = ids[0];\r\n          CanvasManagerInterface.createMidSegmentWithMix(ids[1][0], ends[0], ends[1]);\r\n        }\r\n        else if(ids[1].length == 2) {\r\n          let ends = ids[1];\r\n          CanvasManagerInterface.createMidSegmentWithMix(ids[0][0], ends[0], ends[1]);\r\n        }\r\n        else {\r\n          CanvasManagerInterface.createMidSegmentWithArmIds(ids[0][0], ids[1][0]);\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of ParallelismComponent. This button is used to create parellel line or set parallelism dependency.\r\n * \r\n * @module Parallelism Component\r\n */\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Component } from '@angular/core';\r\nimport { Canvas, ComplexShapeEnum } from '../../canvas';\r\nimport { ComplexShapeCreator } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-parallelism',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/ParallelismIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Parallelism Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Parallel Line</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Set Parallelism Dependency</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class ParallelismComponent {\r\n  /** \r\n   * Function used in parallelism.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Question about the type of action: create new parallel line or set parallelism dependency.\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment and point or 2 segments.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          Canvas.setCurrentlyComplexShape(ComplexShapeEnum.PARALLEL_LINE);\r\n          ComplexShapeCreator.chooseShapes(\"Creating Parallel Line\", [[ShapeToSelect.SEGMENT], [ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createParallelLineToLine(ids[0][0], ids[1][0]);\r\n            });\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Setting Parallelism Dependency\", [[ShapeToSelect.SEGMENT], [ShapeToSelect.SEGMENT]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.setParallelismDependency(ids[0][0], ids[1][0]);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of ParallelogramComponent. This button is used to create parallelogram.\r\n * \r\n * @module Parallelogram Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-parallelogram',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/ParallelogramIcon.svg\" (click)=\"isTrue() && triggerModal(modalData1);\" alt=\"Parallelogram Creating\">\r\n \r\n  <ng-template #modalData1 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Parallelogram</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Parallelogram</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n\r\n  <ng-template #modalData2 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Based On Segment</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec4')\">Based On 3 Points</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class ParallelogramComponent {\r\n  /** \r\n  * Variable used in parallelogram.component template.\r\n  * @ignore */\r\n  @ViewChild(\"modalData2\", { static: false }) modalData2: any;\r\n\r\n  /** \r\n   * Function used in parallelogram.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * or to ask for a type of base shape\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.fullConfigurePolygon(\r\n            [[-2.4, -2.4], [4.4, -2.4], [2.4, 2.4], [-4.4, 2.4]],\r\n            [],\r\n            [],\r\n            [0, 1],\r\n            [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE | AvailableTransformation.ROTATE | AvailableTransformation.REVERSE],\r\n            [[0, 1]],\r\n            [null],\r\n            [DragRangeType.NONE],\r\n            DependeciesSetToSet.PARALLELOGRAM);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec3\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing One Of Parallelogram Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let fixedPointsIds: number[] = [];\r\n              let fixedSidePoints: [number, number][] = [];\r\n\r\n              if (point_ids[0].length == 2) {\r\n                let ends = point_ids[0];\r\n                let end1 = Canvas.getShape(ends[0]);\r\n                let end2 = Canvas.getShape(ends[1]);\r\n                fixedPointsIds = [ends[0], ends[1]];\r\n                fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n              }\r\n              else {\r\n                fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n              }\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-2.4, -2.4], [4.4, -2.4], [2.4, 2.4], [-4.4, 2.4]],\r\n                fixedPointsIds,\r\n                fixedSidePoints,\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.PARALLELOGRAM],\r\n                DependeciesSetToSet.PARALLELOGRAM)\r\n            });\r\n        }\r\n        else if (res == \"dec4\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing Three Of Parallelogram Vertices\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let p1 = Canvas.getShape(point_ids[0][0]);\r\n              p1 = ComplexShapeCreator.toUnit([p1.getAttr('x'), p1.getAttr('y')]);\r\n              let p2 = Canvas.getShape(point_ids[1][0]);\r\n              p2 = ComplexShapeCreator.toUnit([p2.getAttr('x'), p2.getAttr('y')]);\r\n              let p3 = Canvas.getShape(point_ids[2][0]);\r\n              p3 = ComplexShapeCreator.toUnit([p3.getAttr('x'), p3.getAttr('y')]);\r\n\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [p1, p2, p3, [p1[0] + p3[0] - p2[0], p1[1] + p3[1] - p2[1]]],\r\n                [point_ids[0][0], point_ids[1][0], point_ids[2][0]],\r\n                [],\r\n                [0, 1],\r\n                [AvailableTransformation.NONE],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.PARALLELOGRAM);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of PerpendicularityComponent. This button is used to create perpendicular line or set perpendicularity dependency.\r\n * \r\n * @module Perpendicularity Component\r\n */\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Component } from '@angular/core';\r\nimport { Canvas, ComplexShapeEnum } from '../../canvas';\r\nimport { ComplexShapeCreator } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-perpendicularity',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/PerpendicularityIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Perpendicularity Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Perpendicular Line</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Set Perpendicularity Dependency</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class PerpendicularityComponent {\r\n  /** \r\n     * Function used in perpendicularity.component template.\r\n     * Check if it is currently not possible drawing some shape.\r\n     * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Question about the type of action: create new perpendicular line or set perpendicularity dependency.\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select segment and point or 2 segments.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          Canvas.setCurrentlyComplexShape(ComplexShapeEnum.PERPENDICULAR_LINE);\r\n          ComplexShapeCreator.chooseShapes(\"Creating Perpendicular Line\", [[ShapeToSelect.SEGMENT], [ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createPerpendicularLineToLine(ids[0][0], ids[1][0]);\r\n            });\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Setting Perpendicularity Dependency\", [[ShapeToSelect.SEGMENT], [ShapeToSelect.SEGMENT]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.setPerpendicularityDependency(ids[0][0], ids[1][0]);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of PointComponent. This button is used to create point.\r\n * \r\n * @module Point Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-point',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/PointIcon.svg\" (click)=\"onClick();\" [ngClass]=\"{'icon-button-clicked': toggle}\" alt=\"Point Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class PointComponent {\r\n  /** \r\n   * Variable used to save state of this button.\r\n   * @ignore */\r\n  public toggle: boolean = false;\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Enable or disable drawing points on {@link Canvas}.\r\n   */\r\n  onClick(): void {\r\n    if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.POINT);\r\n      this.toggle = !this.toggle;\r\n    }\r\n    else if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.POINT) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of PolygonComponent. This button is used to create polygon.\r\n * \r\n * @module Polygon Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-polygon',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/RegularPolygonIcon.svg\" (click)=\"isTrue() && triggerModal(modalData1);\" alt=\"Regular Polygon Creating\">\r\n \r\n  <ng-template #modalData1 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Regular Polygon</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Regular Polygon</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n     \r\n  <ng-template #modalData2 let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Number Of Sides</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n       <input [(ngModel)]=\"sides\" type=\"number\" class=\"form-control\" id=\"sides-number\" placeholder=\"Enter Sides Number\">\r\n       <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Create Regular Polygon</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class PolygonComponent {\r\n  /** \r\n   * Variable used in polygon.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData2\", { static: false }) modalData2: any;\r\n\r\n  /** \r\n   * Variable used in choosing operation type.\r\n   * @ignore */\r\n  private unfetteredShape!: boolean;\r\n\r\n  /** \r\n   * Variable used in polygon.component template.\r\n   * @ignore */\r\n  public sides: string = \"\";\r\n\r\n  /** \r\n   * Function used in polygon.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * or to ask for a number of polygon sides\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          this.unfetteredShape = true;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          this.unfetteredShape = false;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec3\") {\r\n          let n = parseInt(this.sides);\r\n          if (n >= 3) {\r\n            // generating vertices of polygon, first and second vertex create segment parallel to OX axis\r\n            let vertices: [number, number][] = [];\r\n            let radius = 4;\r\n            let angle, cosAngle, sinAngle;\r\n            for (let i = 0; i < n; i++) {\r\n              angle = 2 * Math.PI * i / n - Math.PI / 2 - Math.PI / n;\r\n              cosAngle = Math.cos(angle);\r\n              sinAngle = Math.sin(angle);\r\n              vertices.push([radius * cosAngle, radius * sinAngle]);\r\n            }\r\n\r\n            if (this.unfetteredShape) {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                vertices,\r\n                [],\r\n                [],\r\n                [0, 1],\r\n                [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE_XY | AvailableTransformation.ROTATE],\r\n                [[0, 1]],\r\n                [null],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.REGULAR_POLYGON);\r\n            }\r\n            else {\r\n              ComplexShapeCreator.chooseShapes(\"Choosing One Of Polygon Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n                () => {\r\n                  let fixedPointsIds: number[] = [];\r\n                  let point_ids = ComplexShapeCreator.getChosenShapes();\r\n                  let fixedSidePoints: [number, number][] = [];\r\n\r\n                  if (point_ids[0].length == 2) {\r\n                    let ends = point_ids[0];\r\n                    let end1 = Canvas.getShape(ends[0]);\r\n                    let end2 = Canvas.getShape(ends[1]);\r\n                    fixedPointsIds = [ends[0], ends[1]];\r\n                    fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n                  }\r\n                  else {\r\n                    fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                    let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                    fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n                  }\r\n                  ComplexShapeCreator.fullConfigurePolygon(\r\n                    vertices,\r\n                    fixedPointsIds,\r\n                    fixedSidePoints,\r\n                    [0, 1],\r\n                    [AvailableTransformation.MIRROR_X],\r\n                    [Array.from(Array(n).keys())],\r\n                    [null],\r\n                    [DragRangeType.NONE],\r\n                    DependeciesSetToSet.REGULAR_POLYGON);\r\n                });\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of ProcessDataComponent. This button is used to process data.\r\n * \r\n * @module Process Data Component\r\n */\r\n\r\nimport { ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { DependenciesPresenter } from '../../dependencies-presenter/dependencies-presenter';\r\nimport { display_processed_data } from '../../dependencies-presenter/display_processed_data';\r\n\r\n@Component({\r\n  selector: 'app-process-data',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/ProcessIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Process Sketch\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Waiting For Answear</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"loader\"></div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class ProcessDataComponent {\r\n  /** \r\n   * Function used in process-data.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /** \r\n   * Variable used in process-data.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start processing data and call triggerModal.\r\n   */\r\n  public onClick() {\r\n    this.triggerModal(this.content);\r\n    Canvas.lockUI();\r\n\r\n    const json = CanvasManagerInterface.getJsonData();\r\n    //console.log(json);\r\n\r\n    (async () => {\r\n      try {\r\n        const rawResponse = await fetch('http://localhost:8787/compute', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'text/plain'\r\n          },\r\n          body: JSON.stringify({ json })\r\n        });\r\n        const content = await rawResponse.json();\r\n        //console.log(content);\r\n\r\n        DependenciesPresenter.presentDependencies(content);\r\n\r\n        let new_window = window.open('', '_blank');\r\n        new_window!.document.write(display_processed_data(content, Canvas.pointNames));\r\n      }\r\n      catch { alert(\"PROCESSING FAILED!\") }\r\n      finally {\r\n        this.closeModal();\r\n        Canvas.unlockUI();\r\n      }\r\n    })();\r\n  }\r\n\r\n  /**\r\n   * Function called after start processing data.\r\n   * Information about process of processing data.\r\n   * @param content element with a information to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true, keyboard: false, backdrop: 'static' }).result.then(\r\n      (res) => { }, (res) => { });\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalService.dismissAll();\r\n\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of RectangleComponent. This button is used to create rectangle.\r\n * \r\n * @module Rectangle Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-rectangle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/RectangleIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Rectangle Creating\">\r\n \r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Rectangle</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Rectangle</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class RectangleComponent {\r\n  /** \r\n   * Function used in rectangle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.fullConfigurePolygon(\r\n            [[-4, -3], [4, -3], [4, 3], [-4, 3]],\r\n            [],\r\n            [],\r\n            [0, 1],\r\n            [AvailableTransformation.ALL_BASIC],\r\n            [[0, 1]],\r\n            [null],\r\n            [DragRangeType.NONE],\r\n            DependeciesSetToSet.RECTANGLE);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing One Of Rectangle Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let fixedPointsIds: number[] = [];\r\n              let fixedSidePoints: [number, number][] = [];\r\n\r\n              if (point_ids[0].length == 2) {\r\n                let ends = point_ids[0];\r\n                let end1 = Canvas.getShape(ends[0]);\r\n                let end2 = Canvas.getShape(ends[1]);\r\n                fixedPointsIds = [ends[0], ends[1]];\r\n                fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n              }\r\n              else {\r\n                fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n              }\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-3, -3], [3, -3], [3, 3], [-3, 3]],\r\n                fixedPointsIds,\r\n                fixedSidePoints,\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.RECTANGLE],\r\n                DependeciesSetToSet.RECTANGLE);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of RhombusComponent. This button is used to create rhombus.\r\n * \r\n * @module Rhombus Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n\r\n@Component({\r\n  selector: 'app-rhombus',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/RhombusIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Rhombus Creating\">\r\n  \r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Rhombus</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Rhombus</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class RhombusComponent {\r\n  /** \r\n   * Function used in rhombus.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.fullConfigurePolygon(\r\n            [[0, -5.542], [-3.2, 0], [0, 5.542], [3.2, 0]],\r\n            [],\r\n            [],\r\n            [1, 3],\r\n            [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE | AvailableTransformation.ROTATE],\r\n            [[0, 1, 2, 3]],\r\n            [null],\r\n            [DragRangeType.NONE],\r\n            DependeciesSetToSet.RHOMBUS);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing One Of Rhombus Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let fixedPointsIds: number[] = [];\r\n              let fixedSidePoints: [number, number][] = [];\r\n\r\n              if (point_ids[0].length == 2) {\r\n                let ends = point_ids[0];\r\n                let end1 = Canvas.getShape(ends[0]);\r\n                let end2 = Canvas.getShape(ends[1]);\r\n                fixedPointsIds = ends;\r\n                fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n              }\r\n              else {\r\n                let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n              }\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-3.2, 0], [0, 5.542], [3.2, 0], [0, -5.542]],\r\n                fixedPointsIds,\r\n                fixedSidePoints,\r\n                [3, 0],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.RHOMBUS],\r\n                DependeciesSetToSet.RHOMBUS);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of SaveSchemeComponent. This button is used to save current scheme.\r\n * \r\n * @module Save Scheme Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SchemeService } from 'src/app/services/scheme.service';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-save-scheme',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/SaveIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Save Scheme\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Saving Scheme Name</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <input [(ngModel)]=\"schemeTitle\" class=\"form-control\" id=\"scheme-title\" placeholder=\"Enter Scheme Name\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Save Scheme</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SaveSchemeComponent {\r\n  /** \r\n   * Variable used in set-length.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /**\r\n   * Variable used to get information from modal.\r\n   * @ignore */\r\n   schemeTitle: string = \"\";\r\n\r\n  /** \r\n   * Function used in save-scheme.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  constructor(private modalService: NgbModal, private toastrService: ToastrService, private schemeService: SchemeService) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   */\r\n  onClick(): void {\r\n    this.triggerModal(this.content);\r\n  }\r\n\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          this.schemeService.create({ title: this.schemeTitle, body: JSON.stringify(CanvasManagerInterface.getJsonData()) }).subscribe(\r\n            () => { this.toastrService.success(\"Successfully saved the scheme!\", \"\", { timeOut: 3000, progressBar: false }); },\r\n            () => { this.toastrService.success(\"Failed to save the scheme\", \"\", { timeOut: 3000, progressBar: false }); }\r\n          );\r\n        }\r\n      });\r\n  }\r\n}\r\n\r\n","/**\r\n * Module contains implementation of SegmentComponent. This button is used to create segment.\r\n * \r\n * @module Segment Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-segment',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/SegmentIcon.svg\" (click)=\"onClick();\" [ngClass]=\"{'icon-button-clicked': toggle}\" alt=\"Segment Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SegmentComponent {\r\n  /** \r\n   * Variable used to save state of this button.\r\n   * @ignore */\r\n  public toggle: boolean = false;\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Enable or disable drawing segments on {@link Canvas}.\r\n   */\r\n  onClick(): void {\r\n    if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.SEGMENT);\r\n      this.toggle = !this.toggle;\r\n    }\r\n    else if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.SEGMENT) {\r\n      Canvas.clearBatchLayer();\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n  }\r\n}","/**\r\n * Module contains implementation of SemiLineComponent. This button is used to create semi-line.\r\n * \r\n * @module Semi-Line Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-semiline',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/SemiLineIcon.svg\" (click)=\"onClick();\" [ngClass]=\"{'icon-button-clicked': toggle}\" alt=\"Semiline Creating\">\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SemilineComponent {\r\n  /** \r\n   * Variable used to save state of this button.\r\n   * @ignore */\r\n  public toggle: boolean = false;\r\n\r\n  /** Empty function */\r\n  constructor() { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Enable or disable drawing semi-lines on {@link Canvas}.\r\n   */\r\n  onClick(): void {\r\n    if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE) {\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.SEMILINE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n    else if (Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.SEMILINE) {\r\n      Canvas.clearBatchLayer();\r\n      Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n      this.toggle = !this.toggle;\r\n    }\r\n  }\r\n}","/**\r\n * Module contains implementation of SetAngleValueComponent. This button is used to set angle value.\r\n * \r\n * @module Set Angle Value Component\r\n */\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { Canvas } from '../../canvas';\r\nimport { AngleTypeEnum, CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-set-angle-value',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/AngleValueIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Angle Value\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Angle Value</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <input [(ngModel)]=\"value\" class=\"form-control\" id=\"angle-value\" placeholder=\"Enter Angle Value\">\r\n      <div class=\"form-check form-check-inline\">\r\n        <input class=\"form-check-input\" type=\"radio\" [(ngModel)]=\"angleType\" id=\"angleType1\" value=\"option1\" name=\"angleType\" checked>\r\n        <label class=\"form-check-label\" for=\"inlineCheckbox1\">Convex Angle</label>\r\n      </div>\r\n      <div class=\"form-check form-check-inline\">\r\n        <input class=\"form-check-input\" type=\"radio\" [(ngModel)]=\"angleType\" id=\"angleType2\" value=\"option2\" name=\"angleType\">\r\n        <label class=\"form-check-label\" for=\"inlineCheckbox2\">Concave Angle</label>\r\n      </div>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Enter Angle Value</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SetAngleValueComponent {\r\n  /** \r\n   * Variable used in set-angle-value.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /**\r\n   * Variable used to get information from modal.\r\n   * @ignore */\r\n  value: string = \"\";\r\n  angleType: string = \"option1\";\r\n\r\n  /** \r\n   * Function used in set-angle-value.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select 3 points.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Setting Angle Value\", [[ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT], [ShapeToSelect.EXISTING_POINT]],\r\n      () => {\r\n        this.triggerModal(this.content);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Function called to get value of angle and ask whether angle is concave or convex.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          let t;\r\n          if (this.angleType == \"option1\") {\r\n            t = AngleTypeEnum.CONVEX;\r\n          }\r\n          else {\r\n            t = AngleTypeEnum.CONCAVE;\r\n          }\r\n\r\n          let ids = ComplexShapeCreator.getChosenShapes();\r\n          CanvasManagerInterface.setAngleValue(ids[0][0], ids[1][0], ids[2][0], t, this.value);\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of SetLengthComponent. This button is used to set length.\r\n * \r\n * @module Set Length Component\r\n */\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Canvas } from '../../canvas';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\n\r\n@Component({\r\n  selector: 'app-set-length',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/SegmentLengthIcon.svg\" (click)=\"isTrue() && onClick();\" alt=\"Segment Length\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-header modal-title\">Enter Segment Length</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <input [(ngModel)]=\"length\" class=\"form-control\" id=\"segment-length\" placeholder=\"Enter Segment Length\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Enter Segment Length</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SetLengthComponent {\r\n  /** \r\n   * Variable used in set-length.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData\", { static: false }) content: any;\r\n\r\n  /**\r\n   * Variable used to get information from modal.\r\n   * @ignore */\r\n  length: string = \"\";\r\n\r\n  /** \r\n   * Function used in set-length.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select 2 points.\r\n   */\r\n  onClick() {\r\n    ComplexShapeCreator.chooseShapes(\"Setting Segment Length\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n      () => {\r\n        this.triggerModal(this.content);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Function called to get value of length.\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          let ids = ComplexShapeCreator.getChosenShapes();\r\n          if (ids[0].length == 2) {\r\n            let ends = ids[0];\r\n            CanvasManagerInterface.setLengthValue(ends[0], ends[1], this.length);\r\n          }\r\n          else {\r\n            CanvasManagerInterface.setSegmentLengthValue(ids[0][0], this.length);\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of SquareComponent. This button is used to create square.\r\n * \r\n * @module Square Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-square',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/SquareIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Square Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Square</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Square</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class SquareComponent {\r\n  /** \r\n   * Function used in square.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.fullConfigurePolygon(\r\n            [[-3, -3], [3, -3], [3, 3], [-3, 3]],\r\n            [],\r\n            [],\r\n            [0, 1],\r\n            [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE_XY | AvailableTransformation.ROTATE],\r\n            [[0, 1, 2, 3]],\r\n            [null],\r\n            [DragRangeType.NONE],\r\n            DependeciesSetToSet.SQUARE);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Choosing One Of Square Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n            () => {\r\n              let point_ids = ComplexShapeCreator.getChosenShapes();\r\n              let fixedPointsIds: number[] = [];\r\n              let fixedSidePoints: [number, number][] = [];\r\n\r\n              if (point_ids[0].length == 2) {\r\n                let ends = point_ids[0];\r\n                let end1 = Canvas.getShape(ends[0]);\r\n                let end2 = Canvas.getShape(ends[1]);\r\n                fixedPointsIds = [ends[0], ends[1]];\r\n                fixedSidePoints = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n              }\r\n              else {\r\n                fixedPointsIds = Canvas.getSegmentEnds(point_ids[0][0]);\r\n                let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n                fixedSidePoints = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n              }\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-3, -3], [3, -3], [3, 3], [-3, 3]],\r\n                fixedPointsIds,\r\n                fixedSidePoints,\r\n                [0, 1],\r\n                [AvailableTransformation.MIRROR_X],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.SQUARE)\r\n            });\r\n        }\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of TangentCircleComponent. This button is used to create tangent circle.\r\n * \r\n * @module Tangent Circle Component\r\n */\r\n\r\nimport { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { CanvasManagerInterface, ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { ComplexShapeCreator, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-tangent-circle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/TangentCircleToLineIcon.svg\" (click)=\"isTrue() && triggerModal(modalData);\" alt=\"Tangent Circle Creating\">\r\n\r\n  <ng-template #modalData let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Line Tangent To Circle</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Circle Tangent To Line</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Create Circle Tangent To Circle Externally</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec4')\">Create Circle Tangent To Circle Internally</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class TangentCircleComponent {\r\n  /** \r\n   * Function used in tangent-circle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n  * Initializing ModalService.\r\n  * @param modalService instance of ModalService\r\n  */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /**\r\n   * Function called after clicked on this component(button).\r\n   * Start function {@link ComplexShapeCreator.chooseShapes} to select point and segment.\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          ComplexShapeCreator.chooseShapes(\"Creating Tangent Line To Circle\", [[ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE], [ShapeToSelect.CIRCLE]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createTangentLine(ids[1][0], ids[0][0]);\r\n            });\r\n        }\r\n        else if (res == \"dec2\") {\r\n          ComplexShapeCreator.chooseShapes(\"Creating Tangent Circle To Line\", [[ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE], [ShapeToSelect.SEGMENT]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createTangentCircleToLine(ids[0][0], ids[1][0]);\r\n            });\r\n        }\r\n        else if (res == \"dec3\") {\r\n          ComplexShapeCreator.chooseShapes(\"Creatig Tangent Circle To Circle\", [[ShapeToSelect.CIRCLE], [ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createTangentCircleToCircle(ids[0][0], ids[1][0], true);\r\n            });\r\n        }\r\n        else if (res == \"dec4\") {\r\n          ComplexShapeCreator.chooseShapes(\"Creatig Tangent Circle To Circle\", [[ShapeToSelect.CIRCLE], [ShapeToSelect.EXISTING_POINT, ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS, ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE, ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT]],\r\n            () => {\r\n              let ids = ComplexShapeCreator.getChosenShapes();\r\n              CanvasManagerInterface.createTangentCircleToCircle(ids[0][0], ids[1][0], false);\r\n            });\r\n        }\r\n      });\r\n  }\r\n}","/**\r\n * Module contains implementation of TrapezoidComponent. This button is used to create specific trapezoid.\r\n * \r\n * @module Trapezoid Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-trapezoid',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/TrapezoidIcon.svg\" (click)=\"isTrue() && triggerModal(modalData1);\" alt=\"Trapezoid Creating\">\r\n \r\n  <ng-template #modalData1 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Trapezoid</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\" disabled>Create Dependent Trapezoid</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n     \r\n  <ng-template #modalData2 let-modal>\r\n  <div class=\"modal-header modal-title\">Choose Trapezoid Type</div>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Scalene Trapezoid</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec4')\">Isosceles Trapezoid</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec5')\">Right Trapezoid</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class TrapezoidComponent {\r\n  /**\r\n   * Variable used in trapezoid.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData2\", { static: false }) modalData2: any;\r\n\r\n  /** \r\n   * Variable used in choosing operation type.\r\n   * @ignore */\r\n  private unfetteredShape!: boolean;\r\n\r\n  /** \r\n   * Function used in trapezoid.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * or to ask for a type of trapezeoid to create\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          this.unfetteredShape = true;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          this.unfetteredShape = false;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec3\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[6.4, -2.8], [-6.4, -2.8], [-2.8, 2.8], [4.4, 2.8]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.ALL_BASIC],\r\n              [[0, 1, 2, 3]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.SCALENE_TRAPEZOID);\r\n          }\r\n          else {\r\n            alert(\"Currently Unavailable Function!\");\r\n            //this.getPoints((points: number[][]) => {\r\n            //  ComplexShapeCreator.fullConfigurePolygon(vertices, [], [0, 1], [AvailableTransformation.ALL_BASIC], [[0, 1, 2, 3]], [null], [DragRangeType.NONE]);\r\n            //});\r\n          }\r\n        }\r\n        else if (res == \"dec4\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[6.4, -2.8], [-6.4, -2.8], [-2.8, 2.8], [2.8, 2.8]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.ALL_BASIC],\r\n              [[0, 1, 2, 3]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.ISOSCELES_TRAPEZOID);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[6.4, -2.8], [-6.4, -2.8], [-2.8, 2.8], [2.8, 2.8]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.ISOSCELES_TRAPEZOID_BASE],\r\n                DependeciesSetToSet.ISOSCELES_TRAPEZOID);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec5\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[6.4, -2.8], [-6.4, -2.8], [-2.8, 2.8], [6.4, 2.8]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE | AvailableTransformation.ROTATE],\r\n              [[0, 1, 2, 3]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.RIGHT_TRAPEZOID);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[6.4, -2.8], [-6.4, -2.8], [-2.8, 2.8], [6.4, 2.8]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MIRROR | AvailableTransformation.MOVING_POINT],\r\n                [[0, 1, 2, 3]],\r\n                [null],\r\n                [DragRangeType.RIGHT_TRAPEZOID_BASE],\r\n                DependeciesSetToSet.RIGHT_TRAPEZOID);\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Function used in choosing fixed side points \r\n   * @param function_to_do_with_points function to apply after points choosing\r\n   * @ignore */\r\n  getFixedSidePoints(function_to_do_with_points: (points: number[][]) => void): void {\r\n    ComplexShapeCreator.chooseShapes(\"Choosing One Of Trapezoid Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n      () => {\r\n        let point_ids = ComplexShapeCreator.getChosenShapes();\r\n        let points: number[][] = [];\r\n\r\n        if (point_ids[0].length == 2) {\r\n          let ends = point_ids[0];\r\n          let end1 = Canvas.getShape(ends[0]);\r\n          let end2 = Canvas.getShape(ends[1]);\r\n          points = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n        }\r\n        else {\r\n          let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n          points = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n        }\r\n\r\n        function_to_do_with_points.call(null, points);\r\n      });\r\n  }\r\n}\r\n","/**\r\n * Module contains implementation of TriangleComponent. This button is used to create specific triangle.\r\n * \r\n * @module Triangle Component\r\n */\r\n\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Canvas } from '../../canvas';\r\nimport { ShapeToCreateEnum } from '../../canvas-manager-interface';\r\nimport { AvailableTransformation, ComplexShapeCreator, DependeciesSetToSet, DragRangeType, ShapeToSelect } from '../complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-triangle',\r\n  template: `\r\n  <input type=\"image\" class=\"icon-button\" src=\"/static/imgs/TriangleIcon.svg\" (click)=\"isTrue() && triggerModal(modalData1);\" alt=\"Triangle Creating\">\r\n\r\n  <ng-template #modalData1 let-modal>\r\n  <div class=\"modal-body\" style=\"display: flex; justify-content: center; background-color: #EBEBEB;\">\r\n    <div class=\"row\" style=\"display: flex; justify-content: center;\">\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec1')\">Create Unfettered Triangle</button>\r\n      <button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec2')\">Create Dependent Triangle</button>\r\n    </div>\r\n  </div>\r\n  </ng-template>\r\n    \r\n  <ng-template #modalData2 let-modal>\r\n  <div class=\"modal-header modal-title\">Choose Triangle Type</div>\r\n  <table class=\"table modal-body\" style=\"background-color: #EBEBEB;\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\"></th>\r\n        <th scope=\"col\">Scalene</th>\r\n        <th scope=\"col\">Isosceles</th>\r\n        <th scope=\"col\">Equilateral</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <th scope=\"row\">Acute</th>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec3')\">Choose</button></td>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec4')\">Choose</button></td>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec5')\">Choose</button></td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Right</th>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec6')\">Choose</button></td>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec7')\">Choose</button></td>\r\n        <td>X</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Obtuse</th>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec8')\">Choose</button></td>\r\n        <td><button type=\"button\" class=\"btn modal-btn\" (click)=\"modal.dismiss('dec9')\">Choose</button></td>\r\n        <td>X</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  </ng-template>\r\n  `,\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class TriangleComponent {\r\n  /** \r\n   * Variable used in triangle.component template.\r\n   * @ignore */\r\n  @ViewChild(\"modalData2\", { static: false }) modalData2: any;\r\n\r\n  /** \r\n   * Variable used in choosing operation type.\r\n   * @ignore */\r\n  private unfetteredShape!: boolean;\r\n\r\n  /** \r\n   * Function used in triangle.component template.\r\n   * Check if it is currently not possible drawing some shape.\r\n   * @ignore */\r\n  public isTrue() {\r\n    return Canvas.getCurrentyCreatedShape() == ShapeToCreateEnum.NONE;\r\n  }\r\n\r\n  /**\r\n   * Initializing ModalService.\r\n   * @param modalService instance of ModalService\r\n   */\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  /** \r\n   * Function called to ask for a type of creating shape(unfettered or on base other just created shapes)\r\n   * or to ask for a type of triangle to create\r\n   * @param content element with a question to display\r\n   */\r\n  triggerModal(content: any) {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      (res) => { }, (res) => {\r\n        if (res == \"dec1\") {\r\n          this.unfetteredShape = true;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec2\") {\r\n          this.unfetteredShape = false;\r\n          this.triggerModal(this.modalData2);\r\n        }\r\n        else if (res == \"dec3\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-4, -4], [4, -4], [-1, 4]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.ALL_BASIC],\r\n              [[0, 1]],\r\n              [ComplexShapeCreator.triangleIsAcute],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.NONE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-4, -4], [4, -4], [-1, 4]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2]],\r\n                [ComplexShapeCreator.triangleIsAcute],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.NONE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec4\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-4, -4], [4, -4], [0, 4]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.ALL_BASIC],\r\n              [[0, 1]],\r\n              [ComplexShapeCreator.triangleIsAcute],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.ISOSCELES_ACUTE_TRIANGLE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-4, -4], [4, -4], [0, 4]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR_X | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE],\r\n                [[0, 1, 2], [0, 2, 1, 0], [0, 2, 1, 2]],\r\n                [ComplexShapeCreator.triangleIsAcute, ComplexShapeCreator.triangleIsAcute, ComplexShapeCreator.triangleIsAcute],\r\n                [DragRangeType.ISOSCELES_TRIANGLE_BASE, DragRangeType.ISOSCELES_TRIANGLE_ARM, DragRangeType.ISOSCELES_TRIANGLE_ARM],\r\n                DependeciesSetToSet.ISOSCELES_ACUTE_TRIANGLE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec5\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-4, -3.464], [4, -3.464], [0, 3.464]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE_XY | AvailableTransformation.ROTATE],\r\n              [[0, 1]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.EQUILATERAL_TRIANGLE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-4, -3.464], [4, -3.464], [0, 3.464]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MIRROR_X],\r\n                [[0, 1]],\r\n                [null],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.EQUILATERAL_TRIANGLE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec6\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-5.47, -2.56], [4.8, -2.56], [0.96, 2.42]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE_XY | AvailableTransformation.ROTATE],\r\n              [[0, 1]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.SCALENE_RIGHT_TRIANGLE);\r\n          }\r\n          else { \r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-1.75, 0], [2, 0], [2, 3]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR_X | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE],\r\n                [[0, 1, 2], [2, 1, 0]],\r\n                [null, null],\r\n                [DragRangeType.RIGHT_TRIANGLE, DragRangeType.RIGHT_TRIANGLE_CATHETUS],\r\n                DependeciesSetToSet.SCALENE_RIGHT_TRIANGLE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec7\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-5, -2.6], [5, -2.6], [0, 2.4]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE_XY | AvailableTransformation.ROTATE],\r\n              [[0, 1]],\r\n              [null],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.ISOSCELES_RIGHT_TRIANGLE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-5, -2.6], [5, -2.6], [0, 2.4]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MIRROR_X | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MIRROR | AvailableTransformation.MIRROR_X | AvailableTransformation.CHANGE_SIDE],\r\n                [[0, 1], [1, 2]],\r\n                [null, null],\r\n                [DragRangeType.NONE, DragRangeType.NONE],\r\n                DependeciesSetToSet.ISOSCELES_RIGHT_TRIANGLE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec8\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[0, -3.2], [-5.8, -3.2], [4.2, 2.6]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.ALL_BASIC],\r\n              [[0, 1]],\r\n              [ComplexShapeCreator.triangleIsObtuse],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.NONE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[0, -3.2], [-5.8, -3.2], [4.2, 2.6]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR],\r\n                [[0, 1, 2]],\r\n                [ComplexShapeCreator.triangleIsObtuse],\r\n                [DragRangeType.NONE],\r\n                DependeciesSetToSet.NONE);\r\n            });\r\n          }\r\n        }\r\n        else if (res == \"dec9\") {\r\n          if (this.unfetteredShape) {\r\n            ComplexShapeCreator.fullConfigurePolygon(\r\n              [[-6, 2], [5, 2], [-0.5, 5]],\r\n              [],\r\n              [],\r\n              [0, 1],\r\n              [AvailableTransformation.TRANSLATE | AvailableTransformation.SCALE | AvailableTransformation.ROTATE],\r\n              [[0, 1]],\r\n              [ComplexShapeCreator.triangleIsObtuse],\r\n              [DragRangeType.NONE],\r\n              DependeciesSetToSet.OBTUSE_ISOSCELES_TRIANGLE);\r\n          }\r\n          else {\r\n            this.getFixedSidePoints((points: number[][]) => {\r\n              ComplexShapeCreator.fullConfigurePolygon(\r\n                [[-6, 2], [5, 2], [-0.5, 5]],\r\n                [],\r\n                [[points[0][0], points[0][1]], [points[1][0], points[1][1]]],\r\n                [0, 1],\r\n                [AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE, AvailableTransformation.MOVING_POINT | AvailableTransformation.MIRROR | AvailableTransformation.CHANGE_SIDE],\r\n                [[0, 1, 2], [0, 2, 1, 0], [0, 2, 1, 2]],\r\n                [ComplexShapeCreator.triangleIsObtuse, ComplexShapeCreator.triangleIsObtuse, ComplexShapeCreator.triangleIsObtuse],\r\n                [DragRangeType.ISOSCELES_TRIANGLE_BASE, DragRangeType.ISOSCELES_TRIANGLE_ARM, DragRangeType.ISOSCELES_TRIANGLE_ARM],\r\n                DependeciesSetToSet.OBTUSE_ISOSCELES_TRIANGLE);\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Function used in choosing fixed side points \r\n   * @param function_to_do_with_points function to apply after points choosing\r\n   * @ignore */\r\n  getFixedSidePoints(function_to_do_with_points: (points: number[][]) => void): void {\r\n    ComplexShapeCreator.chooseShapes(\"Choosing One Of Triangle Sides\", [[ShapeToSelect.SEGMENT, ShapeToSelect.SEGMENT_ENDS]],\r\n      () => {\r\n        let point_ids = ComplexShapeCreator.getChosenShapes();\r\n        let points: (number[])[] = [];\r\n\r\n        if (point_ids[0].length == 2) {\r\n          let ends = point_ids[0];\r\n          let end1 = Canvas.getShape(ends[0]);\r\n          let end2 = Canvas.getShape(ends[1]);\r\n          points = [[end1.getAttr('x'), end1.getAttr('y')], [end2.getAttr('x'), end2.getAttr('y')]];\r\n        }\r\n        else {\r\n          let segment_points = Canvas.getShape(point_ids[0][0]).getAttr('points');\r\n          points = [[segment_points[0], segment_points[1]], [segment_points[2], segment_points[3]]];\r\n        }\r\n\r\n        function_to_do_with_points.call(null, points);\r\n      });\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AvailableTransformation, ComplexShapeCreator } from './complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-complex-shape-creator',\r\n  templateUrl: './complex-shape-creator.component.html',\r\n  styleUrls: ['./../../dashboard.component.css']\r\n})\r\nexport class ComplexShapeCreatorComponent implements OnInit {\r\n  displayInstructions = false;\r\n  displayPolygonMovement = false;\r\n\r\n  availableTransformationType = AvailableTransformation.NONE;\r\n\r\n  title = \"\"\r\n  instructions = \"\"\r\n  displayMovingPointAlert = false;\r\n  movingPointAlert = \"\"\r\n\r\n  constructor() {\r\n    ComplexShapeCreator.displayInstructions$.subscribe(value => {\r\n      this.displayInstructions = value;\r\n    });\r\n\r\n    ComplexShapeCreator.displayPolygonMovement$.subscribe(value => {\r\n      this.displayPolygonMovement = value;\r\n    });\r\n\r\n    ComplexShapeCreator.titleToSet$.subscribe(value => {\r\n      this.title = value;\r\n    });\r\n\r\n    ComplexShapeCreator.instructionToSet$.subscribe(value => {\r\n      this.instructions = value;\r\n    });\r\n\r\n    ComplexShapeCreator.displayMovingPointAlert$.subscribe(value => {\r\n      this.displayMovingPointAlert = value;\r\n    });\r\n\r\n    ComplexShapeCreator.movingPointAlert$.subscribe(value => {\r\n      this.movingPointAlert = value;\r\n    });\r\n\r\n    ComplexShapeCreator.availableTransformationType$.subscribe(value => {\r\n      this.availableTransformationType = value;\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  /**\r\n  * Checking if specific transformation is now available to use.\r\n  * @param transformation specific transformation to check\r\n  * @returns true if transformation can be use, false otherwise\r\n  * @ignore */\r\n  public checkAvailableTransformation(transformation: AvailableTransformation): boolean {\r\n    return (transformation & this.availableTransformationType) != 0;\r\n  }\r\n\r\n  public cancelChoosing(): void {\r\n    ComplexShapeCreator.cancelChoosing();\r\n  }\r\n\r\n  public arrowUp() {\r\n    ComplexShapeCreator.translatePoints(0, 1, true);\r\n  }\r\n\r\n  public arrowDown() {\r\n    ComplexShapeCreator.translatePoints(0, -1, true);\r\n  }\r\n\r\n  public arrowLeft() {\r\n    ComplexShapeCreator.translatePoints(1, 0, true);\r\n  }\r\n\r\n  public arrowRight() {\r\n    ComplexShapeCreator.translatePoints(-1, 0, true);\r\n  }\r\n\r\n  public rescaleXPlus() {\r\n    ComplexShapeCreator.scalePoints(1.05, 1);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n  public rescaleYPlus() {\r\n    ComplexShapeCreator.scalePoints(1, 1.05);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n\r\n  public rescaleXYPlus() {\r\n    ComplexShapeCreator.scalePoints(1.05, 1.05);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n  public rescaleXMinus() {\r\n    ComplexShapeCreator.scalePoints(0.95, 1);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n  public rescaleYMinus() {\r\n    ComplexShapeCreator.scalePoints(1, 0.95);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n  public rescaleXYMinus() {\r\n    ComplexShapeCreator.scalePoints(0.95, 0.95);\r\n    ComplexShapeCreator.calculateTransformations();\r\n  }\r\n\r\n  public rotateClockwise() {\r\n    ComplexShapeCreator.rotatePoints(15, true, false);\r\n  }\r\n\r\n  public rotateCounterClockwise() {\r\n    ComplexShapeCreator.rotatePoints(15, false, false);\r\n  }\r\n\r\n  public cancelConfiguring(): void {\r\n    ComplexShapeCreator.cancelConfiguring();\r\n  }\r\n\r\n  public confirmPolygonCreating(): void {\r\n    ComplexShapeCreator.confirmPolygonCreating();\r\n  }\r\n\r\n  public changeSide(): void {\r\n    ComplexShapeCreator.changeSide();\r\n  }\r\n\r\n  public mirrorImageX(): void {\r\n    ComplexShapeCreator.mirrorImageX();\r\n  }\r\n\r\n  public mirrorImageY(): void {\r\n    ComplexShapeCreator.mirrorImageY();\r\n  }\r\n\r\n  public reverse(): void {\r\n    ComplexShapeCreator.reverse();\r\n  }\r\n}\r\n","<div *ngIf=\"displayInstructions\" class=\"d-flex justify-content-center\" style=\"height: 100%; width: 100%;\">\r\n    <div class=\"d-flex flex-column justify-content-center\" style=\"text-align: center; height: 100%; width: 100%;\">\r\n        <h5>{{title}}</h5>\r\n        <div class=\"spacer\"></div>\r\n        <h6>{{instructions}}</h6>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button (click)=\"cancelChoosing()\" class=\"btn my-btn\" style=\"width: 50%;\">Cancel</button>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"displayPolygonMovement\" class=\"d-flex justify-content-center\" style=\"height: 100%; width: 100%;\">\r\n    <div class=\"d-flex flex-column justify-content-center\" style=\"text-align: center; height: 100%; width: 100%;\">\r\n        <h5>Shape Configuring</h5>\r\n        <div *ngIf=\"displayMovingPointAlert\">\r\n            <div class=\"spacer\"></div>\r\n            <h6 style=\"margin-top: 20px; margin-bottom: 20px;\">{{movingPointAlert}}</h6>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div *ngIf=\"checkAvailableTransformation(3)\" class=\"d-flex flex-row icons-row\">\r\n            <input *ngIf=\"checkAvailableTransformation(1)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/LeftArrowIcon.svg\" (click)=\"arrowLeft();\" alt=\"Move Left\">\r\n            <input *ngIf=\"checkAvailableTransformation(2)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/DownArrowIcon.svg\" (click)=\"arrowDown();\" alt=\"Move Down\">\r\n            <input *ngIf=\"checkAvailableTransformation(2)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/UpArrowIcon.svg\" (click)=\"arrowUp();\" alt=\"Move Up\">\r\n            <input *ngIf=\"checkAvailableTransformation(1)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RightArrowIcon.svg\" (click)=\"arrowRight();\" alt=\"Move Right\">\r\n        </div>\r\n        <div *ngIf=\"checkAvailableTransformation(3)\" class=\"spacer\"></div>\r\n        <div *ngIf=\"checkAvailableTransformation(60)\" class=\"d-flex flex-row icons-row\">\r\n            <input *ngIf=\"checkAvailableTransformation(16)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleXYPlusIcon.svg\" (click)=\"rescaleXYPlus();\" alt=\"Scale Proportionally\">\r\n            <input *ngIf=\"checkAvailableTransformation(4)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleXPlusIcon.svg\" (click)=\"rescaleXPlus();\" alt=\"Scale Along X Axis\">\r\n            <input *ngIf=\"checkAvailableTransformation(8)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleYPlusIcon.svg\" (click)=\"rescaleYPlus();\" alt=\"Scale Along Y Axis\">\r\n            <input *ngIf=\"checkAvailableTransformation(32)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RotateClockwiseIcon.svg\" (click)=\"rotateClockwise();\" alt=\"Rotate Clockwise\">\r\n        </div>\r\n        <div *ngIf=\"checkAvailableTransformation(60)\" class=\"spacer\"></div>\r\n        <div *ngIf=\"checkAvailableTransformation(60)\" class=\"d-flex flex-row icons-row\">\r\n            <input *ngIf=\"checkAvailableTransformation(16)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleXYMinusIcon.svg\" (click)=\"rescaleXYMinus();\" alt=\"Scale Proportionally\">\r\n            <input *ngIf=\"checkAvailableTransformation(4)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleXMinusIcon.svg\" (click)=\"rescaleXMinus();\" alt=\"Scale Along X Axis\">\r\n            <input *ngIf=\"checkAvailableTransformation(8)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RescaleYMinusIcon.svg\" (click)=\"rescaleYMinus();\" alt=\"Scale Along Y Axis\">\r\n            <input *ngIf=\"checkAvailableTransformation(32)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/RotateCounterClockwiseIcon.svg\" (click)=\"rotateCounterClockwise();\" alt=\"Rotate Counter Clockwise\">\r\n        </div>\r\n        <div *ngIf=\"checkAvailableTransformation(60)\" class=\"spacer\"></div>\r\n        <div *ngIf=\"checkAvailableTransformation(1472)\" class=\"d-flex flex-row icons-row\">\r\n            <input *ngIf=\"checkAvailableTransformation(64)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/ChangeSideIcon.svg\" (click)=\"changeSide();\" alt=\"Change Side\">\r\n            <input *ngIf=\"checkAvailableTransformation(128)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/MirrorXIcon.svg\" (click)=\"mirrorImageX();\" alt=\"Mirror Image Along X\">\r\n            <input *ngIf=\"checkAvailableTransformation(256)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/MirrorYIcon.svg\" (click)=\"mirrorImageY();\" alt=\"Mirror Image Along Y\">\r\n            <input *ngIf=\"checkAvailableTransformation(1024)\" type=\"image\" class=\"icon-button\" src=\"/static/imgs/ReverseIcon.svg\" (click)=\"reverse();\" alt=\"Reverse\">\r\n        </div>\r\n        <div *ngIf=\"checkAvailableTransformation(1472)\" class=\"spacer\"></div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button (click)=\"confirmPolygonCreating()\" class=\"btn my-btn\" style=\"width: 50%;\">Confirm</button>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button (click)=\"cancelConfiguring()\" class=\"btn my-btn\" style=\"width: 50%;\">Cancel</button>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n    </div>\r\n</div>","/**\r\n * Module contains a static class ComplexShapeCreator for creating complex geometric shapes \r\n * or constructions and an enum ShapeToSelect for selecting the necessary shapes for ComplexShapeCreator purpose.\r\n * \r\n * @module Complex Shapes Creator\r\n */\r\n\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { Canvas, ComplexShapeEnum } from \"../../canvas\";\r\nimport { CanvasManagerInterface, PolygonTypeEnum, ShapeToCreateEnum } from \"../../canvas-manager-interface\";\r\n\r\n/**\r\n * Enum holds available shapes to select to create complex shapes or geometric constructions.\r\n */\r\nexport enum ShapeToSelect {\r\n    EXISTING_POINT,\r\n    NEW_POINT_CLICK_ON_CANVAS,\r\n    NEW_POINT_CLICK_ON_SEGMENT,\r\n    NEW_POINT_CLICK_ON_CIRCLE,\r\n    SEGMENT,\r\n    SEGMENT_ENDS,\r\n    CIRCLE\r\n}\r\n\r\n/**\r\n * Enum holds available shape transformations.\r\n */\r\nexport enum AvailableTransformation {\r\n    NONE = 0,\r\n    // basic transformations:\r\n    TRANSLATE_X = 1,\r\n    TRANSLATE_Y = 2,\r\n    TRANSLATE = 3,\r\n    SCALE_X = 4,\r\n    SCALE_Y = 8,\r\n    SCALE_XY = 16,\r\n    SCALE = 28,\r\n    ROTATE = 32,\r\n    ALL_BASIC = 63,\r\n    // special transformations:\r\n    CHANGE_SIDE = 64,\r\n    MIRROR_X = 128,\r\n    MIRROR_Y = 256,\r\n    MIRROR = 384,\r\n    ALL_SPECIAL = 448,\r\n    // additional transformation:\r\n    MOVING_POINT = 512,\r\n    REVERSE = 1024,\r\n}\r\n\r\n/**\r\n * Enum holds available drag range types.\r\n */\r\nexport enum DragRangeType {\r\n    NONE,\r\n    ISOSCELES_TRIANGLE_ARM,\r\n    ISOSCELES_TRIANGLE_BASE,\r\n    RIGHT_TRIANGLE,\r\n    RIGHT_TRIANGLE_CATHETUS,\r\n    RECTANGLE,\r\n    PARALLELOGRAM,\r\n    RHOMBUS,\r\n    KITE,\r\n    RIGHT_TRAPEZOID_BASE,\r\n    ISOSCELES_TRAPEZOID_BASE,\r\n}\r\n\r\nexport enum DependeciesSetToSet {\r\n    NONE,\r\n    ISOSCELES_ACUTE_TRIANGLE,\r\n    EQUILATERAL_TRIANGLE,\r\n    SCALENE_RIGHT_TRIANGLE,\r\n    ISOSCELES_RIGHT_TRIANGLE,\r\n    OBTUSE_ISOSCELES_TRIANGLE,\r\n    SQUARE,\r\n    RECTANGLE,\r\n    REGULAR_POLYGON,\r\n    PARALLELOGRAM,\r\n    KITE,\r\n    RHOMBUS,\r\n    SCALENE_TRAPEZOID,\r\n    ISOSCELES_TRAPEZOID,\r\n    RIGHT_TRAPEZOID\r\n}\r\n\r\n/**\r\n * Static class which managers creating complex shapes and geometric constructions.\r\n */\r\nexport class ComplexShapeCreator {\r\n    public static displayComplexShapeCreator$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    /** Behavior Subject variable used to define if instructions should be displayed on dashboard. */\r\n    public static displayInstructions$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    /** Behavior Subject variable used to define if buttons to modify creating polygon should be displayed on dashboard. */\r\n    public static displayPolygonMovement$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    /** Behavior Subject variable used to define title of instructions displayed on dashboard. */\r\n    public static titleToSet$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n\r\n    /** Behavior Subject variable used to define instructions displayed on dashboard. */\r\n    public static instructionToSet$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n\r\n    /** Behavior Subject variable used to define type of available configuration on dashboard. */\r\n    public static availableTransformationType$: BehaviorSubject<number> = new BehaviorSubject<number>(0);\r\n\r\n    /** Behavior Subject variable used to define if moving point alert should be displayed. */\r\n    public static displayMovingPointAlert$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    /** Behavior Subject variable used to define moving point alert displayed on dashboard */\r\n    public static movingPointAlert$: BehaviorSubject<string> = new BehaviorSubject<string>(\"\");\r\n\r\n    /** Array with ShapeToSelect elements arrays. It defines order in which the shapes are selected.\r\n     * In one step it is possible to select different shapes. */\r\n    private static shapesToClick: (ShapeToSelect[])[];\r\n\r\n    /** Function to be executed after selection of given shapes of given types. */\r\n    private static functionToDo: Function\r\n\r\n    /** Array with shape IDs which have already been clicked. */\r\n    private static shapesClicked: ([number] | [number, number])[];\r\n\r\n    /** Counter of already selected shapes. */\r\n    private static counter: number;\r\n\r\n    /** Array with point IDs which represent segment ends(used to select ShapeToSelect.SEGMENT_ENDS type shape). */\r\n    private static segmentEndsChoosing: number[];\r\n\r\n    /** Constant value used to scale the size of created shapes.\r\n     * ComplexShapeCreator makes the size of the created shapes dependent of the size of the canvas. */\r\n    private static unitDivisor: number = 44;\r\n\r\n    /** Array with arrays representing coordinates of start unit vertices of the currently created shape. */\r\n    private static startVertices: [number, number][];\r\n\r\n    /** Array with arrays representing coordinates of currently calculated vertices of the currently created shape.*/\r\n    private static currentPoints: [number, number][];\r\n\r\n    private static fixedVerticesIds: number[];\r\n\r\n    /** Array with arrays representing coordinates of fixed points. \r\n     * Fixed points are points that cannot be modified by the user. */\r\n    private static fixedVertices: [number, number][];\r\n\r\n    /** Number indicating whether the fixedVertices array should be processed from the beginning or from the end.  */\r\n    private static fixedVerticesStartPoint: number;\r\n\r\n    /** Counter indicating the shape transformation currently being processed. */\r\n    private static transformationsCounter: number;\r\n\r\n    /** Array of array containing the order in which shape vertices should be processed. */\r\n    private static parsedSidesOrder: number[][];\r\n\r\n    /** The numbers of vertices of the shape which form a segment parallel to the OX axis. */\r\n    private static oxAxis: [number, number];\r\n\r\n    /** Array of numbers specifying possible transformations. \r\n     * {@link AvailableTransformation }'s are combined using the logical operator OR. */\r\n    private static availableTransformations: number[];\r\n\r\n    /** Array with functions that take the current coordinates of the points of the shape to be created, \r\n     * which must return true to validate the shape's creation. */\r\n    private static confirmationFunctions: (((endVertices: [number, number][]) => boolean) | null)[];\r\n\r\n    /** Array of drag range types used to limit movement of moving point. */\r\n    private static dragRanges: DragRangeType[];\r\n\r\n    private static polygonType: DependeciesSetToSet;\r\n\r\n    /** Empty function: static class has no constructor. */\r\n    constructor() { }\r\n\r\n    /**\r\n     * Calculating shape size unit value for a given canva.\r\n     * The value is negative because the axes in canva are reversed relative to the Cartesian system. \r\n     * @returns value of calculated unit\r\n     */\r\n    public static getUnit(): number {\r\n        return -Math.min(Canvas.getScreenWidth(), Canvas.getScreenHeight()) / ComplexShapeCreator.unitDivisor;\r\n    }\r\n\r\n    /**\r\n     * Start choosing shapes to create complex shape or geometrical construction.\r\n     * @param title title of instructions to set\r\n     * @param shapes array with shapes arrays to select\r\n     * @param functionToDo function to apply after selection of given shapes with given types\r\n     */\r\n    public static chooseShapes(title: string, shapes: (ShapeToSelect[])[], functionToDo: Function): void {\r\n        Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.COMPLEX_SHAPE);\r\n        ComplexShapeCreator.counter = 0;\r\n        ComplexShapeCreator.shapesToClick = shapes;\r\n        ComplexShapeCreator.functionToDo = functionToDo;\r\n        ComplexShapeCreator.shapesClicked = [];\r\n        ComplexShapeCreator.segmentEndsChoosing = [];\r\n\r\n        ComplexShapeCreator.titleToSet$.next(title);\r\n        ComplexShapeCreator.instructionToSet$.next(ComplexShapeCreator.getInstructions());\r\n        ComplexShapeCreator.displayComplexShapeCreator$.next(true);\r\n        ComplexShapeCreator.displayInstructions$.next(true);\r\n    }\r\n\r\n    /**\r\n     * Cancel choosing shapes to create complex shape or geometrical construction.\r\n     */\r\n    public static cancelChoosing(): void {\r\n        Canvas.setCurrentlyComplexShape(ComplexShapeEnum.NONE);\r\n        Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n        Canvas.setBaseToPromptingLine(null);\r\n        ComplexShapeCreator.displayComplexShapeCreator$.next(false);\r\n        ComplexShapeCreator.displayInstructions$.next(false);\r\n        ComplexShapeCreator.titleToSet$.next(\"\");\r\n        ComplexShapeCreator.instructionToSet$.next(\"\");\r\n        Canvas.activateShapes([]);\r\n        Canvas.clearBatchLayer();\r\n    }\r\n\r\n    /**\r\n     * Check if event from {@link Canvas} - click on canvas - matches to the currenty required shape type to select.\r\n     * If it matches process event.\r\n     * @param x X coordinate of click\r\n     * @param y Y coordinate of click \r\n     * @param next_id ID to set for new created shape\r\n     */\r\n    public static clickedOnCanvas(x: number, y: number, next_id: number): void {\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS)) {\r\n            ComplexShapeCreator.shapesClicked.push([next_id]);\r\n            CanvasManagerInterface.clickedOnCanvas(x, y);\r\n            Canvas.waitForShapeAppear(next_id);\r\n            ComplexShapeCreator.afterClickedOnShape();\r\n        }\r\n    }\r\n\r\n    public static arrayIncludesId(array: ([number] | [number, number])[], id: ([number] | [number, number])): boolean {\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (array[i].length == 1 && id.length == 1) {\r\n                if (array[i][0] == id[0]) {\r\n                    return true;\r\n                }\r\n            }\r\n            else if (array[i].length == 2 && id.length == 2) {\r\n                if (array[i][0] == id[0] && array[i][1] == id[1]) {\r\n                    return true;\r\n                }\r\n                else if (array[i][0] == id[1] && array[i][1] == id[0]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if event from {@link Canvas} - click on point - matches to the currenty required shape type to select.\r\n     * If it matches process event.\r\n     * @param id ID of clicked shape\r\n     */\r\n    public static clickedOnPoint(id: number): void {\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.EXISTING_POINT)) {\r\n            if (!ComplexShapeCreator.arrayIncludesId(ComplexShapeCreator.shapesClicked, [id])) {\r\n                ComplexShapeCreator.shapesClicked.push([id]);\r\n                ComplexShapeCreator.afterClickedOnShape();\r\n            }\r\n        }\r\n        else if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.SEGMENT_ENDS)) {\r\n            if (!(ComplexShapeCreator.segmentEndsChoosing.includes(id))) {\r\n                ComplexShapeCreator.segmentEndsChoosing.push(id);\r\n\r\n                let shapesToActivate: number[] = [];\r\n                ComplexShapeCreator.segmentEndsChoosing.forEach(element => {\r\n                    shapesToActivate.push(element);\r\n                });\r\n\r\n                ComplexShapeCreator.shapesClicked.forEach(element => {\r\n                    if (element.length == 1) {\r\n                        shapesToActivate.push(element[0]);\r\n                    }\r\n                    else {\r\n                        shapesToActivate.push(element[0]);\r\n                        shapesToActivate.push(element[1]);\r\n                    }\r\n                });\r\n                Canvas.activateShapes(shapesToActivate);\r\n\r\n                if (ComplexShapeCreator.segmentEndsChoosing.length == 2) {\r\n                    let segment_id: [number, number] = [0, 0];\r\n                    if (ComplexShapeCreator.segmentEndsChoosing[0] < ComplexShapeCreator.segmentEndsChoosing[1])\r\n                        segment_id = [ComplexShapeCreator.segmentEndsChoosing[0], ComplexShapeCreator.segmentEndsChoosing[1]];\r\n                    else\r\n                        segment_id = [ComplexShapeCreator.segmentEndsChoosing[1], ComplexShapeCreator.segmentEndsChoosing[0]];\r\n\r\n                    if (!ComplexShapeCreator.arrayIncludesId(ComplexShapeCreator.shapesClicked, segment_id)) {\r\n                        ComplexShapeCreator.shapesClicked.push(segment_id);\r\n                        ComplexShapeCreator.segmentEndsChoosing = [];\r\n                        ComplexShapeCreator.afterClickedOnShape();\r\n                    }\r\n                    else {\r\n                        // version 1\r\n                        //ComplexShapeCreator.segmentEndsChoosing.pop();\r\n                        //Canvas.activateShapes(ComplexShapeCreator.shapesClicked.concat(ComplexShapeCreator.segmentEndsChoosing));\r\n\r\n                        // version 2\r\n                        ComplexShapeCreator.segmentEndsChoosing = [];\r\n\r\n                        shapesToActivate = [];\r\n                        ComplexShapeCreator.shapesClicked.forEach(element => {\r\n                            if (element.length == 1) {\r\n                                shapesToActivate.push(element[0]);\r\n                            }\r\n                            else {\r\n                                shapesToActivate.push(element[0]);\r\n                                shapesToActivate.push(element[1]);\r\n                            }\r\n                        });\r\n                        Canvas.activateShapes(shapesToActivate);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if event from {@link Canvas} - click on line - matches to the currenty required shape type to select.\r\n     * If it matches process event.\r\n     * @param id ID of clicked shape\r\n     * @param x X coordinate of click\r\n     * @param y Y coordinate of click \r\n     * @param next_id ID to set for new created shape\r\n     */\r\n    public static clickedOnLine(id: number, x: number, y: number, next_id: number): void {\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.SEGMENT)) {\r\n            let endIDs = Canvas.getSegmentEnds(id);\r\n            if (!ComplexShapeCreator.arrayIncludesId(ComplexShapeCreator.shapesClicked, endIDs)) {\r\n                if (Canvas.getCurrentlyComplexShape() == ComplexShapeEnum.PERPENDICULAR_LINE || Canvas.getCurrentlyComplexShape() == ComplexShapeEnum.PARALLEL_LINE) {\r\n                    let segment = Canvas.getShape(id);\r\n                    let p = segment.getAttr('points');\r\n                    if (Canvas.compareNumbers(p[0] - p[2], 0, 0.1)) {\r\n                        Canvas.setBaseToPromptingLine([null, p[0]]);\r\n                    }\r\n                    else {\r\n                        let a = (p[1] - p[3]) / (p[0] - p[2]);\r\n                        let b = p[1] - a * p[0];\r\n                        Canvas.setBaseToPromptingLine([a, b]);\r\n                    }\r\n                }\r\n\r\n                if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.SEGMENT_ENDS)) {\r\n                    ComplexShapeCreator.shapesClicked.push(endIDs);\r\n                }\r\n                else {\r\n                    ComplexShapeCreator.shapesClicked.push([id]);\r\n                }\r\n\r\n                ComplexShapeCreator.afterClickedOnShape();\r\n            }\r\n        }\r\n        else if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT)) {\r\n            ComplexShapeCreator.shapesClicked.push([next_id]);\r\n            CanvasManagerInterface.clickedOnSegment(id, x, y);\r\n            Canvas.waitForShapeAppear(next_id);\r\n            ComplexShapeCreator.afterClickedOnShape();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if event from {@link Canvas} - click on circle - matches to the currenty required shape type to select.\r\n     * If it matches process event.\r\n     * @param id ID of clicked shape\r\n     * @param x X coordinate of click\r\n     * @param y Y coordinate of click \r\n     * @param next_id ID to set for new created shape\r\n     */\r\n    public static clickedOnCircle(id: number, x: number, y: number, next_id: number): void {\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.CIRCLE)) {\r\n            if (!ComplexShapeCreator.arrayIncludesId(ComplexShapeCreator.shapesClicked, [id])) {\r\n                ComplexShapeCreator.shapesClicked.push([id]);\r\n                ComplexShapeCreator.afterClickedOnShape();\r\n            }\r\n        }\r\n        else if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE)) {\r\n            ComplexShapeCreator.shapesClicked.push([next_id]);\r\n            CanvasManagerInterface.clickedOnCircle(id, x, y);\r\n            Canvas.waitForShapeAppear(next_id);\r\n            ComplexShapeCreator.afterClickedOnShape();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get IDs of selected shapes.\r\n     * @returns array with IDs of selected shapes\r\n     */\r\n    public static getChosenShapes(): ([number] | [number, number])[] {\r\n        return ComplexShapeCreator.shapesClicked;\r\n    }\r\n\r\n    /**\r\n     * Initializing smooth and intuitive specific shape creation \r\n     * @param startUnitVertices array with  arrays representing shape vertices coordinates in unit size\r\n     * @param fixedVertices array with numbers of shape vertices which are fixed\r\n     * @param oxAxis array with numbers of shape vertices which form a segment parallel to the OX axis\r\n     * @param availableTransformations array with numbers representing available transformations\r\n     * @param parsedSidesOrder order of shape vertices in which shape vertices should be processed\r\n     * @param confirmationFunctions array with functions which validate the correctness of the properties of the modified shape\r\n     * @param dragRanges array with drag ranges which limit movement of moving point\r\n     */\r\n    public static fullConfigurePolygon(startUnitVertices: [number, number][], fixedVerticesIds: number[], fixedVertices: [number, number][], oxAxis: [number, number], availableTransformations: number[], parsedSidesOrder: number[][], confirmationFunctions: (((endVertices: [number, number][]) => boolean) | null)[], dragRanges: DragRangeType[], polygonType: DependeciesSetToSet): void {\r\n        let calculatedUnit = ComplexShapeCreator.getUnit();\r\n        let centerX = Canvas.getWidth() / 2;\r\n        let centerY = Canvas.getHeight() / 2;\r\n        for (let i = 0; i < startUnitVertices.length; i++) {\r\n            startUnitVertices[i] = [centerX + startUnitVertices[i][0] * calculatedUnit, centerY + startUnitVertices[i][1] * calculatedUnit];\r\n        }\r\n        ComplexShapeCreator.startVertices = startUnitVertices.map((el) => { return el; });\r\n        ComplexShapeCreator.currentPoints = startUnitVertices.map((el) => { return el; });\r\n        ComplexShapeCreator.fixedVerticesIds = fixedVerticesIds.map((el) => { return el; });\r\n        ComplexShapeCreator.fixedVertices = fixedVertices.map((el) => { return el; });\r\n        ComplexShapeCreator.transformationsCounter = 0;\r\n        ComplexShapeCreator.fixedVerticesStartPoint = 0;\r\n        ComplexShapeCreator.oxAxis = oxAxis;\r\n        ComplexShapeCreator.parsedSidesOrder = parsedSidesOrder;\r\n        ComplexShapeCreator.availableTransformations = availableTransformations;\r\n        ComplexShapeCreator.confirmationFunctions = confirmationFunctions;\r\n        ComplexShapeCreator.dragRanges = dragRanges;\r\n        ComplexShapeCreator.polygonType = polygonType;\r\n\r\n        ComplexShapeCreator.calculateTransformations();\r\n\r\n        ComplexShapeCreator.correctCurrentPoints();\r\n\r\n        ComplexShapeCreator.availableTransformationType$.next(availableTransformations[0]);\r\n        ComplexShapeCreator.displayComplexShapeCreator$.next(true);\r\n        ComplexShapeCreator.displayPolygonMovement$.next(true);\r\n\r\n        setTimeout(() => { Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints); }, 50);\r\n    }\r\n\r\n    /**\r\n     * Calculating start transformations and setting moving point properties if applicable \r\n     */\r\n    public static calculateTransformations(): void {\r\n        if (ComplexShapeCreator.fixedVertices.length == 0) {\r\n            Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n        }\r\n        else if (ComplexShapeCreator.fixedVertices.length == 2) {\r\n            let p = ComplexShapeCreator.parsedSidesOrder[ComplexShapeCreator.transformationsCounter];\r\n            let fs = ComplexShapeCreator.fixedVertices;\r\n            if (ComplexShapeCreator.fixedVerticesStartPoint == 1) {\r\n                fs = [fs[1], fs[0]];\r\n            }\r\n            let ps = [ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]];\r\n\r\n            // calculating scale\r\n            let fs_module = ComplexShapeCreator.calculateSideLength(fs as [[number, number], [number, number]]);\r\n            let ps_module = ComplexShapeCreator.calculateSideLength(ps as [[number, number], [number, number]]);\r\n\r\n            let k = fs_module / ps_module;\r\n            ComplexShapeCreator.scalePoints(k, k);\r\n\r\n            // calculating rotation\r\n            ps = [ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]];\r\n\r\n            let theta1 = Math.atan2(fs[1][1] - fs[0][1], fs[1][0] - fs[0][0]);\r\n            let theta2 = Math.atan2(ps[1][1] - ps[0][1], ps[1][0] - ps[0][0]);\r\n            let theta = theta2 - theta1;\r\n            if (Math.abs(theta) < 0.5) { // under ComplexShapeCreator threshold trigonometric functions become inaccurate - creating bigger difference\r\n                ComplexShapeCreator.rotatePoints(1, false, true);\r\n                ps = [ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]];\r\n                theta1 = Math.atan2(fs[1][1] - fs[0][1], fs[1][0] - fs[0][0]);\r\n                theta2 = Math.atan2(ps[1][1] - ps[0][1], ps[1][0] - ps[0][0]);\r\n                theta = theta2 - theta1;\r\n            }\r\n            ComplexShapeCreator.rotatePoints(theta, false, true);\r\n\r\n            // calculating translation\r\n            ps = [ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]];\r\n            let tx = fs[0][0] - ps[0][0];\r\n            let ty = fs[0][1] - ps[0][1];\r\n            ComplexShapeCreator.translatePoints(tx, ty, false);\r\n        }\r\n        else { } // unuse \r\n\r\n        if (ComplexShapeCreator.availableTransformations[ComplexShapeCreator.transformationsCounter] & AvailableTransformation.MOVING_POINT) {\r\n            let p = ComplexShapeCreator.parsedSidesOrder[ComplexShapeCreator.transformationsCounter];\r\n            let dragRange = ComplexShapeCreator.dragRanges[ComplexShapeCreator.transformationsCounter];\r\n\r\n            let coordsChanger: (x: number, y: number) => [number, number];\r\n\r\n            if (dragRange == DragRangeType.ISOSCELES_TRIANGLE_ARM) {\r\n                coordsChanger = (x, y) => {\r\n                    let r = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]]);\r\n                    let new_coords = ComplexShapeCreator.getCoordsOnCircle(ComplexShapeCreator.currentPoints[p[3]][0], ComplexShapeCreator.currentPoints[p[3]][1], r, x, y);\r\n                    ComplexShapeCreator.currentPoints[p[2]] = new_coords;\r\n                    Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                    return new_coords;\r\n                }\r\n\r\n                let r = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[p[0]], ComplexShapeCreator.currentPoints[p[1]]]);\r\n                let x = ComplexShapeCreator.currentPoints[p[2]][0];\r\n                let y = ComplexShapeCreator.currentPoints[p[2]][1];\r\n                let new_coords = ComplexShapeCreator.getCoordsOnCircle(ComplexShapeCreator.currentPoints[p[3]][0], ComplexShapeCreator.currentPoints[p[3]][1], r, x, y);\r\n                ComplexShapeCreator.currentPoints[p[2]] = new_coords;\r\n\r\n                Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n            }\r\n            else if (dragRange == DragRangeType.ISOSCELES_TRIANGLE_BASE) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                if (Canvas.compareNumbers(p1[1] - p2[1], 0, 0.1)) {\r\n                    // mid-perpendicular line to the triangle base: x = b\r\n                    let b = (p1[0] + p2[0]) / 2;\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [b, y];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [b, y];\r\n                    }\r\n                }\r\n                else {\r\n                    // mid-perpendicular line to the triangle base: y = ax + b\r\n                    let a = (p1[0] - p2[0]) / (p2[1] - p1[1]);\r\n                    let midx = (p1[0] + p2[0]) / 2;\r\n                    let midy = (p1[1] + p2[1]) / 2;\r\n                    let b = midy - a * midx;\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        let newX = (y - b) / a;\r\n                        let newY = a * x + b;\r\n                        let d1 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[p[2]], [x, newY]]);\r\n                        let d2 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[p[2]], [newX, y]]);\r\n\r\n                        if (d1 < d2) {\r\n                            ComplexShapeCreator.currentPoints[p[2]] = [x, a * x + b];\r\n                            Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n                            return [x, a * x + b];\r\n                        }\r\n                        else {\r\n                            ComplexShapeCreator.currentPoints[p[2]] = [(y - b) / a, y];\r\n                            Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n                            return [(y - b) / a, y];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.RIGHT_TRIANGLE) {\r\n                let e1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let e2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                let r = 0.5 * ComplexShapeCreator.calculateSideLength([e1, e2]);\r\n                let centerX = 0.5 * (e1[0] + e2[0]);\r\n                let centerY = 0.5 * (e1[1] + e2[1]);\r\n\r\n                coordsChanger = (x, y) => {\r\n                    let new_coords = ComplexShapeCreator.getCoordsOnCircle(centerX, centerY, r, x, y);\r\n                    ComplexShapeCreator.currentPoints[p[2]] = new_coords;\r\n                    Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                    return new_coords;\r\n                }\r\n\r\n                let x = ComplexShapeCreator.currentPoints[p[2]][0];\r\n                let y = ComplexShapeCreator.currentPoints[p[2]][1];\r\n                let new_coords = ComplexShapeCreator.getCoordsOnCircle(centerX, centerY, r, x, y);\r\n                ComplexShapeCreator.currentPoints[p[2]] = new_coords;\r\n\r\n                Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n            }\r\n            else if (dragRange == DragRangeType.RIGHT_TRIANGLE_CATHETUS) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                if (Canvas.compareNumbers(p1[1] - p2[1], 0, 0.1)) {\r\n                    // perpendicular line to the triangle cathetus: x = b\r\n                    let b = p2[0];\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [b, y];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [b, y];\r\n                    }\r\n                }\r\n                else {\r\n                    // perpendicular line to the triangle cathetus: y = ax + b\r\n                    let a = (p1[0] - p2[0]) / (p2[1] - p1[1]);\r\n                    let b = p2[1] - a * p2[0];\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, a * x + b];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, a * x + b];\r\n                    }\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.RECTANGLE) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                if (Canvas.compareNumbers(p1[1] - p2[1], 0, 0.1)) {\r\n                    // perpendicular line to the rectangle side: x = b\r\n                    let b = p2[0];\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [b, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]][1] = y;\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [b, y];\r\n                    }\r\n                }\r\n                else {\r\n                    // perpendicular line to the rectangle side: y = ax + b\r\n                    let a = (p1[0] - p2[0]) / (p2[1] - p1[1]);\r\n                    let b = p2[1] - a * p2[0];\r\n\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, a * x + b];\r\n                        let dx = x - p2[0];\r\n                        let dy = a * x + b - p2[1];\r\n                        ComplexShapeCreator.currentPoints[p[3]] = [p1[0] + dx, p1[1] + dy];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, a * x + b];\r\n                    }\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.PARALLELOGRAM) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n\r\n                coordsChanger = (x, y) => {\r\n                    ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                    let dx = x - p2[0];\r\n                    let dy = y - p2[1];\r\n                    ComplexShapeCreator.currentPoints[p[3]] = [p1[0] + dx, p1[1] + dy];\r\n                    Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                    return [x, y];\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.RHOMBUS) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n\r\n                coordsChanger = (x, y) => {\r\n                    let r = ComplexShapeCreator.calculateSideLength([p1, p2]);\r\n                    let new_coords = ComplexShapeCreator.getCoordsOnCircle(p2[0], p2[1], r, x, y);\r\n                    ComplexShapeCreator.currentPoints[p[2]] = new_coords;\r\n                    let dx = new_coords[0] - p2[0];\r\n                    let dy = new_coords[1] - p2[1];\r\n                    ComplexShapeCreator.currentPoints[p[3]] = [p1[0] + dx, p1[1] + dy];\r\n                    Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                    return new_coords;\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.KITE) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n\r\n                coordsChanger = (x, y) => {\r\n                    let p3: [number, number] = [x, y]\r\n\r\n                    if (ComplexShapeCreator.angleIsObtuse(p1, p2, p3)) {\r\n\r\n                        let result: [number, number];\r\n\r\n                        if (Canvas.compareNumbers(p1[0] - p3[0], 0, 0.1)) {\r\n                            result = [2 * p1[0] - p2[0], p2[1]];\r\n                        }\r\n                        else if (Canvas.compareNumbers(p1[1] - p3[1], 0, 0.1)) {\r\n                            result = [p2[0], 2 * p1[1] - p2[1]];\r\n                        }\r\n                        else {\r\n                            let a1 = (p3[1] - p1[1]) / (p3[0] - p1[0]);\r\n                            let b1 = p3[1] - a1 * p3[0];\r\n                            let a2 = (p3[0] - p1[0]) / (p1[1] - p3[1]);\r\n                            let b2 = p2[1] - a2 * p2[0];\r\n\r\n                            let midx = (b2 - b1) / (a1 - a2);\r\n                            let midy = a1 * midx + b1;\r\n\r\n\r\n                            result = [2 * midx - p2[0], 2 * midy - p2[1]];\r\n                        }\r\n\r\n                        ComplexShapeCreator.currentPoints[p[2]] = p3;\r\n                        ComplexShapeCreator.currentPoints[p[3]] = result;\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n                    }\r\n\r\n                    return ComplexShapeCreator.currentPoints[p[2]];\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.RIGHT_TRAPEZOID_BASE) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                let p4 = ComplexShapeCreator.currentPoints[p[3]];\r\n\r\n                if (Canvas.compareNumbers(p1[0] - p2[0], 0, 0.1)) {\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]][0] = x;\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n                else if (Canvas.compareNumbers(p1[1] - p2[1], 0, 0.1)) {\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]][1] = y;\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n                else {\r\n                    coordsChanger = (x, y) => {\r\n                        let a1 = (p1[1] - p2[1]) / (p1[0] - p2[0]);\r\n                        let b1 = y - a1 * x;\r\n                        let a2 = (p2[0] - p1[0]) / (p1[1] - p2[1])\r\n                        let b2 = p4[1] - a2 * p4[0];\r\n                        let newX = (b2 - b1) / (a1 - a2);\r\n                        let newY = a1 * newX + b1;\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]] = [newX, newY];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n            }\r\n            else if (dragRange == DragRangeType.ISOSCELES_TRAPEZOID_BASE) {\r\n                let p1 = ComplexShapeCreator.currentPoints[p[0]];\r\n                let p2 = ComplexShapeCreator.currentPoints[p[1]];\r\n                let p4 = ComplexShapeCreator.currentPoints[p[3]];\r\n\r\n                if (Canvas.compareNumbers(p1[0] - p2[0], 0, 0.1)) {\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]] = [x, p1[1] - y + p2[1]];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n                else if (Canvas.compareNumbers(p1[1] - p2[1], 0, 0.1)) {\r\n                    coordsChanger = (x, y) => {\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]] = [p1[0] - x + p2[0], y];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n                else {\r\n                    coordsChanger = (x, y) => {\r\n                        // znana podstawa\r\n                        let a1 = (p2[1] - p1[1]) / (p2[0] - p1[0]);\r\n\r\n                        // druga podstawa\r\n                        let a2 = a1;\r\n                        let b2 = y - a2 * x;\r\n\r\n                        // prostopadla do znanej podstawy przez jej srodek\r\n                        let midX = (p1[0] + p2[0]) / 2;\r\n                        let midY = (p1[1] + p2[1]) / 2;\r\n                        let a3 = (p2[0] - p1[0]) / (p1[1] - p2[1]);\r\n                        let b3 = midY - a3 * midX;\r\n\r\n                        let midX2 = (b2 - b3) / (a3 - a2);\r\n                        let midY2 = a3 * midX2 + b3;\r\n\r\n                        ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                        ComplexShapeCreator.currentPoints[p[3]] = [2 * midX2 - x, 2 * midY2 - y];\r\n                        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                        return [x, y];\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                coordsChanger = (x, y) => {\r\n                    ComplexShapeCreator.currentPoints[p[2]] = [x, y];\r\n                    Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n\r\n                    return [x, y];\r\n                }\r\n            }\r\n\r\n            // creating instance of moving point\r\n            let mp = ComplexShapeCreator.currentPoints[p[2]];\r\n            Canvas.createMovingPromptingPoint(mp[0], mp[1], coordsChanger);\r\n        }\r\n\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    public static allPointOnCanvas(): boolean {\r\n        for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n            let element = ComplexShapeCreator.currentPoints[i];\r\n            if (element[0] <= 0 || element[1] <= 0 || element[0] >= Canvas.getWidth() || element[1] >= Canvas.getHeight()) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    public static correctCurrentPoints() {\r\n        //while(!ComplexShapeCreator.allPointOnCanvas()) {\r\n        //    console.log('JAKIS PUNKT JEST POZA CANVA');\r\n        //}\r\n    }\r\n\r\n    /**\r\n     * Cancel configuring shape\r\n     */\r\n    public static cancelConfiguring(): void {\r\n        ComplexShapeCreator.displayComplexShapeCreator$.next(false);\r\n        ComplexShapeCreator.displayPolygonMovement$.next(false);\r\n        ComplexShapeCreator.displayMovingPointAlert$.next(false);\r\n        ComplexShapeCreator.movingPointAlert$.next(\"\");\r\n        ComplexShapeCreator.currentPoints = [];\r\n        Canvas.clearBatchLayer();\r\n        Canvas.deleteMovingPromptingPoint();\r\n    }\r\n\r\n    /**\r\n    * Confirmation of the creation of a new shape. \r\n    * If the current function from {@link ComplexShapeCreator.confirmationFunctions} returns true, a new shape is created\r\n    */\r\n    public static confirmPolygonCreating(): void {\r\n        let confirmationFunction = ComplexShapeCreator.confirmationFunctions[ComplexShapeCreator.transformationsCounter];\r\n        if (confirmationFunction) {\r\n            if (!confirmationFunction.call(null, ComplexShapeCreator.currentPoints)) {\r\n                ComplexShapeCreator.displayMovingPointAlert$.next(true);\r\n                ComplexShapeCreator.movingPointAlert$.next(\"ComplexShapeCreator IS NOT THE CHOSEN SHAPE!\");\r\n                return;\r\n            }\r\n        }\r\n\r\n        Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.POINT);\r\n\r\n        let pointIds: number[] = [];\r\n\r\n        let n = ComplexShapeCreator.currentPoints.length;\r\n        for (let i = 0; i < n; i++) {\r\n            pointIds.push(CanvasManagerInterface.clickedOnCanvas(ComplexShapeCreator.currentPoints[i][0], ComplexShapeCreator.currentPoints[i][1]));\r\n        }\r\n\r\n        Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.SEGMENT);\r\n\r\n        let side1, side2, side3, maxLen, p1, p2, p3;\r\n\r\n        switch (ComplexShapeCreator.polygonType) {\r\n            case DependeciesSetToSet.ISOSCELES_ACUTE_TRIANGLE:\r\n                for (let i = 0; i < 3; i++) {\r\n                    if (Canvas.compareNumbers(\r\n                        ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[i], ComplexShapeCreator.currentPoints[(i + 1) % 3]]),\r\n                        ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[i], ComplexShapeCreator.currentPoints[(i + 2) % 3]]),\r\n                        1.0)) {\r\n                        let p1 = pointIds[i];\r\n                        let p2 = pointIds[(i + 1) % 3];\r\n                        let p3 = pointIds[(i + 2) % 3];\r\n                        pointIds = [p3, p2, p1]\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 3]);\r\n                }\r\n\r\n                // [base vertex 1, base vertex 2, top vertex]\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.ISOSCELES_ACUTE_TRIANGLE)\r\n                break;\r\n            case DependeciesSetToSet.EQUILATERAL_TRIANGLE:\r\n                for (let i = 0; i < 3; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 3]);\r\n                }\r\n\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.EQUILATERAL_TRIANGLE)\r\n                break;\r\n            case DependeciesSetToSet.SCALENE_RIGHT_TRIANGLE:\r\n                side1 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[0], ComplexShapeCreator.currentPoints[1]]);\r\n                side2 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[1], ComplexShapeCreator.currentPoints[2]]);\r\n                side3 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[2], ComplexShapeCreator.currentPoints[0]]);\r\n                maxLen = Math.max(side1, side2, side3);\r\n\r\n                p1 = pointIds[0];\r\n                p2 = pointIds[1];\r\n                p3 = pointIds[2];\r\n\r\n                if (maxLen == side1) {\r\n                    pointIds = [p3, p2, p1];\r\n                }\r\n                else if (maxLen == side2) {\r\n                    pointIds = [p1, p2, p3];\r\n                }\r\n                else {\r\n                    pointIds = [p2, p3, p1];\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 3]);\r\n                }\r\n\r\n                // [right angle vertex, hypotenuse vertex 1, hypotenuse vertex 2]\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.SCALENE_RIGHT_TRIANGLE)\r\n                break;\r\n            case DependeciesSetToSet.ISOSCELES_RIGHT_TRIANGLE:\r\n                side1 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[0], ComplexShapeCreator.currentPoints[1]]);\r\n                side2 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[1], ComplexShapeCreator.currentPoints[2]]);\r\n                side3 = ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[2], ComplexShapeCreator.currentPoints[0]]);\r\n                maxLen = Math.max(side1, side2, side3);\r\n\r\n                p1 = pointIds[0];\r\n                p2 = pointIds[1];\r\n                p3 = pointIds[2];\r\n\r\n                if (maxLen == side1) {\r\n                    pointIds = [p3, p2, p1];\r\n                }\r\n                else if (maxLen == side2) {\r\n                    pointIds = [p1, p2, p3];\r\n                }\r\n                else {\r\n                    pointIds = [p2, p3, p1];\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 3]);\r\n                }\r\n\r\n                // [right angle vertex, hypotenuse vertex 1, hypotenuse vertex 2]\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.ISOSCELES_RIGHT_TRIANGLE)\r\n                break;\r\n            case DependeciesSetToSet.OBTUSE_ISOSCELES_TRIANGLE:\r\n                for (let i = 0; i < 3; i++) {\r\n                    if (Canvas.compareNumbers(\r\n                        ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[i], ComplexShapeCreator.currentPoints[(i + 1) % 3]]),\r\n                        ComplexShapeCreator.calculateSideLength([ComplexShapeCreator.currentPoints[i], ComplexShapeCreator.currentPoints[(i + 2) % 3]]),\r\n                        1.0)) {\r\n                        let p1 = pointIds[i];\r\n                        let p2 = pointIds[(i + 1) % 3];\r\n                        let p3 = pointIds[(i + 2) % 3];\r\n                        pointIds = [p3, p2, p1]\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 3]);\r\n                }\r\n\r\n                // [base vertex 1, base vertex 2, top vertex]\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.OBTUSE_ISOSCELES_TRIANGLE)\r\n                break;\r\n            case DependeciesSetToSet.SQUARE:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.SQUARE)\r\n                break;\r\n            case DependeciesSetToSet.RECTANGLE:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.RECTANGLE)\r\n                break;\r\n            case DependeciesSetToSet.REGULAR_POLYGON:\r\n                for (let i = 0; i < pointIds.length; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % pointIds.length]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.REGULAR_POLYGON)\r\n                break;\r\n            case DependeciesSetToSet.PARALLELOGRAM:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                // pointIds[0] with pointIds[2] create axis of symmetry\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.PARALLELOGRAM)\r\n                break;\r\n            case DependeciesSetToSet.KITE:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.KITE)\r\n                break;\r\n            case DependeciesSetToSet.RHOMBUS:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.RHOMBUS)\r\n                break;\r\n            case DependeciesSetToSet.SCALENE_TRAPEZOID:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                // pointIds[0] with pointIds[1] and pointIds[2] with pointIds[3] are bases\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.SCALENE_TRAPEZOID)\r\n                break;\r\n            case DependeciesSetToSet.ISOSCELES_TRAPEZOID:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // points sorted clockwise or counter clockwise\r\n                // pointIds[0] with pointIds[1] and pointIds[2] with pointIds[3] are bases\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.ISOSCELES_TRAPEZOID)\r\n                break;\r\n            case DependeciesSetToSet.RIGHT_TRAPEZOID:\r\n                for (let i = 0; i < 4; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % 4]);\r\n                }\r\n\r\n                // pointIds[0] with pointIds[1] and pointIds[2] with pointIds[3] are bases\r\n                // points sorted clockwise or counter clockwise\r\n                CanvasManagerInterface.setPolygonType(pointIds, PolygonTypeEnum.RIGHT_TRAPEZOID)\r\n                break;\r\n            default:\r\n                for (let i = 0; i < n; i++) {\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[i]);\r\n                    CanvasManagerInterface.clickedOnPoint(pointIds[(i + 1) % n]);\r\n                }\r\n                break;\r\n        }\r\n\r\n        ComplexShapeCreator.cancelConfiguring();\r\n        Canvas.setCurrentyCreatedShape(ShapeToCreateEnum.NONE);\r\n    }\r\n\r\n\r\n    /**\r\n     * Changing side of polygon which is fixed. Updating available transformations\r\n     */\r\n    public static changeSide(): void {\r\n        Canvas.deleteMovingPromptingPoint();\r\n        ComplexShapeCreator.transformationsCounter = (ComplexShapeCreator.transformationsCounter + 1) % ComplexShapeCreator.availableTransformations.length;\r\n        ComplexShapeCreator.availableTransformationType$.next(ComplexShapeCreator.availableTransformations[ComplexShapeCreator.transformationsCounter]);\r\n        ComplexShapeCreator.currentPoints = ComplexShapeCreator.startVertices.map((el) => { return el; });\r\n        ComplexShapeCreator.displayMovingPointAlert$.next(false);\r\n        ComplexShapeCreator.movingPointAlert$.next(\"\");\r\n        ComplexShapeCreator.calculateTransformations();\r\n    }\r\n\r\n    /**\r\n     * Reflection relative to the line drawn by the {@link ComplexShapeCreator.fixedVertices} of {@link ComplexShapeCreator.currentPoints}\r\n     */\r\n    public static mirrorImageX(): void {\r\n        let fs = ComplexShapeCreator.fixedVertices;\r\n        if (Canvas.compareNumbers(fs[0][0] - fs[1][0], 0, 0.1)) {\r\n            for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n                let p = ComplexShapeCreator.currentPoints[i];\r\n                let b = fs[0][0];\r\n                if (!Canvas.compareNumbers(b - p[0], 0, 0.1)) {\r\n                    ComplexShapeCreator.currentPoints[i] = [2 * b - p[0], p[1]];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let a = (fs[0][1] - fs[1][1]) / (fs[0][0] - fs[1][0]);\r\n            let b = fs[0][1] - a * fs[0][0];\r\n\r\n            for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n                let p = ComplexShapeCreator.currentPoints[i];\r\n                let x = ((1 - a * a) / (a * a + 1)) * p[0] + (2 * a / ((a * a + 1))) * (p[1] - b);\r\n                let y = ((a * a - 1) / (a * a + 1)) * (p[1] - b) + (2 * a * p[0]) / (a * a + 1) + b;\r\n                ComplexShapeCreator.currentPoints[i] = [x, y];\r\n            }\r\n        }\r\n        Canvas.deleteMovingPromptingPoint();\r\n        ComplexShapeCreator.calculateTransformations();\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    /**\r\n     * Reflection relative to the perpendicular line to line drawn by the {@link ComplexShapeCreator.fixedVertices} of {@link ComplexShapeCreator.currentPoints}\r\n     */\r\n    public static mirrorImageY(): void {\r\n        Canvas.deleteMovingPromptingPoint();\r\n\r\n        ComplexShapeCreator.fixedVerticesStartPoint = (ComplexShapeCreator.fixedVerticesStartPoint + 1) % 2;\r\n        ComplexShapeCreator.calculateTransformations();\r\n        ComplexShapeCreator.mirrorImageX();\r\n\r\n        Canvas.deleteMovingPromptingPoint();\r\n\r\n        ComplexShapeCreator.calculateTransformations();\r\n    }\r\n\r\n    /**\r\n     * Translating of {@link ComplexShapeCreator.currentPoints} by vector [x, y]\r\n     * @param x first vector component\r\n     * @param y second vector component\r\n     * @param in_units true if values are in units, false otherwise\r\n     */\r\n    public static translatePoints(x: number, y: number, in_units: boolean): void {\r\n        if (in_units) {\r\n            let calculatedUnit = ComplexShapeCreator.getUnit();\r\n            x *= calculatedUnit;\r\n            y *= calculatedUnit;\r\n        }\r\n\r\n        for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n            let p = ComplexShapeCreator.currentPoints[i];\r\n            ComplexShapeCreator.currentPoints[i] = [p[0] + x, p[1] + y];\r\n        }\r\n\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    /**\r\n     * Rotating {@link ComplexShapeCreator.currentPoints} by angle\r\n     * @param angle value of angle\r\n     * @param clockwise true if clockwise rotation, false if counter-clockwise rotation\r\n     * @param radians true if angle value is in radians, false if angle value is in degrees\r\n     */\r\n    public static rotatePoints(angle: number, clockwise: boolean, radians: boolean): void {\r\n        // p.x' = cos(angle) * (p.x - cx) - sin(angle) * (p.y - cy) + cx\r\n        // p.y' = sin(angle) * (p.x - cx) + cos(angle) * (p.y - cy) + cy\r\n\r\n        // counter-clockwise => sin(-15deg) = -sin(15deg) and cos(-15deg) = cos(15deg)\r\n\r\n        let sinAngle, cosAngle;\r\n        if (radians) {\r\n            sinAngle = Math.sin(angle);\r\n            cosAngle = Math.cos(angle);\r\n        }\r\n        else {\r\n            sinAngle = Math.sin(angle * Math.PI / 180.0);\r\n            cosAngle = Math.cos(angle * Math.PI / 180.0);\r\n        }\r\n        if (!clockwise) {\r\n            sinAngle *= -1;\r\n        }\r\n\r\n        let centroid = ComplexShapeCreator.calculateCentroid(ComplexShapeCreator.currentPoints);\r\n        for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n            let p = ComplexShapeCreator.currentPoints[i];\r\n\r\n            let t1 = cosAngle * (p[0] - centroid[0]);\r\n            let t2 = sinAngle * (p[1] - centroid[1]);\r\n            let t3 = sinAngle * (p[0] - centroid[0]);\r\n            let t4 = cosAngle * (p[1] - centroid[1]);\r\n\r\n            ComplexShapeCreator.currentPoints[i] = [centroid[0] + t1 - t2, centroid[1] + t3 + t4];\r\n        }\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    /**\r\n     * Scaling {@link ComplexShapeCreator.currentPoints} with respect to lines parallel and perpendicular to {@link ComplexShapeCreator.oxAxis}\r\n     * @param kx scaling factor with respect to the parallel line \r\n     * @param ky scaling factor with respect to the perpendicular line \r\n     */\r\n    public static scalePoints(kx: number, ky: number): void {\r\n        let s = ComplexShapeCreator.currentPoints;\r\n        let oxAxis = ComplexShapeCreator.oxAxis;\r\n        let v = [s[oxAxis[1]][0] - s[oxAxis[0]][0], s[oxAxis[1]][1] - s[oxAxis[0]][1]];\r\n        let v_module = ComplexShapeCreator.calculateSideLength([s[0], s[1]]);\r\n        let nx = -v[1] / v_module;\r\n        let ny = v[0] / v_module;\r\n\r\n        let centroid = ComplexShapeCreator.calculateCentroid(ComplexShapeCreator.currentPoints);\r\n\r\n        // direction perpendicular to oxAxis\r\n        for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n            let p = ComplexShapeCreator.currentPoints[i];\r\n            let newX = (1 + (ky - 1) * nx * nx) * (p[0] - centroid[0]) + ((ky - 1) * nx * ny) * (p[1] - centroid[1]) + centroid[0];\r\n            let newY = ((ky - 1) * nx * ny) * (p[0] - centroid[0]) + (1 + (ky - 1) * ny * ny) * (p[1] - centroid[1]) + centroid[1];\r\n\r\n            ComplexShapeCreator.currentPoints[i] = [newX, newY];\r\n        }\r\n\r\n        nx = v[0] / v_module;\r\n        ny = v[1] / v_module;\r\n\r\n        // direction parallel to oxAxis\r\n        for (let i = 0; i < ComplexShapeCreator.currentPoints.length; i++) {\r\n            let p = ComplexShapeCreator.currentPoints[i];\r\n            let newX = (1 + (kx - 1) * nx * nx) * (p[0] - centroid[0]) + ((kx - 1) * nx * ny) * (p[1] - centroid[1]) + centroid[0];\r\n            let newY = ((kx - 1) * nx * ny) * (p[0] - centroid[0]) + (1 + (kx - 1) * ny * ny) * (p[1] - centroid[1]) + centroid[1];\r\n\r\n            ComplexShapeCreator.currentPoints[i] = [newX, newY];\r\n        }\r\n\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    /**\r\n     * Inversion of {@link ComplexShapeCreator.currentPoints} with respect to the mid perpendicular of segment created by 2 first points of {@link ComplexShapeCreator.currentPoints}\r\n     */\r\n    public static reverse(): void {\r\n        let p0 = ComplexShapeCreator.currentPoints[0];\r\n        let p1 = ComplexShapeCreator.currentPoints[1];\r\n\r\n        let theta = Math.atan2(p1[1] - p0[1], p1[0] - p0[0]);\r\n\r\n        if (Math.abs(theta) < 0.5) { // under ComplexShapeCreator threshold trigonometric functions become inaccurate - creating bigger difference\r\n            ComplexShapeCreator.rotatePoints(1, false, true);\r\n\r\n            p0 = ComplexShapeCreator.currentPoints[0];\r\n            p1 = ComplexShapeCreator.currentPoints[1];\r\n\r\n            theta = Math.atan2(p1[1] - p0[1], p1[0] - p0[0])\r\n        }\r\n        ComplexShapeCreator.rotatePoints(theta, false, true);\r\n\r\n        p1 = ComplexShapeCreator.currentPoints[1];\r\n        let p2 = ComplexShapeCreator.currentPoints[2];\r\n        let p3 = ComplexShapeCreator.currentPoints[3];\r\n\r\n        let dx = p2[0] - p1[0];\r\n        let dy = p2[1] - p3[1];\r\n\r\n        ComplexShapeCreator.currentPoints[0][0] += dx;\r\n        ComplexShapeCreator.currentPoints[1][0] += dx;\r\n        ComplexShapeCreator.currentPoints[2][0] -= dx;\r\n        ComplexShapeCreator.currentPoints[3][0] -= dx;\r\n\r\n        ComplexShapeCreator.currentPoints[0][1] -= dy;\r\n        ComplexShapeCreator.currentPoints[1][1] -= dy;\r\n        ComplexShapeCreator.currentPoints[2][1] += dy;\r\n        ComplexShapeCreator.currentPoints[3][1] += dy;\r\n\r\n        ComplexShapeCreator.rotatePoints(theta, true, true);\r\n    }\r\n\r\n    /**\r\n     * Setting coordinates of moving point\r\n     * @param x X coordinate to set\r\n     * @param y Y coordinate to set\r\n     */\r\n    public static setMovingPointCoordinate(x: number, y: number): void {\r\n        ComplexShapeCreator.currentPoints[ComplexShapeCreator.parsedSidesOrder[ComplexShapeCreator.transformationsCounter][2]] = [x, y];\r\n        Canvas.drawPromptingPolygon(ComplexShapeCreator.currentPoints);\r\n    }\r\n\r\n    /**\r\n   * Converting point coordinates from normal values to unit values using in {@link ComplexShapeCreator.fullConfigurePolygon}\r\n   * @param point array with point coordinates\r\n   * @returns array with converted point coordinates to unit form\r\n   */\r\n    public static toUnit(point: [number, number]): [number, number] {\r\n        let cx = Canvas.getWidth() / 2;\r\n        let cy = Canvas.getHeight() / 2;\r\n        let unit = ComplexShapeCreator.getUnit();\r\n\r\n        return [(point[0] - cx) / unit, (point[1] - cy) / unit];\r\n    }\r\n\r\n    /**\r\n     * Calculating length of side\r\n     * @param ends array with arrays representing point coordinates\r\n     * @returns length of side\r\n     */\r\n    public static calculateSideLength(ends: [[number, number], [number, number]]): number {\r\n        let dx = ends[0][0] - ends[1][0];\r\n        let dy = ends[0][1] - ends[1][1];\r\n\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n    /**\r\n     * Finding the point on the circle closest to a given point \r\n     * @param p X coordinate of circle center\r\n     * @param q Y coordinate of circle center\r\n     * @param r circle radius length\r\n     * @param x X coordinate of given point\r\n     * @param y Y coordinate of given point\r\n     * @returns array with result point coordnates \r\n     */\r\n    public static getCoordsOnCircle(p: number, q: number, r: number, x: number, y: number): [number, number] {\r\n        if (Canvas.compareNumbers(x - p, 0, 0.1)) {\r\n            if (y > q) {\r\n                return [p, q + r];\r\n            }\r\n            else {\r\n                [p, q - r];\r\n            }\r\n        }\r\n        else {\r\n            let a = (y - q) / (x - p);\r\n            let b = y - a * x;\r\n\r\n            if (Canvas.compareNumbers(a, 0, 0.01)) { a = 0; }\r\n            if (Canvas.compareNumbers(b, 0, 0.01)) { b = 0; }\r\n\r\n            let A = 1 + a * a;\r\n            let B = -2 * p + 2 * a * b - 2 * a * q;\r\n            let C = p * p + b * b + q * q - r * r - 2 * b * q;\r\n\r\n            let delta = B * B - 4 * A * C;\r\n\r\n            if (Canvas.compareNumbers(delta, 0, 0.01)) { delta = 0; }\r\n\r\n            if (x < p) {\r\n                let x1 = (-B - Math.sqrt(delta)) / (2 * A);\r\n                let y1 = a * x1 + b;\r\n                return [x1, y1];\r\n            }\r\n            else {\r\n                let x2 = (-B + Math.sqrt(delta)) / (2 * A);\r\n                let y2 = a * x2 + b;\r\n                return [x2, y2];\r\n            }\r\n        }\r\n\r\n        return [x, y];\r\n    }\r\n\r\n    /**\r\n     * Checking if angle is obtuse\r\n     * @param p1 array with coordinates of first point\r\n     * @param p2 array with coordinates of second point - vertex\r\n     * @param p3 array with coordinates of third point\r\n     * @returns true if angle is obtuse, false otherwise\r\n     */\r\n    public static angleIsObtuse(p1: [number, number], p2: [number, number], p3: [number, number]): boolean {\r\n        let s1 = ComplexShapeCreator.calculateSideLength([p1, p2]);\r\n        let s2 = ComplexShapeCreator.calculateSideLength([p2, p3]);\r\n        let s3 = ComplexShapeCreator.calculateSideLength([p3, p1]);\r\n        let sidesto2 = [s1 * s1, s2 * s2, s3 * s3];\r\n\r\n        return (sidesto2[0] + sidesto2[1]) < sidesto2[2];\r\n    }\r\n\r\n    /**\r\n     * Checking if triangle is acute triangle\r\n     * @param vertices array with arrays representing triangle vertices\r\n     * @returns true if triangle is acute, false otherwise\r\n     */\r\n    public static triangleIsAcute(vertices: [number, number][]): boolean {\r\n        let s1 = ComplexShapeCreator.calculateSideLength([vertices[0], vertices[1]]);\r\n        let s2 = ComplexShapeCreator.calculateSideLength([vertices[1], vertices[2]]);\r\n        let s3 = ComplexShapeCreator.calculateSideLength([vertices[2], vertices[0]]);\r\n        let sidesto2 = [s1 * s1, s2 * s2, s3 * s3];\r\n        for (let i = 0; i < 3; i++) {\r\n            if (sidesto2[i] + sidesto2[(i + 1) % 3] < sidesto2[(i + 2) % 3])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Checking if triangle is obtuse angle\r\n     * @param vertices array with arrays representing triangle vertices\r\n     * @returns true if triangle is obtuse, false otherwise\r\n     */\r\n    public static triangleIsObtuse(vertices: [number, number][]): boolean {\r\n        let s1 = ComplexShapeCreator.calculateSideLength([vertices[0], vertices[1]]);\r\n        let s2 = ComplexShapeCreator.calculateSideLength([vertices[1], vertices[2]]);\r\n        let s3 = ComplexShapeCreator.calculateSideLength([vertices[2], vertices[0]]);\r\n        let sidesto2 = [s1 * s1, s2 * s2, s3 * s3];\r\n        for (let i = 0; i < 3; i++) {\r\n            if (sidesto2[i] + sidesto2[(i + 1) % 3] < sidesto2[(i + 2) % 3])\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Process data after selection new shape.\r\n     */\r\n    private static afterClickedOnShape(): void {\r\n        ComplexShapeCreator.counter += 1;\r\n\r\n        if (ComplexShapeCreator.counter == ComplexShapeCreator.shapesToClick.length) {\r\n            ComplexShapeCreator.cancelChoosing();\r\n            ComplexShapeCreator.functionToDo.apply(null);\r\n        }\r\n        else {\r\n            let shapesToActivate: number[] = [];\r\n            ComplexShapeCreator.segmentEndsChoosing.forEach(element => {\r\n                shapesToActivate.push(element);\r\n            });\r\n\r\n            ComplexShapeCreator.shapesClicked.forEach(element => {\r\n                if (element.length == 1) {\r\n                    shapesToActivate.push(element[0]);\r\n                }\r\n                else {\r\n                    shapesToActivate.push(element[0]);\r\n                    shapesToActivate.push(element[1]);\r\n                }\r\n            });\r\n            Canvas.activateShapes(shapesToActivate);\r\n\r\n            ComplexShapeCreator.instructionToSet$.next(ComplexShapeCreator.getInstructions());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get text of instructions to display on dashboard.\r\n     * @returns text of instructions to display on dashboard\r\n     */\r\n    private static getInstructions(): string {\r\n        let instructions = 0;\r\n        let result = \"\";\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.EXISTING_POINT)) {\r\n            result += \"choose point\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_CANVAS)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"click on canvas\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_SEGMENT)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"click on segment\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.NEW_POINT_CLICK_ON_CIRCLE)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"click on circle\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.SEGMENT)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"choose segment\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.SEGMENT_ENDS)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"choose segment ends\";\r\n            instructions += 1;\r\n        }\r\n        if (ComplexShapeCreator.shapesToClick[ComplexShapeCreator.counter].includes(ShapeToSelect.CIRCLE)) {\r\n            if (instructions > 0)\r\n                result += \" or \";\r\n            result += \"choose circle\";\r\n            instructions += 1;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Calculating centroid of polygon\r\n     * @param points array with 2-element arrays representing polygon vertices\r\n     * @returns 2-element array with X and Y coordinate of centroid\r\n     */\r\n    private static calculateCentroid(points: [number, number][]): [number, number] {\r\n        let centroidX = 0, centroidY = 0, signedArea = 0;\r\n\r\n        for (let i = 0; i < points.length; i++) {\r\n            let x0 = points[i][0];\r\n            let y0 = points[i][1];\r\n            let x1 = points[(i + 1) % points.length][0];\r\n            let y1 = points[(i + 1) % points.length][1];\r\n\r\n            let A = (x0 * y1) - (x1 * y0);\r\n            signedArea += A;\r\n\r\n            centroidX += (x0 + x1) * A;\r\n            centroidY += (y0 + y1) * A;\r\n        }\r\n\r\n        signedArea *= 0.5;\r\n        centroidX = (centroidX) / (6 * signedArea);\r\n        centroidY = (centroidY) / (6 * signedArea);\r\n\r\n        return [centroidX, centroidY];\r\n    }\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ComplexShapeCreator } from './complex-shape-creator/complex-shapes-creator';\r\n\r\n@Component({\r\n  selector: 'app-shapes-creator',\r\n  templateUrl: './shapes-creator.component.html',\r\n  styleUrls: ['./../dashboard.component.css']\r\n})\r\nexport class ShapesCreatorComponent implements OnInit {\r\n  public static displayShapesCreator$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n  displayComplexShapeCreator = false;\r\n\r\n  constructor() {\r\n    ComplexShapeCreator.displayComplexShapeCreator$.subscribe(value => {\r\n      this.displayComplexShapeCreator = value;\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n}\r\n","<div *ngIf=\"!displayComplexShapeCreator\" style=\"height: 100%; width: 100%;\">\r\n    <div class=\"d-flex flex-column\" style=\"height: 100%; width: 100%;\">\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-point></app-point>\r\n            <app-segment></app-segment>\r\n            <app-line></app-line>\r\n            <app-semiline></app-semiline>\r\n            <app-circle></app-circle>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-perpendicularity></app-perpendicularity>\r\n            <app-parallelism></app-parallelism>\r\n            <app-mid-perpendicular></app-mid-perpendicular>\r\n            <app-bisector></app-bisector>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-set-length></app-set-length>\r\n            <app-set-angle-value></app-set-angle-value>\r\n            <app-divide-segment></app-divide-segment>\r\n            <app-divide-angle></app-divide-angle>\r\n            <app-tangent-circle></app-tangent-circle>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-equal-segments></app-equal-segments>\r\n            <app-equal-angles></app-equal-angles>\r\n            <app-inscribed-circle></app-inscribed-circle>\r\n            <app-circumscribed-circle></app-circumscribed-circle>\r\n            <app-escribed-circle></app-escribed-circle>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-triangle></app-triangle>\r\n            <app-square></app-square>\r\n            <app-rectangle></app-rectangle>\r\n            <app-polygon></app-polygon>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-parallelogram></app-parallelogram>\r\n            <app-kite></app-kite>\r\n            <app-rhombus></app-rhombus>\r\n            <app-trapezoid></app-trapezoid>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-median></app-median>\r\n            <app-altitude></app-altitude>\r\n            <app-mid-segment></app-mid-segment>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"d-flex flex-row icons-row\">\r\n            <app-process-data></app-process-data>\r\n            <app-save-scheme></app-save-scheme>\r\n            <app-load-scheme></app-load-scheme>\r\n            <app-clear-canvas></app-clear-canvas>\r\n        </div>\r\n        <div class=\"spacer\"></div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"displayComplexShapeCreator\" style=\"height: 100%; width: 100%;\">\r\n    <app-complex-shape-creator></app-complex-shape-creator>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./../app.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  public user: any;\r\n\r\n  constructor(public _userService: UserService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.user = {\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  login() {\r\n    this._userService.login({ 'username': this.user.username, 'password': this.user.password });\r\n  }\r\n\r\n  loginAsAnonymousUser() {\r\n    this._userService.login({ 'username': 'Anonymous', 'password': 'anonymous-password' });\r\n  }\r\n}\r\n","<div class=\"d-flex justify-content-center\" style=\"height: 100vh;\">\r\n    <div class=\"container d-flex h-100\">\r\n        <div class=\"row justify-content-center align-self-center\" style=\"border: medium solid #5E738E;\">\r\n            <div class=\"d-flex flex-column\" style=\"width:40%;\">\r\n                <img src=\"/static/imgs/MeetKundeLogoWhite.svg\" alt=\"MeetKunde Logo\">\r\n            </div>\r\n            <div class=\"d-flex flex-column\">\r\n                <div class=\"container h-100\">\r\n                    <div class=\"row h-100 justify-content-center align-items-center\">\r\n                        <div class=\"colum justify-content-start\">\r\n                            <div class=\"col-sm-4\" style=\"margin-bottom: 20px;\">\r\n                                <label>Username:</label><br />\r\n                                <input type=\"text\" name=\"login-username\" [(ngModel)]=\"user.username\">\r\n                            </div>\r\n                            <div class=\"col-sm-4\" style=\"margin-bottom: 20px;\">\r\n                                <label>Password:</label><br />\r\n                                <input type=\"password\" name=\"login-password\" [(ngModel)]=\"user.password\">\r\n                            </div>\r\n                            <div class=\"col-sm-4\" style=\"margin-bottom: 20px;\">\r\n                                <button (click)=\"login()\" class=\"btn my-btn\">\r\n                                    Log In\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"col-sm-4\" style=\"margin-bottom: 20px;\">\r\n                                <button (click)=\"loginAsAnonymousUser()\" class=\"btn my-btn\">\r\n                                    Be Anonymous\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"col-sm-4\" style=\"margin-bottom: 20px;\">\r\n                                <br /><span>{{ _userService.error }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { UserService } from './user.service';\r\n\r\n@Injectable()\r\nexport class SchemeService {\r\n\r\n  constructor(private http: HttpClient, private _userService: UserService) { }\r\n\r\n  list() {\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + this._userService.accessToken\r\n      })\r\n    };\r\n    return this.http.get('/api/schemes', httpOptions);\r\n  }\r\n\r\n  create(scheme: any) {\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + this._userService.accessToken\r\n      })\r\n    };\r\n    return this.http.post('/api/schemes', JSON.stringify(scheme), httpOptions);\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  // http options used for making API calls\r\n  private httpOptions: any;\r\n\r\n  /** Actual JWT access token. */\r\n  public accessToken: string | null;\r\n\r\n  /** Actual JWT refresh token. */\r\n  public refreshToken: string | null;\r\n\r\n  // the token expiration date\r\n  public token_expires: Date | null;\r\n\r\n  // the username of the logged in user\r\n  public username: string | null;\r\n\r\n  // error messages received from the login attempt\r\n  public error: any;\r\n\r\n  constructor(private http: HttpClient) {\r\n    this.httpOptions = {\r\n      headers: new HttpHeaders({ 'Content-Type': 'application/json' })\r\n    };\r\n\r\n    this.accessToken = null;\r\n    this.refreshToken = null;\r\n    this.token_expires = null;\r\n    this.username = null;\r\n    this.error = null;\r\n  }\r\n\r\n  public login(user: any) {\r\n    this.http.post('/api-token-auth/', JSON.stringify(user), this.httpOptions).subscribe(\r\n      data => {\r\n        if (data instanceof ArrayBuffer) { return }\r\n        const token1 = data['access'];\r\n        const token2 = data['refresh'];\r\n        this.updateData(token1, token2);\r\n        this.username = user['username'];\r\n      },\r\n      err => {\r\n        this.error = err['error']['detail'];\r\n      }\r\n    );\r\n  }\r\n\r\n  public refresh() {\r\n    this.http.post('/api-token-refresh/', JSON.stringify({ refresh: this.refreshToken }), this.httpOptions).subscribe(\r\n      data => {\r\n        if (data instanceof ArrayBuffer) { return }\r\n        const token = data['access'];\r\n        this.updateData(token, this.refreshToken!);\r\n\r\n      },\r\n      err => {\r\n        this.error = err['error']['detail'];\r\n      }\r\n    );\r\n  }\r\n\r\n  public logout() {\r\n    this.accessToken = null;\r\n    this.refreshToken = null;\r\n    this.token_expires = null;\r\n    this.username = null;\r\n  }\r\n\r\n  private updateData(accessToken: string, refreshToken: string) {\r\n    this.accessToken = accessToken;\r\n    this.refreshToken = refreshToken;\r\n    this.error = null;\r\n\r\n    // decode the token to read the username and expiration timestamp\r\n    const token_parts = this.accessToken.split(/\\./);\r\n    const token_decoded = JSON.parse(window.atob(token_parts[1]));\r\n    this.token_expires = new Date(token_decoded.exp * 1000);\r\n  }\r\n\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\n\r\nexport const environment = {\r\n  production: false,\r\n  WS_ENDPOINT: 'ws://127.0.0.1:8000/ws/'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */","/* (ignored) */"],"names":["Module","moduleOverrides","Object","assign","arguments_","thisProgram","quit_","status","toThrow","ENVIRONMENT_IS_WEB","window","ENVIRONMENT_IS_WORKER","importScripts","ENVIRONMENT_IS_NODE","process","versions","node","ENVIRONMENT_IS_SHELL","Error","scriptDirectory","locateFile","path","read_","readAsync","readBinary","setWindowTitle","logExceptionOnExit","e","ExitStatus","toLog","stack","err","fs","nodePath","requireNodeFS","require","dirname","__dirname","shell_read","filename","binary","readFileSync","undefined","ret","buffer","Uint8Array","assert","onload","onerror","readFile","data","length","replace","slice","module","ex","reason","keepRuntimeAlive","read","f","readbuffer","setTimeout","scriptArgs","arguments","quit","print","console","log","warn","error","printErr","self","location","href","document","currentScript","src","indexOf","substr","lastIndexOf","url","xhr","XMLHttpRequest","open","send","responseText","responseType","response","title","out","bind","checkIncomingModuleAPI","legacyModuleProp","IDBFS","PROXYFS","WORKERFS","NODEFS","STACK_ALIGN","POINTER_SIZE","getNativeTypeSize","type","bits","Number","warnOnce","text","shown","convertJsFunctionToWasm","func","sig","WebAssembly","Function","typeNames","parameters","results","i","push","typeSection","sigRet","sigParam","typeCodes","concat","bytes","instance","Instance","wrappedFunc","exports","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","pop","wasmTable","grow","RangeError","updateTableMap","offset","count","item","getWasmTableEntry","set","addFunction","WeakMap","has","get","setWasmTableEntry","TypeError","wrapped","removeFunction","index","delete","prop","newName","getOwnPropertyDescriptor","defineProperty","configurable","abort","ignoredModuleProp","unexportedMessage","sym","isFSSybol","msg","unexportedRuntimeSymbol","unexportedRuntimeFunction","tempRet0","setTempRet0","value","getTempRet0","wasmBinary","noExitRuntime","setValue","ptr","noSafe","charAt","HEAP8","HEAP16","HEAP32","tempI64","tempDouble","Math","abs","min","floor","ceil","HEAPF32","HEAPF64","getValue","wasmMemory","ABORT","EXITSTATUS","condition","getCFunc","ident","ccall","returnType","argTypes","args","opts","toC","str","len","stackAlloc","stringToUTF8","arr","writeArrayToMemory","convertReturnValue","UTF8ToString","Boolean","cArgs","converter","stackSave","apply","onDone","stackRestore","cwrap","ALLOC_NORMAL","ALLOC_STACK","allocate","slab","allocator","_malloc","subarray","HEAPU8","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","endIdx","endPtr","decode","u0","String","fromCharCode","u1","u2","toString","ch","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","u","charCodeAt","outPtr","lengthBytesUTF8","AsciiToString","stringToAscii","writeAsciiToMemory","UTF16Decoder","UTF16ToString","maxIdx","HEAPU16","codeUnit","stringToUTF16","startPtr","numCharsToWrite","lengthBytesUTF16","UTF32ToString","utf32","stringToUTF32","trailSurrogate","lengthBytesUTF32","allocateUTF8","size","allocateUTF8OnStack","writeStringToMemory","string","dontAddNull","lastChar","end","Infinity","array","HEAP","HEAPU32","updateGlobalBufferAndViews","buf","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Float32Array","Float64Array","TOTAL_STACK","INITIAL_MEMORY","prototype","writeStackCookie","max","_emscripten_stack_get_end","checkStackCookie","cookie1","cookie2","h16","h8","__ATPRERUN__","__ATINIT__","__ATEXIT__","__ATPOSTRUN__","runtimeInitialized","preRun","addOnPreRun","shift","callRuntimeCallbacks","initRuntime","FS","init","initialized","ignorePermissions","TTY","postRun","addOnPostRun","cb","unshift","addOnInit","addOnExit","imul","fround","clz32","trunc","runDependencies","runDependencyWatcher","dependenciesFulfilled","runDependencyTracking","getUniqueRunDependency","id","orig","random","addRunDependency","setInterval","clearInterval","dep","removeRunDependency","callback","what","RuntimeError","dataURIPrefix","isDataURI","startsWith","isFileURI","createExportWrapper","name","fixedasm","displayName","asm","wasmBinaryFile","getBinary","file","getBinaryPromise","fetch","credentials","then","catch","Promise","resolve","reject","wasmOffsetConverter","WasmOffsetConverter","wasmBytes","wasmModule","funcidx","offset_map","func_starts","name_map","import_functions","unsignedLEB128","result","byte","skipLimits","flags","hasMax","binary_parse","start","sections","customSections","convert","getIndex","lo","hi","mid","isSameFunc","offset1","offset2","getName","resetPrototype","constructor","attrs","object","create","createWasm","info","asmLibraryArg","receiveInstance","trueModule","receiveInstantiationResult","instantiateArrayBuffer","receiver","savedBinary","instantiate","instantiateAsync","instantiateStreaming","clonedResponsePromise","clone","arrayBuffer","instantiationResult","arrayBufferResult","ASM_CONSTS","withBuiltinMalloc","setting","stderr","isTTY","callbacks","arg","withStackSave","demangle","demangleAll","regex","x","y","wasmTableMirror","funcPtr","handleException","jsStackTrace","stackTrace","js","___assert_fail","line","___cxa_allocate_exception","ExceptionInfo","excPtr","set_type","get_type","set_destructor","destructor","get_destructor","set_refcount","refcount","set_caught","caught","get_caught","set_rethrown","rethrown","get_rethrown","add_ref","release_ref","prev","CatchInfo","free","_free","set_base_ptr","basePtr","get_base_ptr","set_adjusted_ptr","adjustedPtr","get_adjusted_ptr_addr","get_adjusted_ptr","get_exception_ptr","isPointer","___cxa_is_pointer_type","get_exception_info","adjusted","exceptionCaught","exception_addRef","uncaughtExceptionCount","___cxa_begin_catch","catchInfo","exceptionLast","___cxa_free_exception","exception_decRef","___cxa_end_catch","_setThrew","___resumeException","catchInfoPtr","___cxa_find_matching_catch_2","thrown","thrownType","typeArray","Array","call","caughtType","___cxa_can_catch","___cxa_find_matching_catch_3","___cxa_find_matching_catch_4","___cxa_get_exception_ptr","___cxa_rethrow","___cxa_throw","___cxa_uncaught_exceptions","PATH","splitPath","splitPathRe","exec","normalizeArray","parts","allowAboveRoot","up","last","splice","normalize","isAbsolute","trailingSlash","split","filter","p","join","root","dir","basename","lastSlash","extname","paths","join2","l","r","getRandomDevice","crypto","randomBuffer","getRandomValues","crypto_module","PATH_FS","resolvedPath","resolvedAbsolute","cwd","relative","from","to","trim","fromParts","toParts","samePartsLength","outputParts","ttys","shutdown","register","dev","ops","input","output","registerDevice","stream_ops","stream","tty","rdev","ErrnoError","seekable","close","flush","pos","get_char","bytesRead","timestamp","Date","now","write","put_char","default_tty_ops","BUFSIZE","Buffer","alloc","readSync","stdin","fd","includes","prompt","readline","intArrayFromString","val","default_tty1_ops","zeroMemory","address","fill","alignMemory","alignment","mmapAlloc","_emscripten_builtin_memalign","MEMFS","ops_table","mount","createNode","parent","mode","isBlkdev","isFIFO","getattr","node_ops","setattr","lookup","mknod","rename","unlink","rmdir","readdir","symlink","llseek","mmap","msync","link","readlink","chrdev","chrdev_stream_ops","isDir","contents","isFile","usedBytes","isLink","isChrdev","getFileDataAsTypedArray","expandFileStorage","newCapacity","prevCapacity","CAPACITY_DOUBLING_MAX","oldContents","resizeFileStorage","newSize","attr","ino","nlink","uid","gid","atime","mtime","ctime","blksize","blocks","genericErrors","old_node","new_dir","new_name","new_node","lookupNode","entries","key","hasOwnProperty","newname","oldpath","position","canOwn","ArrayBuffer","whence","prot","allocated","byteOffset","mmapFlags","bytesWritten","asyncLoad","noRunDep","event","ERRNO_MESSAGES","ERRNO_CODES","mounts","devices","streams","nextInode","nameTable","currentPath","filesystems","syncFSRequests","lookupPath","defaults","follow_mount","recurse_count","current","current_path","islast","isMountpoint","mounted","follow","getPath","isRoot","mountpoint","hashName","parentid","hash","hashAddNode","name_next","hashRemoveNode","errCode","mayLookup","nodeName","FSNode","destroyNode","isSocket","flagModes","modeStringToFlags","flagsToPermissionString","flag","perms","nodePermissions","mayCreate","mayDelete","isdir","errno","mayOpen","MAX_OPEN_FDS","nextfd","fd_start","fd_end","getStream","createStream","FSStream","isRead","isWrite","isAppend","closeStream","device","getDevice","major","minor","makedev","ma","mi","getMounts","check","m","syncfs","populate","completed","doCallback","done","errored","forEach","pseudo","mountRoot","unmount","keys","next","mkdir","mkdirTree","dirs","d","mkdev","newpath","old_path","new_path","old_dirname","new_dirname","old_name","old_dir","stat","dontFollow","lstat","chmod","lchmod","fchmod","chown","lchown","fchown","truncate","ftruncate","utime","created","ungotten","readFiles","isClosed","getdents","seeking","munmap","ioctl","cmd","encoding","writeFile","actualNumBytes","isView","byteLength","chdir","createDefaultDirectories","createDefaultDevices","random_device","createDevice","createSpecialDirectories","proc_self","createStandardStreams","stdout","ensureErrnoError","setErrno","code","message","writable","staticInit","___stdio_exit","getMode","canRead","canWrite","findObject","dontResolveLastLink","analyzePath","exists","parentExists","parentPath","parentObject","createPath","reverse","part","createFile","properties","createDataFile","forceLoadFile","obj","isDevice","isFolder","createLazyFile","LazyUint8Array","lengthKnown","chunks","LazyUint8Array_get","chunkOffset","chunkSize","chunkNum","getter","setDataGetter","LazyUint8Array_setDataGetter","cacheLength","LazyUint8Array_cacheLength","datalength","getResponseHeader","header","hasByteServing","usesGzip","doXHR","setRequestHeader","overrideMimeType","lazyArray","_length","_chunkSize","defineProperties","fn","forceLoadLazyFile","createPreloadedFile","dontCreateFile","preFinish","fullname","processData","byteArray","finish","Browser","handledByPreloadPlugin","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","DB_NAME","pathname","DB_VERSION","DB_STORE_NAME","saveFilesToDB","openRequest","onupgradeneeded","db","createObjectStore","onsuccess","transaction","files","objectStore","ok","fail","total","putRequest","put","loadFilesFromDB","getRequest","absolutePath","createFolder","createLink","joinPath","standardizePath","SYSCALLS","DEFAULT_POLLMASK","calculateAt","dirfd","allowEmpty","dirstream","doStat","getTime","doMsync","addr","doMkdir","doMknod","doReadlink","bufsize","endChar","doAccess","amode","doReadv","iov","iovcnt","curr","doWritev","varargs","getStr","getStreamFromFD","get64","low","high","___syscall_dup","old","___syscall_newfstatat","nofollow","___syscall_openat","__embind_register_bigint","primitiveType","minRange","maxRange","getShiftFromSize","embind_init_charCodes","codes","embind_charCodes","readLatin1String","c","awaitingDependencies","registeredTypes","typeDependencies","char_0","char_9","makeLegalFunctionName","createNamedFunction","body","extendError","baseErrorType","errorName","errorClass","BindingError","throwBindingError","InternalError","throwInternalError","whenDependentTypesAreResolved","myTypes","dependentTypes","getTypeConverters","onComplete","typeConverters","myTypeConverters","registerType","unregisteredTypes","registered","dt","rawType","registeredInstance","options","ignoreDuplicateRegistrations","__embind_register_bool","trueValue","falseValue","wt","destructors","o","pointer","destructorFunction","ClassHandle_isAliasOf","other","ClassHandle","leftClass","$$","ptrType","registeredClass","left","rightClass","right","baseClass","upcast","shallowCopyInternalPointer","deleteScheduled","preservePointerOnDelete","smartPtr","smartPtrType","throwInstanceAlreadyDeleted","getInstanceTypeName","handle","finalizationRegistry","detachFinalizer","runDestructor","rawDestructor","releaseClassHandle","toDelete","downcastPointer","ptrClass","desiredClass","rv","downcast","registeredPointers","getInheritedInstanceCount","registeredInstances","getLiveInheritedInstances","k","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","init_embind","getBasestPointer","class_","getInheritedInstance","makeClassHandle","record","hasSmartPtrType","hasSmartPtr","attachFinalizer","RegisteredPointer_fromWireType","rawPointer","getPointee","makeDefaultHandle","isSmartPointer","instancePrototype","pointeeType","actualType","getActualType","registeredPointerRecord","toType","isConst","constPointerType","pointerType","dp","FinalizationRegistry","leakWarning","cls","captureStackTrace","unregister","ClassHandle_clone","getPrototypeOf","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","init_ClassHandle","ensureOverloadTable","proto","methodName","humanName","overloadTable","prevFunc","argCount","exposePublicSymbol","numArguments","RegisteredClass","pureVirtualFunctions","upcastPointer","constNoSmartPtrRawPointerToWireType","isReference","_embind_repr","handleClass","genericPointerToWireType","rawConstructor","sharingPolicy","clonedHandle","rawShare","Emval","toHandle","nonConstNoSmartPtrRawPointerToWireType","simpleReadValueFromPointer","RegisteredPointer_getPointee","rawGetPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","init_RegisteredPointer","RegisteredPointer","replacePublicSymbol","dynCallLegacy","substring","dynCall","getDynCaller","argCache","embind__requireFunction","signature","rawFunction","makeDynCaller","fp","UnboundTypeError","getTypeName","___getTypeName","throwUnboundTypeError","types","unboundTypes","seen","visit","map","__embind_register_class","rawPointerType","rawConstPointerType","baseClassRawType","getActualTypeSignature","upcastSignature","downcastSignature","destructorSignature","legalFunctionName","base","basePrototype","constructor_body","referenceConverter","pointerConverter","constPointerConverter","heap32VectorToArray","firstElement","runDestructors","del","__embind_register_class_constructor","rawClassType","rawArgTypesAddr","invokerSignature","invoker","rawArgTypes","classType","craftInvokerFunction","new_","argumentList","dummy","cppInvokerFunc","cppTargetFunc","isClassMethodFunc","needsDestructorStack","returns","argsList","argsListWired","invokerFnBody","dtorStack","args1","args2","paramName","invokerFunction","__embind_register_class_function","rawInvoker","context","isPureVirtual","Symbol","unboundTypesHandler","method","className","memberFunction","emval_free_list","emval_handle_array","__emval_decref","count_emval_handles","get_first_emval","init_emval","toValue","__embind_register_emval","enumReadValueFromPointer","signed","__embind_register_enum","isSigned","ctor","values","requireRegisteredType","impl","__embind_register_enum_value","rawEnumType","enumValue","enumType","Enum","Value","v","t","floatReadValueFromPointer","__embind_register_float","integerReadValueFromPointer","readS8FromPointer","readU8FromPointer","readS16FromPointer","readU16FromPointer","readS32FromPointer","readU32FromPointer","__embind_register_integer","fromWireType","bitshift","isUnsignedType","checkAssertions","toTypeName","toWireType","__embind_register_memory_view","dataTypeIndex","typeMapping","TA","decodeMemoryView","__embind_register_std_string","stdStringIsUTF8","decodeStartPtr","currentBytePtr","maxRead","stringSegment","a","getLength","valueIsOfTypeString","Uint8ClampedArray","charCode","__embind_register_std_wstring","charSize","decodeString","encodeString","getHeap","lengthBytesUTF","maxReadBytes","__embind_register_void","isVoid","__emscripten_date_now","nowIsMonotonic","__emscripten_get_now_is_monotonic","__emval_incref","__emval_take_value","argv","__mmap_js","off","builtin","res","__munmap_js","_abort","readAsmConstArgsArray","readAsmConstArgs","sigPtr","isArray","readAsmConstArgsDouble","_emscripten_asm_const_int","argbuf","_emscripten_get_heap_max","_emscripten_get_module_name","_emscripten_get_now","performance","_emscripten_memcpy_big","dest","num","copyWithin","UNWIND_CACHE","convertFrameToPC","frame","match","convertPCtoSourceLocation","pc","last_get_source_pc","last_source","source","column","_emscripten_pc_get_column","prev_malloc","prev_memalign","_memalign","prev_free","_emscripten_builtin_malloc","_emscripten_builtin_free","_emscripten_pc_get_file","_emscripten_pc_get_function","_emscripten_pc_get_line","abortOnCannotGrowMemory","requestedSize","_emscripten_resize_heap","oldSize","_emscripten_return_address","level","callstack","saveInUnwindCache","_emscripten_stack_unwind_buffer","last_addr","last_stack","ENV","getExecutableName","getEnvStrings","strings","lang","navigator","languages","env","_environ_get","__environ","environ_buf","bufSize","_environ_sizes_get","penviron_count","penviron_buf_size","_fd_close","_fd_read","pnum","_fd_seek","offset_low","offset_high","newOffset","HIGH_OFFSET","DOUBLE_LIMIT","_fd_write","_getTempRet0","_llvm_eh_typeid_for","_proc_exit","procExit","_setTempRet0","__isLeapYear","year","__arraySum","sum","__MONTH_DAYS_LEAP","__MONTH_DAYS_REGULAR","__addDays","date","days","newDate","leap","getFullYear","currentMonth","getMonth","daysInCurrentMonth","getDate","setDate","setMonth","setFullYear","_strftime","s","maxsize","format","tm","tm_zone","tm_sec","tm_min","tm_hour","tm_mday","tm_mon","tm_year","tm_wday","tm_yday","tm_isdst","tm_gmtoff","pattern","EXPANSION_RULES_1","rule","RegExp","WEEKDAYS","MONTHS","leadingSomething","digits","character","leadingNulls","compareByDay","date1","date2","sgn","compare","getFirstWeekStartDate","janFourth","getDay","getWeekBasedYear","thisDate","janFourthThisYear","janFourthNextYear","firstWeekStartThisYear","firstWeekStartNextYear","EXPANSION_RULES_2","twelveHour","dec31","jan1","ahead","_strftime_l","readMode","writeMode","ASSERTIONS","stringy","u8array","numBytesWritten","intArrayToString","chr","invoke_did","invoke_dii","invoke_diii","invoke_fiii","invoke_i","invoke_ii","invoke_iidd","invoke_iidddiiiiiii","invoke_iiddi","invoke_iii","invoke_iiidd","invoke_iiii","invoke_iiiii","invoke_iiiiid","invoke_iiiiii","invoke_iiiiiii","invoke_iiiiiiii","invoke_iiiiiiiiiii","invoke_iiiiiiiiiiii","invoke_iiiiiiiiiiiii","invoke_jiiii","invoke_v","invoke_vi","invoke_vid","invoke_vidd","invoke_vii","invoke_viid","invoke_viii","invoke_viiidd","invoke_viiii","invoke_viiiid","invoke_viiiii","invoke_viiiiii","invoke_viiiiiii","invoke_viiiiiiiiii","invoke_viiiiiiiiiiiiiii","___wasm_call_ctors","___embind_register_native_and_builtin_types","___errno_location","_emscripten_stack_init","_emscripten_stack_get_free","_emscripten_stack_get_base","dynCall_viijii","dynCall_jiji","dynCall_jiiii","dynCall_iiiiij","dynCall_iiiiijj","dynCall_iiiiiijj","a1","a2","sp","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","a15","calledRun","calledMain","runCaller","run","stackCheckInit","doRun","checkUnflushedContent","oldOut","oldErr","exit","implicit","ShapeToCreateEnum","ShapeToCreateEnumToRaw","NONE","ShapeToCreate","POINT","SEGMENT","LINE","SEMILINE","CIRCLE","COMPLEX_SHAPE","AngleTypeEnum","AngleTypeEnumToRaw","UNKNOWN","AngleType","CONVEX","CONCAVE","PolygonTypeEnum","PolygonTypeEnumToRaw","PolygonType","ISOSCELES_ACUTE_TRIANGLE","EQUILATERAL_TRIANGLE","SCALENE_RIGHT_TRIANGLE","ISOSCELES_RIGHT_TRIANGLE","OBTUSE_ISOSCELES_TRIANGLE","SQUARE","RECTANGLE","REGULAR_POLYGON","PARALLELOGRAM","KITE","RHOMBUS","SCALENE_TRAPEZOID","ISOSCELES_TRAPEZOID","RIGHT_TRAPEZOID","CanvasManagerInterface","width","height","drawPoint","drawSegment","drawCircle","deleteShape","setPromptingShapeStartPoint","lockInterface","unlockInterface","alert","lockUI","unlockUI","alertParser","contentAsInteger","referenceToDrawPointFunction","referenceToDrawSegmentFunction","referenceToDrawCircleFunction","referenceToDeleteShapeFunction","referenceToSetPromptingShapeStartPointFunction","referenceToUnlockInterfaceFunction","referenceToAlertFunction","manager","CanvasManager","clearCanvas","setCurrentlyCreatedShape","shapeToCreate","clickedOnCanvas","clickedOnPoint","clickedOnSegment","clickedOnCircle","setPerpendicularityDependency","line1Id","line2Id","setPerpendicularityDependencyBaseOnPoints","line1Point1Id","line1Point2Id","line2Point1Id","line2Point2Id","createPerpendicularLineToLine","lineId","pointId","setParallelismDependency","setParallelismDependencyBaseOnPoints","createParallelLineToLine","setEqualSegmentsDependencyWithEnds","segment1End1Id","segment1End2Id","segment2End1Id","segment2End2Id","setEqualSegmentsDependnecyWithIds","segment1Id","segment2Id","setEqualSegmentsDependencyWithMix","setEqualAnglesDependency","angle1Point1Id","angle1VertexId","angle1Point2Id","angle2Point1Id","angle2VertexId","angle2Point2Id","setLengthValue","end1Id","end2Id","setSegmentLengthValue","segmentId","setAngleValue","vertexId","angleType","divideSegmentWithId","n","divideSegmentWithEnds","divideAngle","ofConvexAngle","createSegmentMidPerpendicularWithId","createSegmentMidPerpendicularWithEnds","createTangentLine","circleId","createTangentCircleToLine","createTangentCircleToCircle","newCircleCenterId","externally","createAltitudeWithBaseId","baseId","createAltitudeWithBaseEnds","createMedianWithBaseId","createMedianwithBaseEnds","createMidSegmentWithArmIds","arm1Id","arm2Id","createMidSegmentWithArmEnds","arm1End1Id","arm1End2Id","arm2End1Id","arm2End2Id","createMidSegmentWithMix","createBisectorLine","point1Id","point2Id","createInscribedCircle","ids","vertexVector","vectorOfUnsignedInts","push_back","createCircumscribedCircle","createEscribedCircleWithSideId","sideId","createEscribedCircleWithSideEnds","setPolygonType","polygon","setPerpendicularLines","line1","line2","setParallelLines","setEscribedCircle","setInscribedCircle","setCircumscribedCircle","setTangentLineToCircle","setTangentCircles","circle1Id","circle2Id","setAltitude","setMedian","s1End1Id","s1End2Id","s2End1Id","s2End2Id","setMidSegment","a1End1Id","a1End2Id","a2End1Id","a2End2Id","sEnd1","sEnd2","getJsonData","JsonAsString","JSON","parse","Konva","BehaviorSubject","Appearance","DependenciesPresenter","ComplexShapeCreator","ShapesCreatorComponent","ComplexShapeEnum","Canvas","screenWidth","screenHeight","container","toastr","DIMENSION_MULTIPIER","containerID","toastrService","currentlyCreatedShape","currentlyComplexShape","pointIdCounter","shapeIdCounter","drawPromptingShapes","promptingShapeStartPoint","baseToPromptingLine","activatedShapes","pointNames","guideLineX","guideLineY","currentGuideLineX","currentGuideLineY","drawGuideLines","blockInterface$","lastCreatedPointId","lastCreatedSegmentId","lastCreatedCircleId","displayShapesCreator$","displayComplexShapeCreator$","displayDependenciesPresenter$","currentScale","maximalScale","minimalScale","stage","Stage","draggable","centeredScaling","scale","shapesLayer","Layer","batchLayer","guideLayer","highlightLayer","add","zIndex","draw","batchDraw","on","boundX","boundY","clickPosition","getRelativePointerPosition","clickX","clickY","click","findGuideLines","PERPENDICULAR_LINE","PARALLEL_LINE","drawPromptingShape","evt","preventDefault","direction","deltaY","ctrlKey","oldScale","scaleX","newScale","SCALING_INCREASE","newPos","canvaObject","getElementById","addEventListener","destroyChildren","displayPolygonMovement$","drawLine","resolveAlert","greenLine","Line","points","stroke","strokeWidth","lineJoin","closed","POINT_Z_INDEX","lockTime","getLastCreatedPointId","getLastCreatedSegmentId","getLastCreatedCircleId","waitForCalculationsProcessed","loopSearch","alertType","content","success","timeOut","progressBar","reinit","getWidth","getScreenWidth","getHeight","getScreenHeight","setCurrentyCreatedShape","shape","getCurrentyCreatedShape","setCurrentlyComplexShape","getCurrentlyComplexShape","getShapeIdCounter","getPointIdCounter","resetPromptingStartPoint","setBaseToPromptingLine","equation","getShape","find","destroy","clearBatchLayer","getSegmentEnds","segment","endCoords","getAttr","end1","end2","x_coordinate","y_coordinate","Circle","basicShapesColor","radius","pointRadius","hitStrokeWidth","pointHitStrokeWidth","mouseoverPointRadius","mouseoverShapesColor","activatedPointRadius","activatedShapesColor","cancelBubble","parseInt","showPointLabels","pointName","createPointName","nameText","Text","fontSize","textSize","fontFamily","textFont","fontStyle","textFontStyle","textColor","TEXT_Z_INDEX","setAttr","x1_coordinate","y1_coordinate","x2_coordinate","y2_coordinate","linesStrokeWidth","linesHitStrokeWidth","lineCap","linesCap","linesJoin","mouseoverLinesStrokeWidth","activatedLinesStrokeWidth","clickedOnLine","LINE_Z_INDEX","Arc","innerRadius","outerRadius","angle","rotation","fillEnabled","CIRCLE_Z_INDEX","createMovingPromptingPoint","function_on_move","promptingShapesColor","moveToTop","new_coord","setMovingPointCoordinate","movingPromptingPoint","deleteMovingPromptingPoint","waitForShapeAppear","activateShapes","shape_ids","element","drawPromptingSegment","point1_x","point1_y","point2_x","point2_y","mouse_x_position","mouse_y_position","compareNumbers","x1","x2","y1","y2","b","xs","ys","sqrt","drawPromptingPolygon","polygonPoints","epsilon","highlightPoint","fillColor","highlightPolyLine","vertices","outlineColor","coordinates","highlightAngle","arm1Point","vertexPoint","arm2Point","isConvex","ratio","highlightCircle","ratioSum","end1X","end1Y","end2X","end2Y","controlX","controlY","Shape","sceneFunc","ctx","beginPath","moveTo","quadraticCurveTo","fillStrokeShape","distance","pow","distancePart","clearHighlightedShapes","capitalLetters","minimalXdistance","POSITIVE_INFINITY","theBestX","minimalYdistance","theBestY","guideLineOffset","guideLinesColor","guideLinesStrokeWidth","dash","display_processed_data","i0","ProcessDataComponent","modalService","isTrue","onClick","triggerModal","json","rawResponse","headers","stringify","presentDependencies","new_window","closeModal","centered","keyboard","backdrop","dismissAll","selectors","viewQuery"],"sourceRoot":"webpack:///"}